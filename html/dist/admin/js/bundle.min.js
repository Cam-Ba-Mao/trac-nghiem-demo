((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()})(this,function(){var n=Object.freeze({__proto__:null,get Colors(){return _o},get Decimation(){return So},get Filler(){return zo},get Legend(){return Ho},get SubTitle(){return qo},get Title(){return Wo},get Tooltip(){return rs}});function t(){}let F=(()=>{let t=0;return()=>t++})();function A(t){return null==t}function T(t){return!(!Array.isArray||!Array.isArray(t))||"[object"===(t=Object.prototype.toString.call(t)).slice(0,7)&&"Array]"===t.slice(-6)}function P(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function g(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function d(t,e){return g(t)?t:e}function L(t,e){return void 0===t?e:t}let z=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,N=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function u(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function S(t,e,i,n){let r,o,s;if(T(t))if(o=t.length,n)for(r=o-1;0<=r;r--)e.call(i,t[r],r);else for(r=0;r<o;r++)e.call(i,t[r],r);else if(P(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(i,t[s[r]],s[r])}function j(t,e){let i,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],o=e[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function B(e){if(T(e))return e.map(B);if(P(e)){var i=Object.create(null),n=Object.keys(e),r=n.length;let t=0;for(;t<r;++t)i[n[t]]=B(e[n[t]]);return i}return e}function H(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function U(t,e,i,n){var r;H(t)&&(r=e[t],i=i[t],P(r)&&P(i)?W(r,i,n):e[t]=B(i))}function W(n,t,r){var e=T(t)?t:[t],i=e.length;if(P(n)){var o,s=(r=r||{}).merger||U;for(let t=0;t<i;++t)if(P(o=e[t])){let i=Object.keys(o);for(let t=0,e=i.length;t<e;++t)s(i[t],n,o,r)}}return n}function V(t,e){return W(t,e,{merger:q})}function q(t,e,i){var n;H(t)&&(n=e[t],i=i[t],P(n)&&P(i)?V(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=B(i)))}let Y={"":t=>t,x:t=>t.x,y:t=>t.y};function X(t){var e=t.split("."),i=[];let n="";for(let t of e)n+=t,n=n.endsWith("\\")?n.slice(0,-1)+".":(i.push(n),"");return i}function p(t,e){return(Y[e]||(Y[e]=(()=>{let i=X(e);return t=>{for(var e of i){if(""===e)break;t=t&&t[e]}return t}})()))(t)}function G(t){return t.charAt(0).toUpperCase()+t.slice(1)}let K=t=>void 0!==t,f=t=>"function"==typeof t,Z=(t,e)=>{if(t.size!==e.size)return!1;for(var i of t)if(!e.has(i))return!1;return!0};function Q(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}let E=Math.PI,b=2*E,J=b+E,tt=Number.POSITIVE_INFINITY,et=E/180,C=E/2,it=E/4,nt=2*E/3,a=Math.log10,x=Math.sign;function rt(t,e,i){return Math.abs(t-e)<i}function ot(t){var e=Math.round(t),e=(t=rt(t,e,t/1e3)?e:t,Math.pow(10,Math.floor(a(t)))),t=t/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function st(t){var e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}function at(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lt(t,e){var i=Math.round(t);return i-e<=t&&t<=i+e}function ht(t,e,i){let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function O(t){return t*(E/180)}function ct(t){return t*(180/E)}function ut(i){if(g(i)){let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}}function dt(t,e){var i=e.x-t.x,e=e.y-t.y,t=Math.sqrt(i*i+e*e);let n=Math.atan2(e,i);return n<-.5*E&&(n+=b),{angle:n,distance:t}}function ft(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pt(t,e){return(t-e+J)%b-E}function y(t){return(t%b+b)%b}function gt(t,e,i,n){var t=y(t),e=y(e),i=y(i),r=y(e-t),o=y(i-t),s=y(t-e),a=y(t-i);return t===e||t===i||n&&e===i||o<r&&s<a}function M(t,e,i){return Math.max(e,Math.min(i,t))}function mt(t){return M(t,-32768,32767)}function c(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function vt(e,i,t){t=t||(t=>e[t]<i);let n,r=e.length-1,o=0;for(;1<r-o;)t(n=o+r>>1)?o=n:r=n;return{lo:o,hi:r}}let m=(i,n,r,t)=>vt(i,r,t?t=>{var e=i[t][n];return e<r||e===r&&i[t+1][n]===r}:t=>i[t][n]<r),yt=(e,i,n)=>vt(e,n,t=>e[t][i]>=n);function bt(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return 0<n||r<t.length?t.slice(n,r):t}let xt=["push","pop","shift","splice","unshift"];function _t(r,t){r._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xt.forEach(t=>{let i="_onData"+G(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...e){var t=n.apply(this,e);return r._chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...e)}),t}})}))}function wt(e,t){var i=e._chartjs;i&&(-1!==(t=(i=i.listeners).indexOf(t))&&i.splice(t,1),0<i.length||(xt.forEach(t=>{delete e[t]}),delete e._chartjs))}function kt(t){var e=new Set(t);return e.size===t.length?t:Array.from(e)}let St="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function At(e,i){let n,r=!1;return function(...t){n=t,r||(r=!0,St.call(window,()=>{r=!1,e.apply(i,n)}))}}function Et(e,i){let n;return function(...t){return i?(clearTimeout(n),n=setTimeout(e,i,t)):e.apply(this,t),i}}let Ct=t=>"start"===t?"left":"end"===t?"right":"center",D=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,Mt=(t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e;function Tt(t,e,i){var n,r,o,s,a,l,h=e.length;let c=0,u=h;return t._sorted&&({iScale:t,_parsed:n}=t,r=t.axis,{min:o,max:s,minDefined:a,maxDefined:l}=t.getUserBounds(),a&&(c=M(Math.min(m(n,r,o).lo,i?h:m(e,r,t.getPixelForValue(o)).lo),0,h-1)),u=l?M(Math.max(m(n,t.axis,s,!0).hi+1,i?0:m(e,r,t.getPixelForValue(s),!0).hi+1),c,h)-c:h-c),{start:c,count:u}}function Pt(t){var{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};return n?(e=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max,Object.assign(n,r),e):(t._scaleRanges=r,!0)}var o=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,n,t){let r=i.listeners[t],o=i.duration;r.forEach(t=>t({chart:e,initial:i.initial,numSteps:o,currentStep:Math.min(n-i.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=St.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((n,r)=>{if(n.running&&n.items.length){var o=n.items;let t,e=o.length-1,i=!1;for(;0<=e;--e)(t=o[e])._active?(t._total>n.duration&&(n.duration=t._total),t.tick(s),i=!0):(o[e]=o[o.length-1],o.pop());i&&(r.draw(),this._notify(r,n,s,"progress")),o.length||(n.running=!1,this._notify(r,n,s,"complete"),n.initial=!1),a+=o.length}}),this._lastDate=s,0===a&&(this._running=!1)}_getAnims(t){var e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return 0<this._getAnims(t).items.length}start(t){t=this._charts.get(t);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){return!!this._running&&!!((t=this._charts.get(t))&&t.running&&t.items.length)}stop(e){var i=this._charts.get(e);if(i&&i.items.length){var n=i.items;let t=n.length-1;for(;0<=t;--t)n[t].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}}remove(t){return this._charts.delete(t)}};function Lt(t){return t+.5|0}let Ot=(t,e,i)=>Math.max(Math.min(t,i),e);function Dt(t){return Ot(Lt(2.55*t),0,255)}function It(t){return Ot(Lt(255*t),0,255)}function s(t){return Ot(Lt(t/2.55)/100,0,1)}function $t(t){return Ot(Lt(100*t),0,100)}let l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rt=[..."0123456789ABCDEF"],Ft=t=>Rt[15&t],zt=t=>Rt[(240&t)>>4]+Rt[15&t],Nt=t=>(240&t)>>4==(15&t);let jt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bt(i,t,n){let r=t*Math.min(n,1-n),e=(t,e=(t+i/30)%12)=>n-r*Math.max(Math.min(e-3,9-e,1),-1);return[e(0),e(8),e(4)]}function Ht(i,n,r){var t=(t,e=(t+i/60)%6)=>r-r*n*Math.max(Math.min(e,4-e,1),0);return[t(5),t(3),t(1)]}function Ut(t,e,i){var n=Bt(t,1,.5);let r;for(1<e+i&&(e*=r=1/(e+i),i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function Wt(t){var e=t.r/255,i=t.g/255,t=t.b/255,n=Math.max(e,i,t),r=Math.min(e,i,t),o=(n+r)/2;let s,a,l;return n!==r&&(l=n-r,a=.5<o?l/(2-n-r):l/(n+r),s=60*(s=(r=i,i=t,(t=e)===n?(r-i)/l+(r<i?6:0):r===n?(i-t)/l+2:(t-r)/l+4))+.5),[0|s,a||0,o]}function Vt(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(It)}function qt(t,e,i){return Vt(Bt,t,e,i)}function Yt(t){return(t%360+360)%360}let Xt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},Kt;function Zt(t){Kt||((Kt=(()=>{var t={},e=Object.keys(Gt),i=Object.keys(Xt);let n,r,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],r=0;r<i.length;r++)o=i[r],a=a.replace(o,Xt[o]);o=parseInt(Gt[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t})()).transparent=[0,0,0,0]);t=Kt[t.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}let Qt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Jt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,te=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ee(e,i,n){if(e){let t=Wt(e);t[i]=Math.max(0,Math.min(t[i]+t[i]*n,0===i?360:1)),t=qt(t),e.r=t[0],e.g=t[1],e.b=t[2]}}function ie(t,e){return t&&Object.assign(e||{},t)}function ne(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?3<=t.length&&(e={r:t[0],g:t[1],b:t[2],a:255},3<t.length)&&(e.a=It(t[3])):(e=ie(t,{r:0,g:0,b:0,a:1})).a=It(e.a),e}function re(t){return("r"===t.charAt(0)?t=>{var e=Qt.exec(t);let i,n,r,o=255;if(e){if(void 0!==e[7]){let t=+e[7];o=e[8]?Dt(t):Ot(255*t,0,255)}return i=+e[1],n=+e[3],r=+e[5],{r:255&(e[2]?Dt(i):Ot(i,0,255)),g:255&(e[4]?Dt(n):Ot(n,0,255)),b:255&(e[6]?Dt(r):Ot(r,0,255)),a:o}}}:t=>{var e,i,n,t=jt.exec(t);let r,o=255;if(t)return void 0!==t[5]&&(o=(t[6]?Dt:It)(+t[5])),e=Yt(+t[2]),i=+t[3]/100,n=+t[4]/100,{r:(r="hwb"===t[1]?Vt(Ut,e,i,n):"hsv"===t[1]?Vt(Ht,e,i,n):qt(e,i,n))[0],g:r[1],b:r[2],a:o}})(t)}class oe{constructor(t){if(t instanceof oe)return t;var e,i,n=typeof t;let r;"object"==n?r=ne(t):"string"==n&&(i=(n=t).length,"#"===n[0]&&(4===i||5===i?e={r:255&17*l[n[1]],g:255&17*l[n[2]],b:255&17*l[n[3]],a:5===i?17*l[n[4]]:255}:7!==i&&9!==i||(e={r:l[n[1]]<<4|l[n[2]],g:l[n[3]]<<4|l[n[4]],b:l[n[5]]<<4|l[n[6]],a:9===i?l[n[7]]<<4|l[n[8]]:255})),r=e||Zt(t)||re(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=ie(this._rgb);return t&&(t.a=s(t.a)),t}set rgb(t){this._rgb=ne(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${s(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid&&(t=this._rgb,e=t,e=Nt(e.r)&&Nt(e.g)&&Nt(e.b)&&Nt(e.a)?Ft:zt,t)?"#"+e(t.r)+e(t.g)+e(t.b)+((t=t.a)<255?e(t):""):void 0;var t,e}hslString(){if(this._valid){var t,e,i,n=this._rgb;if(n)return t=(i=Wt(n))[0],e=$t(i[1]),i=$t(i[2]),n.a<255?`hsla(${t}, ${e}%, ${i}%, ${s(n.a)})`:`hsl(${t}, ${e}%, ${i}%)`}}mix(t,e){var i,n,r;return t&&(i=this.rgb,t=t.rgb,r=i.a-t.a,i.r=255&(n=(1+((n=2*(e=void 0===e?.5:e)-1)*r==-1?n:(n+r)/(1+n*r)))/2)*i.r+(r=1-n)*t.r+.5,i.g=255&n*i.g+r*t.g+.5,i.b=255&n*i.b+r*t.b+.5,i.a=e*i.a+(1-e)*t.a,this.rgb=i),this}interpolate(t,e){return t&&(this._rgb=(i=this._rgb,t=t._rgb,e=e,n=te(s(i.r)),r=te(s(i.g)),o=te(s(i.b)),{r:It(Jt(n+e*(te(s(t.r))-n))),g:It(Jt(r+e*(te(s(t.g))-r))),b:It(Jt(o+e*(te(s(t.b))-o))),a:i.a+e*(t.a-i.a)})),this;var i,n,r,o}clone(){return new oe(this.rgb)}alpha(t){return this._rgb.a=It(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){var t=this._rgb,e=Lt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ee(this._rgb,2,t),this}darken(t){return ee(this._rgb,2,-t),this}saturate(t){return ee(this._rgb,1,t),this}desaturate(t){return ee(this._rgb,1,-t),this}rotate(t){return e=this._rgb,t=t,(i=Wt(e))[0]=Yt(i[0]+t),i=qt(i),e.r=i[0],e.g=i[1],e.b=i[2],this;var e,i}}function se(t){return!(!t||"object"!=typeof t||"[object CanvasPattern]"!==(t=t.toString())&&"[object CanvasGradient]"!==t)}function ae(t){return se(t)?t:new oe(t)}function le(t){return se(t)?t:new oe(t).saturate(.5).darken(.1).hexString()}let he=["x","y","borderWidth","radius","tension"],ce=["color","borderColor","backgroundColor"],ue=new Map;function de(t,e,r){return((t,e)=>{e=r||{};var i=t+JSON.stringify(e);let n=ue.get(i);return n||(n=new Intl.NumberFormat(t,e),ue.set(i,n)),n})(e).format(t)}let fe={values:t=>T(t)?t:""+t,numeric(e,t,i){if(0===e)return"0";var n=this.chart.options.locale;let r,o=e;if(1<i.length){let t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||1e15<t)&&(r="scientific"),o=(t=>{let e=3<i.length?i[2].value-i[1].value:i[1].value-i[0].value;return e=1<=Math.abs(e)&&t!==Math.floor(t)?t-Math.floor(t):e})(e)}var s=a(Math.abs(o)),s=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),s={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(s,this.options.ticks.format),de(e,n,s)},logarithmic(t,e,i){var n;return 0===t?"0":(n=i[e].significand||t/Math.pow(10,Math.floor(a(t))),[1,2,3,5,10,15].includes(n)||e>.8*i.length?fe.numeric.call(this,t,e,i):"")}};var pe={formatters:fe};let ge=Object.create(null),me=Object.create(null);function ve(i,t){if(t){var n=t.split(".");for(let t=0,e=n.length;t<e;++t){var r=n[t];i=i[r]||(i[r]=Object.create(null))}}return i}function ye(t,e,i){return"string"==typeof e?W(ve(t,e),i):W(ve(t,""),e)}var I=new class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>le(e.backgroundColor),this.hoverBorderColor=(t,e)=>le(e.borderColor),this.hoverColor=(t,e)=>le(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ye(this,t,e)}get(t){return ve(this,t)}describe(t,e){return ye(me,t,e)}override(t,e){return ye(ge,t,e)}route(t,e,i,n){let r=ve(this,t),o=ve(this,i),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){var t=this[s],e=o[n];return P(t)?Object.assign({},e,t):L(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach(t=>t(this))}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ce},numbers:{type:"number",properties:he}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function be(){return"undefined"!=typeof window&&"undefined"!=typeof document}function xe(t){let e=t.parentNode;return e=e&&"[object ShadowRoot]"===e.toString()?e.host:e}function _e(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}let we=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ke(t,e){return we(t).getPropertyValue(e)}let Se=["top","right","bottom","left"];function Ae(e,i,n){var r={};n=n?"-"+n:"";for(let t=0;t<4;t++){var o=Se[t];r[o]=parseFloat(e[i+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Ee(t,e){if("native"in t)return t;var{canvas:i,currentDevicePixelRatio:n}=e,r=we(i),o="border-box"===r.boxSizing,s=Ae(r,"padding"),r=Ae(r,"border","width"),{x:t,y:a,box:l}=((t,e)=>{var i,n=t.touches,{offsetX:r,offsetY:o}=n=n&&n.length?n[0]:t;let s,a,l=!1;if(i=o,t=t.target,!(0<r||0<i)||t&&t.shadowRoot){let t=e.getBoundingClientRect();s=n.clientX-t.left,a=n.clientY-t.top,l=!0}else s=r,a=o;return{x:s,y:a,box:l}})(t,i),h=s.left+(l&&r.left),l=s.top+(l&&r.top);let{width:c,height:u}=e;return o&&(c-=s.width+r.width,u-=s.height+r.height),{x:Math.round((t-h)/c*i.width/n),y:Math.round((a-l)/u*i.height/n)}}let Ce=t=>Math.round(10*t)/10;function Me(t,e,i,n){var r=we(t),o=Ae(r,"margin"),s=_e(r.maxWidth,t,"clientWidth")||tt,a=_e(r.maxHeight,t,"clientHeight")||tt,t=((t,r,o)=>{let s,a;if(void 0===r||void 0===o){var l=t&&xe(t);if(l){let t=l.getBoundingClientRect(),e=we(l),i=Ae(e,"border","width"),n=Ae(e,"padding");r=t.width-n.width-i.width,o=t.height-n.height-i.height,s=_e(e.maxWidth,l,"clientWidth"),a=_e(e.maxHeight,l,"clientHeight")}else r=t.clientWidth,o=t.clientHeight}return{width:r,height:o,maxWidth:s||tt,maxHeight:a||tt}})(t,e,i);let{width:l,height:h}=t;if("content-box"===r.boxSizing){let t=Ae(r,"border","width"),e=Ae(r,"padding");l-=e.width+t.width,h-=e.height+t.height}return l=Math.max(0,l-o.width),h=Math.max(0,n?l/n:h-o.height),l=Ce(Math.min(l,s,t.maxWidth)),h=Ce(Math.min(h,a,t.maxHeight)),l&&!h&&(h=Ce(l/2)),(void 0!==e||void 0!==i)&&n&&t.height&&h>t.height&&(h=t.height,l=Ce(Math.floor(h*n))),{width:l,height:h}}function Te(t,e,i){var e=e||1,n=Math.floor(t.height*e),r=Math.floor(t.width*e),o=(t.height=Math.floor(t.height),t.width=Math.floor(t.width),t.canvas);return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=t.height+"px",o.style.width=t.width+"px"),(t.currentDevicePixelRatio!==e||o.height!==n||o.width!==r)&&(t.currentDevicePixelRatio=e,o.height=n,o.width=r,t.ctx.setTransform(e,0,0,e,0,0),!0)}var Pe=(()=>{let t=!1;try{var e={get passive(){return!(t=!0)}};be()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t})();function Le(t,e){t=ke(t,e),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}function Oe(t){return!t||A(t.size)||A(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function De(t,e,i,n,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),n=o>n?o:n}function Ie(t,e,i,n){let r=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[],s=(n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e,0);var a=i.length;let l,h,c,u,d;for(l=0;l<a;l++)if(null==(u=i[l])||T(u)){if(T(u))for(h=0,c=u.length;h<c;h++)null==(d=u[h])||T(d)||(s=De(t,r,o,s,d))}else s=De(t,r,o,s,u);t.restore();var f=o.length/2;if(f>i.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function $e(t,e,i){t=t.currentDevicePixelRatio,i=0!==i?Math.max(i/2,.5):0;return Math.round((e-i)*t)/t+i}function Re(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Fe(t,e,i,n){ze(t,e,i,n,null)}function ze(t,e,i,n,r){let o,s,a,l,h,c,u,d;var f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*et;if(f&&"object"==typeof f&&("[object HTMLImageElement]"===(o=f.toString())||"[object HTMLCanvasElement]"===o))t.save(),t.translate(i,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();else if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,g,0,0,b):t.arc(i,n,g,0,b),t.closePath();break;case"triangle":c=r?r/2:g,t.moveTo(i+Math.sin(m)*c,n-Math.cos(m)*g),m+=nt,t.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*g),m+=nt,t.lineTo(i+Math.sin(m)*c,n-Math.cos(m)*g),t.closePath();break;case"rectRounded":h=.516*g,l=g-h,s=Math.cos(m+it)*l,u=Math.cos(m+it)*(r?r/2-h:l),a=Math.sin(m+it)*l,d=Math.sin(m+it)*(r?r/2-h:l),t.arc(i-u,n-a,h,m-E,m-C),t.arc(i+d,n-s,h,m-C,m),t.arc(i+u,n+a,h,m,m+C),t.arc(i-d,n+s,h,m+C,m+E),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,c=r?r/2:l,t.rect(i-c,n-l,2*c,2*l);break}m+=it;case"rectRot":u=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-u,n-a),t.lineTo(i+d,n-s),t.lineTo(i+u,n+a),t.lineTo(i-d,n+s),t.closePath();break;case"crossRot":m+=it;case"cross":u=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-s),t.lineTo(i-d,n+s);break;case"star":u=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-s),t.lineTo(i-d,n+s),m+=it,u=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+d,n-s),t.lineTo(i-d,n+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(i-s,n-a),t.lineTo(i+s,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(r?r/2:g),n+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),0<e.borderWidth&&t.stroke()}}function _(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ne(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function je(t){t.restore()}function Be(e,i,n,t,r){if(!i)return e.lineTo(n.x,n.y);if("middle"===r){let t=(i.x+n.x)/2;e.lineTo(t,i.y),e.lineTo(t,n.y)}else"after"===r!=!!t?e.lineTo(i.x,n.y):e.lineTo(n.x,i.y);e.lineTo(n.x,n.y)}function He(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Ue(t,e,i,n,r,o={}){var s,a,l,h,c,u,d,f,p=T(e)?e:[e],g=0<o.strokeWidth&&""!==o.strokeColor;let m,v;for(t.save(),t.font=r.string,e=t,(f=o).translation&&e.translate(f.translation[0],f.translation[1]),A(f.rotation)||e.rotate(f.rotation),f.color&&(e.fillStyle=f.color),f.textAlign&&(e.textAlign=f.textAlign),f.textBaseline&&(e.textBaseline=f.textBaseline),m=0;m<p.length;++m)v=p[m],o.backdrop&&(c=t,u=o.backdrop,d=void 0,d=c.fillStyle,c.fillStyle=u.color,c.fillRect(u.left,u.top,u.width,u.height),c.fillStyle=d),g&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),A(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(v,i,n,o.maxWidth)),t.fillText(v,i,n,o.maxWidth),u=t,c=i,d=n,s=v,h=l=void 0,((a=o).strikethrough||a.underline)&&(l=c-(s=u.measureText(s)).actualBoundingBoxLeft,c=c+s.actualBoundingBoxRight,h=d+s.actualBoundingBoxDescent,d=a.strikethrough?(d-s.actualBoundingBoxAscent+h)/2:h,u.strokeStyle=u.fillStyle,u.beginPath(),u.lineWidth=a.decorationWidth||2,u.moveTo(l,d),u.lineTo(c,d),u.stroke()),n+=Number(r.lineHeight);t.restore()}function We(t,e){var{x:e,y:i,w:n,h:r,radius:o}=e;t.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*E,E,!0),t.lineTo(e,i+r-o.bottomLeft),t.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,E,C,!0),t.lineTo(e+n-o.bottomRight,i+r),t.arc(e+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,C,0,!0),t.lineTo(e+n,i+o.topRight),t.arc(e+n-o.topRight,i+o.topRight,o.topRight,0,-C,!0),t.lineTo(e+o.topLeft,i)}function Ve(a,l=[""],t,e,r=()=>a[0]){let i=t||a;void 0===e&&(e=ei("_fallback",a));t={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:i,_fallback:e,_getTarget:r,override:t=>Ve([t,...a],l,i,e)};return new Proxy(t,{deleteProperty:(t,e)=>(delete t[e],delete t._keys,delete a[0][e],!0),get:(o,s)=>Ke(o,s,()=>{var t,e,i=s,n=a,r=o;for(e of l)if(t=ei(Xe(e,i),n),void 0!==t)return Ge(i,t)?Je(n,r,i,t):t}),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(t,e)=>ii(t).includes(e),ownKeys:t=>ii(t),set(t,e,i){var n=t._storage||(t._storage=r());return t[e]=n[e]=i,delete t._keys,!0}})}function qe(n,e,i,r){var t={_cacheable:!1,_proxy:n,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ye(n,r),setContext:t=>qe(n,t,i,r),override:t=>qe(n.override(t),e,i,r)};return new Proxy(t,{deleteProperty:(t,e)=>(delete t[e],delete n[e],!0),get:(a,h,c)=>Ke(a,h,()=>{{var l=a,e=h,i=c,{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=l;let t=n[e];return T(t=f(t)&&s.isScriptable(e)?((t,e,i)=>{var{_proxy:n,_context:r,_subProxy:o,_stack:s}=l;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let a=e(r,o||i);return s.delete(t),a=Ge(t,a)?Je(n._scopes,n,t,a):a})(e,t,i):t)&&t.length&&(t=((r,o,t,e)=>{var{_proxy:s,_context:a,_subProxy:l,_descriptors:h}=t;if(void 0!==a.index&&e(r))return o[a.index%o.length];if(P(o[0])){let i=o,n=s._scopes.filter(t=>t!==i);o=[];for(let e of i){let t=Je(n,s,r,e);o.push(qe(t,a,l&&l[r],h))}}return o})(e,t,l,s.isIndexable)),t=Ge(e,t)?qe(t,r,o&&o[e],s):t}}),getOwnPropertyDescriptor:(t,e)=>t._descriptors.allKeys?Reflect.has(n,e)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,e),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(t,e)=>Reflect.has(n,e),ownKeys:()=>Reflect.ownKeys(n),set:(t,e,i)=>(n[e]=i,delete t[e],!0)})}function Ye(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:f(i)?i:()=>i,isIndexable:f(n)?n:()=>n}}let Xe=(t,e)=>t?t+G(e):e,Ge=(t,e)=>P(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Ke(t,e,i){return Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e?t[e]:(i=i(),t[e]=i)}function Ze(t,e,i){return f(t)?t(e,i):t}let Qe=(t,e)=>!0===t?e:"string"==typeof t?p(e,t):void 0;function Je(t,n,r,o){var e=n._rootScopes,i=Ze(n._fallback,r,o),t=[...t,...e],s=new Set,a=(s.add(o),ti(s,t,r,i||r,o));return null!==a&&(void 0===i||i===r||null!==(a=ti(s,t,i,a,o)))&&Ve(Array.from(s),[""],e,i,()=>{return t=r,e=o,i=n._getTarget(),t in i||(i[t]={}),T(i=i[t])&&P(e)?e:i||{};var t,e,i})}function ti(t,e,i,n,r){for(;i;)i=((e,t,i,n,r)=>{for(var o of t){let t=Qe(i,o);if(t){e.add(t);o=Ze(t._fallback,i,r);if(void 0!==o&&o!==i&&o!==n)return o}else if(!1===t&&void 0!==n&&i!==n)return null}return!1})(t,e,i,n,r);return i}function ei(e,t){for(var i of t)if(i){let t=i[e];if(void 0!==t)return t}}function ii(t){let e=t._keys;return e=e||(t._keys=(t=>{var e,i=new Set;for(e of t)for(let t of Object.keys(e).filter(t=>!t.startsWith("_")))i.add(t);return Array.from(i)})(t._scopes))}function ni(t,e,i,n){var r=t.iScale,{key:o="r"}=this._parsing,s=new Array(n);let a,l,h,c;for(a=0,l=n;a<l;++a)c=e[h=a+i],s[a]={r:r.parse(p(c,o),h)};return s}let ri=Number.EPSILON||1e-14,oi=(t,e)=>e<t.length&&!t[e].skip&&t[e],si=t=>"x"===t?"y":"x";function ai(t,e,i,n){var t=t.skip?e:t,r=e,e=i.skip?e:i,i=ft(r,t),o=ft(e,r),s=i/(i+o),i=o/(i+o),o=n*(isNaN(s)?0:s),s=n*(isNaN(i)?0:i);return{previous:{x:r.x-o*(e.x-t.x),y:r.y-o*(e.y-t.y)},next:{x:r.x+s*(e.x-t.x),y:r.y+s*(e.y-t.y)}}}function li(l,e="x"){var i=si(e),t=l.length,a=Array(t).fill(0),h=Array(t);let n,r,o,s=oi(l,0);for(n=0;n<t;++n)if(r=o,o=s,s=oi(l,n+1),o){if(s){let t=s[e]-o[e];a[n]=0!=t?(s[i]-o[i])/t:0}h[n]=r?s?x(a[n-1])!==x(a[n])?0:(a[n-1]+a[n])/2:a[n-1]:a[n]}{var c=l,u=a,d=h,f=c.length;let e,i,n,r,o,s=oi(c,0);for(let t=0;t<f-1;++t)o=s,s=oi(c,t+1),o&&s&&(rt(u[t],0,ri)?d[t]=d[t+1]=0:(e=d[t]/u[t],i=d[t+1]/u[t],(r=Math.pow(e,2)+Math.pow(i,2))<=9||(n=3/Math.sqrt(r),d[t]=e*n*u[t],d[t+1]=i*n*u[t])))}{var[p,g,m="x"]=[l,h,e];let n=si(m),t=p.length,r,o,s,a=oi(p,0);for(let i=0;i<t;++i)if(o=s,s=a,a=oi(p,i+1),s){let t=s[m],e=s[n];o&&(r=(t-o[m])/3,s["cp1"+m]=t-r,s["cp1"+n]=e-r*g[i]),a&&(r=(a[m]-t)/3,s["cp2"+m]=t+r,s["cp2"+n]=e+r*g[i])}}}function hi(t,e,i){return Math.max(Math.min(t,i),e)}function ci(s,e,a,i,t){let n,r,o,l;if(e.spanGaps&&(s=s.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)li(s,t);else{let t=i?s[s.length-1]:s[0];for(n=0,r=s.length;n<r;++n)o=s[n],l=ai(t,o,s[Math.min(n+1,r-(i?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,t=o}if(e.capBezierPoints){var h=s,c=a;let t,e,i,n,r,o=_(h[0],c);for(t=0,e=h.length;t<e;++t)r=n,n=o,o=t<e-1&&_(h[t+1],c),n&&(i=h[t],r&&(i.cp1x=hi(i.cp1x,c.left,c.right),i.cp1y=hi(i.cp1y,c.top,c.bottom)),o)&&(i.cp2x=hi(i.cp2x,c.left,c.right),i.cp2y=hi(i.cp2y,c.top,c.bottom))}}let ui=t=>0===t||1===t,di=(t,e,i)=>-Math.pow(2,10*--t)*Math.sin((t-e)*b/i),fi=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*b/i)+1,pi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-(--t*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>--t*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*C),easeOutSine:t=>Math.sin(t*C),easeInOutSine:t=>-.5*(Math.cos(E*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ui(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>1<=t?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1- --t*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ui(t)?t:di(t,.075,.3),easeOutElastic:t=>ui(t)?t:fi(t,.075,.3),easeInOutElastic(t){return ui(t)?t:t<.5?.5*di(2*t,.1125,.45):.5+.5*fi(2*t-1,.1125,.45)},easeInBack(t){return t*t*(2.70158*t-1.70158)},easeOutBack(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-pi.easeOutBounce(1-t),easeOutBounce(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*pi.easeInBounce(2*t):.5*pi.easeOutBounce(2*t-1)+.5};function gi(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function mi(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:("middle"===n?i<.5?t:e:"after"===n?i<1?t:e:0<i?e:t).y}}function vi(t,e,i,n){var r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},t=gi(t,r,i),r=gi(r,o,i),o=gi(o,e,i),e=gi(t,r,i),t=gi(r,o,i);return gi(e,t,i)}let yi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xi(t,e){var i=(""+t).match(yi);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}let _i=t=>+t||0;function wi(e,i){var n={},t=P(i),r=t?Object.keys(i):i,o=P(e)?t?t=>L(e[t],e[i[t]]):t=>e[t]:()=>e;for(let t of r)n[t]=_i(o(t));return n}function ki(t){return wi(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Si(t){return wi(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $(t){t=ki(t);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function R(t,e){e=e||I.font;let i=L((t=t||{}).size,e.size),n=("string"==typeof i&&(i=parseInt(i,10)),L(t.style,e.style));n&&!(""+n).match(bi)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);t={family:L(t.family,e.family),lineHeight:xi(L(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:L(t.weight,e.weight),string:""};return t.string=Oe(t),t}function Ai(t,e,i,n){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(void 0!==(s=t[r])&&(void 0!==e&&"function"==typeof s&&(s=s(e),a=!1),void 0!==i&&T(s)&&(s=s[i%s.length],a=!1),void 0!==s))return n&&!a&&(n.cacheable=!1),s}function Ei(t,e,i){var{min:t,max:n}=t,e=N(e,(n-t)/2),r=(t,e)=>i&&0===t?0:t+e;return{min:r(t,-Math.abs(e)),max:r(n,e)}}function Ci(t,e){return Object.assign(Object.create(t),e)}function Mi(t,e,i){return t?(n=e,r=i,{x:t=>n+n+r-t,setWidth(t){r=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t};var n,r}function Ti(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Pi(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Li(t){return"angle"===t?{between:gt,compare:pt,normalize:y}:{between:c,compare:(t,e)=>t-e,normalize:t=>t}}function Oi({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0,style:r}}function Di(t,i,f){if(!f)return[t];let{property:n,start:r,end:o}=f,s=i.length,{compare:a,between:l,normalize:h}=Li(n),{start:c,end:u,loop:d,style:p}=((t,e)=>{var{property:i,start:n,end:r}=f,{between:o,normalize:s}=Li(i),a=e.length;let l,h,{start:c,end:u,loop:d}=t;if(d){for(c+=a,u+=a,l=0,h=a;l<h&&o(s(e[c%a][i]),n,r);++l)c--,u--;c%=a,u%=a}return u<c&&(u+=a),{start:c,end:u,loop:d,style:t.style}})(t,i),g=[],m,v,y,b,x=null;for(let t=c,e=c;t<=u;++t)(v=i[t%s]).skip||(m=h(v[n]))!==y&&(b=l(m,r,o),null===(x=null===x&&(b||l(r,y,m)&&0!==a(r,y))?0===a(m,r)?t:e:x)||b&&0!==a(o,m)&&!l(o,y,m)||(g.push(Oi({start:x,end:t,loop:d,count:s,style:p})),x=null),e=t,y=m);return null!==x&&g.push(Oi({start:x,end:u,loop:d,count:s,style:p})),g}function Ii(e,i){var n=[],r=e.segments;for(let t=0;t<r.length;t++){var o=Di(r[t],e.points,i);o.length&&n.push(...o)}return n}function $i(t,e){var i,n,r,o=t.points,s=t.options.spanGaps,a=o.length;return a?({start:n,end:r}=((t,e,i)=>{let n=0,r=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(r+=n);r>n&&t[r%e].skip;)r--;return r%=e,{start:n,end:r}})(o,a,i=!!t._loop),Ri(t,!0===s?[{start:n,end:r,loop:i}]:((e,i,t,n)=>{var r=e.length,o=[];let s,a=i,l=e[i];for(s=i+1;s<=t;++s){let t=e[s%r];t.skip||t.stop?l.skip||(n=!1,o.push({start:i%r,end:(s-1)%r,loop:n}),i=a=t.stop?s:null):(a=s,l.skip&&(i=s)),l=t}return null!==a&&o.push({start:i%r,end:a%r,loop:n}),o})(o,n,r<n?r+a:r,!!t._fullLoop&&0===n&&r===a-1),o,e)):[]}function Ri(e,i,n,d){if(d&&d.setContext&&n){var f=e,e=i,p=n,g=d;let r=f._chart.getContext(),t=Fi(f.options),{_datasetIndex:o,options:{spanGaps:s}}=f,a=p.length,l=[],h=t,c=e[0].start,u=c;function m(t,e,i,n){var r=s?-1:1;if(t!==e){for(t+=a;p[t%a].skip;)t-=r;for(;p[e%a].skip;)e+=r;t%a!=e%a&&(l.push({start:t%a,end:e%a,loop:i,style:n}),h=n,c=e%a)}}for(let n of e){c=s?c:n.start;let e,i=p[c%a];for(u=c+1;u<=n.end;u++){let t=p[u%a];((t,e)=>{if(e){let i=[];return JSON.stringify(t,n)!==JSON.stringify(e,n);function n(t,e){return se(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e}}})(e=Fi(g.setContext(Ci(r,{type:"segment",p0:i,p1:t,p0DataIndex:(u-1)%a,p1DataIndex:u%a,datasetIndex:o}))),h)&&m(c,u-1,n.loop,h),i=t,h=e}c<u-1&&m(c,u-1,n.loop,h)}return l}return i}function Fi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var zi=Object.freeze({__proto__:null,HALF_PI:C,INFINITY:tt,PI:E,PITAU:J,QUARTER_PI:it,RAD_PER_DEG:et,TAU:b,TWO_THIRDS_PI:nt,_addGrace:Ei,_alignPixel:$e,_alignStartEnd:D,_angleBetween:gt,_angleDiff:pt,_arrayUnique:kt,_attachContext:qe,_bezierCurveTo:He,_bezierInterpolation:vi,_boundSegment:Di,_boundSegments:Ii,_capitalize:G,_computeSegments:$i,_createResolver:Ve,_decimalPlaces:ut,_deprecated:function(t,e,i,n){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')},_descriptors:Ye,_elementsEqual:j,_factorize:st,_filterBetween:bt,_getParentNode:xe,_getStartAndCountOfVisiblePoints:Tt,_int16Range:mt,_isBetween:c,_isClickEvent:Q,_isDomSupported:be,_isPointInArea:_,_limitValue:M,_longestText:Ie,_lookup:vt,_lookupByKey:m,_measureText:De,_merger:U,_mergerIf:q,_normalizeAngle:y,_parseObjectDataRadialScale:ni,_pointInLine:gi,_readValueToProps:wi,_rlookupByKey:yt,_scaleRangesChanged:Pt,_setMinAndMaxByKey:ht,_splitKey:X,_steppedInterpolation:mi,_steppedLineTo:Be,_textX:Mt,_toLeftRightCenter:Ct,_updateBezierControlPoints:ci,addRoundedRectPath:We,almostEquals:rt,almostWhole:lt,callback:u,clearCanvas:Re,clipArea:Ne,clone:B,color:ae,createContext:Ci,debounce:Et,defined:K,distanceBetweenPoints:ft,drawPoint:Fe,drawPointLegend:ze,each:S,easingEffects:pi,finiteOrDefault:d,fontString:function(t,e,i){return e+" "+t+"px "+i},formatNumber:de,getAngleFromPoint:dt,getHoverColor:le,getMaximumSize:Me,getRelativePosition:Ee,getRtlAdapter:Mi,getStyle:ke,isArray:T,isFinite:g,isFunction:f,isNullOrUndef:A,isNumber:at,isObject:P,isPatternOrGradient:se,listenArrayEvents:_t,log10:a,merge:W,mergeIf:V,niceNum:ot,noop:t,overrideTextDirection:Ti,readUsedSize:Le,renderText:Ue,requestAnimFrame:St,resolve:Ai,resolveObjectKey:p,restoreTextDirection:Pi,retinaScale:Te,setsEqual:Z,sign:x,splineCurve:ai,splineCurveMonotone:li,supportsEventListenerOptions:Pe,throttled:At,toDegrees:ct,toDimension:N,toFont:R,toFontString:Oe,toLineHeight:xi,toPadding:$,toPercentage:z,toRadians:O,toTRBL:ki,toTRBLCorners:Si,uid:F,unclipArea:je,unlistenArrayEvents:wt,valueOrDefault:L});function Ni(t,o,e,s,a){var l=t.getSortedVisibleDatasetMetas(),h=e[o];for(let e=0,t=l.length;e<t;++e){let{index:i,data:n}=l[e],{lo:t,hi:r}=((t,r,o,e)=>{let{controller:i,data:s,_sorted:n}=t,a=i._cachedMeta.iScale;if(a&&r===a.axis&&"r"!==r&&n&&s.length){let n=a._reversePixels?yt:m;if(!e)return n(s,r,o);if(i._sharedOptions){let t=s[0],i="function"==typeof t.getRange&&t.getRange(r);if(i){let t=n(s,r,o-i),e=n(s,r,o+i);return{lo:t.lo,hi:e.hi}}}}return{lo:0,hi:s.length-1}})(l[e],o,h,a);for(let e=t;e<=r;++e){let t=n[e];t.skip||s(t,i,e)}}}function ji(n,r,t,o,s){let a=[];return(s||n.isPointInArea(r))&&Ni(n,t,r,function(t,e,i){(s||_(t,n.chartArea,0))&&t.inRange(r.x,r.y,o)&&a.push({element:t,datasetIndex:e,index:i})},!0),a}function Bi(o,s,t,a,l,h){let c=[],u=(t=>{let n=-1!==t.indexOf("x"),r=-1!==t.indexOf("y");return function(t,e){var i=n?Math.abs(t.x-e.x):0,t=r?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(t,2))}})(t),d=Number.POSITIVE_INFINITY;return Ni(o,t,s,function(t,e,i){var n,r=t.inRange(s.x,s.y,l);(!a||r)&&(n=t.getCenterPoint(l),h||o.isPointInArea(n)||r)&&((r=u(s,n))<d?(c=[{element:t,datasetIndex:e,index:i}],d=r):r===d&&c.push({element:t,datasetIndex:e,index:i}))}),c}function Hi(t,e,i,n,r,o){{if(o||t.isPointInArea(e)){if("r"!==i||n)return Bi(t,e,i,n,r,o);{var a=e,l=r;let s=[];return Ni(t,i,a,function(t,e,i){var{startAngle:n,endAngle:r}=t.getProps(["startAngle","endAngle"],l),o=dt(t,{x:a.x,y:a.y}).angle;gt(o,n,r)&&s.push({element:t,datasetIndex:e,index:i})}),s}}return[]}}function Ui(t,n,r,e,o){let s=[],a="x"===r?"inXRange":"inYRange",l=!1;return Ni(t,r,n,(t,e,i)=>{t[a](n[r],o)&&(s.push({element:t,datasetIndex:e,index:i}),l=l||t.inRange(n.x,n.y,o))}),e&&!l?[]:s}var Wi={evaluateInteractionItems:Ni,modes:{index(t,e,i,n){let r=Ee(e,t),o=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?ji(t,r,o,n,s):Hi(t,r,o,!1,n,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{var e=a[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,n){var e=Ee(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;let s=i.intersect?ji(t,e,r,n,o):Hi(t,e,r,!1,n,o);if(0<s.length){let e=s[0].datasetIndex,i=t.getDatasetMeta(e).data;s=[];for(let t=0;t<i.length;++t)s.push({element:i[t],datasetIndex:e,index:t})}return s},point:(t,e,i,n)=>ji(t,Ee(e,t),i.axis||"xy",n,i.includeInvisible||!1),nearest(t,e,i,n){return Hi(t,Ee(e,t),i.axis||"xy",i.intersect,n,i.includeInvisible||!1)},x:(t,e,i,n)=>Ui(t,Ee(e,t),"x",i.intersect,n),y:(t,e,i,n)=>Ui(t,Ee(e,t),"y",i.intersect,n)}};let Vi=["left","top","right","bottom"];function qi(t,e){return t.filter(t=>t.pos===e)}function Yi(t,e){return t.filter(t=>-1===Vi.indexOf(t.pos)&&t.box.axis===e)}function Xi(t,n){return t.sort((t,e)=>{var i=n?e:t,t=n?t:e;return i.weight===t.weight?i.index-t.index:i.weight-t.weight})}function Gi(n,r){var o=(t=>{var n,r,o={};for(n of t){let{stack:t,pos:e,stackWeight:i}=n;t&&Vi.includes(e)&&((r=o[t]||(o[t]={count:0,placed:0,weight:0,size:0})).count++,r.weight+=i)}return o})(n),{vBoxMaxWidth:s,hBoxMaxHeight:a}=r;let l,t,h;for(l=0,t=n.length;l<t;++l){let t=(h=n[l]).box.fullSize,e=o[h.stack],i=e&&h.stackWeight/e.weight;h.horizontal?(h.width=i?i*s:t&&r.availableWidth,h.height=a):(h.width=s,h.height=i?i*a:t&&r.availableHeight)}return o}function Ki(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Zi(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qi(i,n,r,o){var s=[];let a,t,l,h,c,u;for(a=0,t=i.length,c=0;a<t;++a){l=i[a],(h=l.box).update(l.width||n.w,l.height||n.h,((t,i)=>{let n=i.maxPadding;{let e={left:0,top:0,right:0,bottom:0};return(t=t?["left","right"]:["top","bottom"]).forEach(t=>{e[t]=Math.max(i[t],n[t])}),e}})(l.horizontal,n));let{same:t,other:e}=((e,t,i,n)=>{var{pos:r,box:o}=i,s=e.maxPadding;if(!P(r)){i.size&&(e[r]-=i.size);let t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?o.height:o.width),i.size=t.size/t.count,e[r]+=i.size}return o.getPadding&&Zi(s,o.getPadding()),n=Math.max(0,t.outerWidth-Ki(s,e,"left","right")),r=Math.max(0,t.outerHeight-Ki(s,e,"top","bottom")),o=n!==e.w,t=r!==e.h,e.w=n,e.h=r,i.horizontal?{same:o,other:t}:{same:t,other:o}})(n,r,l,o);c|=t&&s.length,u=u||e,h.fullSize||s.push(l)}return c&&Qi(s,n,r,o)||u}function Ji(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function tn(t,o,s,e){var a,l=s.padding;let{x:h,y:c}=o;for(a of t){let i=a.box,n=e[a.stack]||{count:1,placed:0,weight:1},r=a.stackWeight/n.weight||1;if(a.horizontal){let t=o.w*r,e=n.size||i.height;K(n.start)&&(c=n.start),i.fullSize?Ji(i,l.left,c,s.outerWidth-l.right-l.left,e):Ji(i,o.left+n.placed,c,t,e),n.start=c,n.placed+=t,c=i.bottom}else{let t=o.h*r,e=n.size||i.width;K(n.start)&&(h=n.start),i.fullSize?Ji(i,h,l.top,e,s.outerHeight-l.bottom-l.top):Ji(i,h,o.top+n.placed,e,t),n.start=h,n.placed+=t,h=i.right}}o.x=h,o.y=c}var r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){e=t.boxes?t.boxes.indexOf(e):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(i,n,r,o){if(i){var s,a,l=$(i.options.layout.padding),h=Math.max(n-l.width,0),c=Math.max(r-l.height,0),u=(d=(t=>{var e=[];let i,n,r,o,s,a;for(i=0,n=(t||[]).length;i<n;++i)({position:o,options:{stack:s,stackWeight:a=1}}=r=t[i]),e.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e})(i.boxes),u=Xi(d.filter(t=>t.box.fullSize),!0),f=Xi(qi(d,"left"),!0),p=Xi(qi(d,"right")),m=Xi(qi(d,"top"),!0),s=Xi(qi(d,"bottom")),a=Yi(d,"x"),g=Yi(d,"y"),{fullSize:u,leftAndTop:f.concat(m),rightAndBottom:p.concat(g).concat(s).concat(a),chartArea:qi(d,"chartArea"),vertical:f.concat(p).concat(g),horizontal:m.concat(s).concat(a)}),d=u.vertical,f=u.horizontal,p=(S(i.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}),d.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1),g=Object.freeze({outerWidth:n,outerHeight:r,padding:l,availableWidth:h,availableHeight:c,vBoxMaxWidth:h/2/p,hBoxMaxHeight:c/2}),m=Object.assign({},l);Zi(m,$(o));let e=Object.assign({maxPadding:m,w:h,h:c,x:l.left,y:l.top},l),t=Gi(d.concat(f),g);Qi(u.fullSize,e,g,t),Qi(d,e,g,t),Qi(f,e,g,t)&&Qi(d,e,g,t);{var v=e;let i=v.maxPadding;function y(t){var e=Math.max(i[t]-v[t],0);return v[t]+=e,e}v.y+=y("top"),v.x+=y("left"),y("right"),y("bottom")}tn(u.leftAndTop,e,g,t),e.x+=e.w,e.y+=e.h,tn(u.rightAndBottom,e,g,t),i.chartArea={left:e.left,top:e.top,right:e.left+e.w,bottom:e.top+e.h,height:e.h,width:e.w},S(u.chartArea,t=>{t=t.box;Object.assign(t,i.chartArea),t.update(e.w,e.h,{left:0,top:0,right:0,bottom:0})})}}};class en{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class nn extends en{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}let rn="$chartjs",on={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sn=t=>null===t||""===t,an=!!Pe&&{passive:!0};function ln(t,e){for(var i of t)if(i===e||i.contains(e))return!0}function hn(t,e,n){let r=t.canvas,i=new MutationObserver(e=>{let i=!1;for(let t of e)i=i||ln(t.addedNodes,r),i=i&&!ln(t.removedNodes,r);i&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function cn(t,e,n){let r=t.canvas,i=new MutationObserver(e=>{let i=!1;for(let t of e)i=i||ln(t.removedNodes,r),i=i&&!ln(t.addedNodes,r);i&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}let un=new Map,dn=0;function fn(){let i=window.devicePixelRatio;i!==dn&&(dn=i,un.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function pn(e,t,n){let i=e.canvas,r=i&&xe(i);if(r){let i=At((t,e)=>{var i=r.clientWidth;n(t,e),i<r.clientWidth&&n()},window),t=new ResizeObserver(t=>{var t=t[0],e=t.contentRect.width,t=t.contentRect.height;0===e&&0===t||i(e,t)});return t.observe(r),e=e,o=i,un.size||window.addEventListener("resize",fn),un.set(e,o),t;var o}}function gn(t,e,i){i&&i.disconnect(),"resize"===e&&(i=t,un.delete(i),un.size||window.removeEventListener("resize",fn))}function mn(e,t,i){var n=e.canvas,r=At(t=>{null!==e.ctx&&i(((t,e)=>{var i=on[t.type]||t.type,{x:n,y:r}=Ee(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==r?r:null}})(t,e))},e);return n&&n.addEventListener(t,r,an),r}class vn extends en{acquireContext(e,t){var i=e&&e.getContext&&e.getContext("2d");{if(i&&i.canvas===e){var n=t,t=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[rn]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",sn(o)){let t=Le(e,"width");void 0!==t&&(e.width=t)}if(sn(r))if(""===e.style.height)e.height=e.width/(n||2);else{let t=Le(e,"height");void 0!==t&&(e.height=t)}return i}return null}}releaseContext(t){let i=t.canvas;if(!i[rn])return!1;let n=i[rn].initial,e=(["height","width"].forEach(t=>{var e=n[t];A(e)?i.removeAttribute(t):i.setAttribute(t,e)}),n.style||{});return Object.keys(e).forEach(t=>{i.style[t]=e[t]}),i.width=i.width,delete i[rn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);var n=t.$proxies||(t.$proxies={}),r={attach:hn,detach:cn,resize:pn}[e]||mn;n[e]=r(t,e,i)}removeEventListener(t,e){var i=t.$proxies||(t.$proxies={}),n=i[e];n&&(({attach:gn,detach:gn,resize:gn}[e]||function(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,an)})(t,e,n),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Me(t,e,i,n)}isAttached(t){t=t&&xe(t);return!(!t||!t.isConnected)}}function yn(t){return!be()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?nn:vn}let bn=Object.freeze({__proto__:null,BasePlatform:en,BasicPlatform:nn,DomPlatform:vn,_detectPlatform:yn}),xn="transparent",_n={boolean:(t,e,i)=>.5<i?e:t,color(t,e,i){var t=ae(t||xn),n=t.valid&&ae(e||xn);return n&&n.valid?n.mix(t,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class wn{constructor(t,e,i,n){var r=e[i],r=(n=Ai([t.to,n,r,t.from]),Ai([t.from,r,n]));this._active=!0,this._fn=t.fn||_n[t.type||typeof r],this._easing=pi[t.easing]||pi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){var n,r,o;this._active&&(this._notify(!1),n=this._target[this._prop],r=i-this._start,o=this._duration-r,this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ai([t.to,e,n,t.from]),this._from=Ai([t.from,n,e]))}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){var t=t-this._start,e=this._duration,i=this._prop,n=this._from,r=this._loop,o=this._to;this._active=n!==o&&(r||t<e),this._active?t<0?this._target[i]=n:(t=t/e%2,t=this._easing(Math.min(1,Math.max(0,r&&1<t?2-t:t))),this._target[i]=this._fn(n,o,t)):(this._target[i]=o,this._notify(!0))}wait(){let i=this._promises||(this._promises=[]);return new Promise((t,e)=>{i.push({res:t,rej:e})})}_notify(t){var e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class kn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(P(t)){let r=Object.keys(I.animation),o=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{var n=t[i];if(P(n)){let e={};for(let t of r)e[t]=n[t];(T(n.properties)&&n.properties||[i]).forEach(t=>{t!==i&&o.has(t)||o.set(t,e)})}})}}_animateOptions(t,e){let i=e.options,n=((e,i)=>{if(i){let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}})(t,i);return n?(e=this._createAnimations(n,i),i.$shared&&((e,t)=>{var i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){var r=e[n[t]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)})(t.options.$animations,i).then(()=>{t.options=i},()=>{}),e):[]}_createAnimations(e,i){var n=this._properties,r=[],o=e.$animations||(e.$animations={}),t=Object.keys(i),s=Date.now();let a;for(a=t.length-1;0<=a;--a){var l=t[a];if("$"!==l.charAt(0))if("options"===l)r.push(...this._animateOptions(e,i));else{var h=i[l];let t=o[l];var c=n.get(l);if(t){if(c&&t.active()){t.update(c,h,s);continue}t.cancel()}c&&c.duration?(o[l]=t=new wn(c,e,l,h),r.push(t)):e[l]=h}}return r}update(t,e){var i;if(0!==this._properties.size)return(i=this._createAnimations(t,e)).length?(o.add(this._chart,i),!0):void 0;Object.assign(t,e)}}function Sn(t,e){var t=t&&t.options||{},i=t.reverse,n=void 0===t.min?e:0,t=void 0===t.max?e:0;return{start:i?t:n,end:i?n:t}}function An(t,e){var i=[],n=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function En(t,e,i,n={}){var r=t.keys,o="single"===n.mode;let s,a,l,h;if(null!==e){for(s=0,a=r.length;s<a;++s){if((l=+r[s])===i){if(n.all)continue;break}g(h=t.values[l])&&(o||0===e||x(e)===x(h))&&(e+=h)}return e}}function Cn(t,e){t=t&&t.options.stacked;return t||void 0===t&&void 0!==e.stack}function Mn(e,t,i,n){for(var r of t.getMatchingVisibleMetas(n).reverse()){let t=e[r.index];if(i&&0<t||!i&&t<0)return r.index}return null}function Tn(t,r){let{chart:e,_cachedMeta:o}=t,s=e._stacks||(e._stacks={}),{iScale:i,vScale:a,index:l}=o,h=i.axis,c=a.axis,u=i.id+`.${a.id}.`+(o.stack||o.type),d=r.length;var f,p,g;for(let n=0;n<d;++n){let t=r[n],{[h]:e,[c]:i}=t;(p=(t._stacks||(t._stacks={}))[c]=(g=e,(f=(f=s)[p=u]||(f[p]={}))[g]||(f[g]={})))[l]=i,p._top=Mn(p,a,!0,o.type),p._bottom=Mn(p,a,!1,o.type),(p._visualValues||(p._visualValues={}))[l]=i}}function Pn(t,e){let i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function Ln(t,i){var n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){i=i||t._parsed;for(let e of i){let t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}let On=t=>"reset"===t||"none"===t,Dn=(t,e)=>e?t:Object.assign({},t);class In{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Cn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ln(this._cachedMeta),this.index=t}linkScales(){var t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,r=e.xAxisID=L(i.xAxisID,Pn(t,"x")),o=e.yAxisID=L(i.yAxisID,Pn(t,"y")),i=e.rAxisID=L(i.rAxisID,Pn(t,"r")),t=e.indexAxis,s=e.iAxisID=n(t,r,o,i),n=e.vAxisID=n(t,o,r,i);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(i),e.iScale=this.getScaleForId(s),e.vScale=this.getScaleForId(n)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){var t=this._cachedMeta;this._data&&wt(this._data,this),t._stacked&&Ln(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(P(e)){let c=this._cachedMeta;this._data=(t=>{var{iScale:e,vScale:i}=c,n="x"===e.axis?"x":"y",r="x"===i.axis?"x":"y",o=Object.keys(t),s=new Array(o.length);let a,l,h;for(a=0,l=o.length;a<l;++a)h=o[a],s[a]={[n]:h,[r]:t[h]};return s})(e)}else if(i!==e){if(i){wt(i,this);let t=this._cachedMeta;Ln(t),t._parsed=[]}e&&Object.isExtensible(e)&&_t(e,this),this._syncList=[],this._data=e}}addElements(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){var e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();var r=e._stacked;e._stacked=Cn(e.vScale,e),e.stack!==i.stack&&(n=!0,Ln(e),e.stack=i.stack),this._resyncElements(t),!n&&r===e._stacked||Tn(this,e._parsed)}configure(){var t=this.chart.config,e=t.datasetScopeKeys(this._type),e=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(e,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:n,_data:r}=this,{iScale:t,_stacked:o}=n,s=t.axis,a,l,h,c=0===e&&i===r.length||n._sorted,u=0<e&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,h=r;else{h=T(r[e])?this.parseArrayData(n,r,e,i):P(r[e])?this.parseObjectData(n,r,e,i):this.parsePrimitiveData(n,r,e,i);let t=()=>null===l[s]||u&&l[s]<u[s];for(a=0;a<i;++a)n._parsed[a+e]=l=h[a],c&&(t()&&(c=!1),u=l);n._sorted=c}o&&Tn(this,h)}parsePrimitiveData(t,e,i,n){var{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,l=r.getLabels(),h=r===o,c=new Array(n);let u,d,f;for(u=0,d=n;u<d;++u)f=u+i,c[u]={[s]:h||r.parse(l[f],f),[a]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,n){var{xScale:r,yScale:o}=t,s=new Array(n);let a,l,h,c;for(a=0,l=n;a<l;++a)c=e[h=a+i],s[a]={x:r.parse(c[0],h),y:o.parse(c[1],h)};return s}parseObjectData(t,e,i,n){var{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(n);let h,c,u,d;for(h=0,c=n;h<c;++h)d=e[u=h+i],l[h]={x:r.parse(p(d,s),u),y:o.parse(p(d,a),u)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){var n=this.chart,r=this._cachedMeta,o=e[t.axis];return En({keys:An(n,!0),values:e._stacks[t.axis]._visualValues},o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){var r=i[e.axis];let o=null===r?NaN:r;i=n&&i._stacks[e.axis];n&&i&&(n.values=i,o=En(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(e,t){let i=this._cachedMeta,n=i._parsed,r=i._sorted&&e===i.iScale,o=n.length,s=this._getOtherScale(e),a=(u=this.chart,t&&!i.hidden&&i._stacked&&{keys:An(u,!0),values:null}),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=(()=>{var{min:t,max:e,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}})();var u;let d,f;function p(){var t=(f=n[d])[s.axis];return!g(f[e.axis])||h>t||c<t}for(d=0;d<o&&(p()||(this.updateRangeFromParsed(l,e,f,a),!r));++d);if(r)for(d=o-1;0<=d;--d)if(!p()){this.updateRangeFromParsed(l,e,f,a);break}return l}getAllParsedValues(t){var e=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=e.length;n<r;++n)g(o=e[n][t.axis])&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,t=this.getParsed(t);return{label:i?""+i.getLabelForValue(t[i.axis]):"",value:e?""+e.getLabelForValue(t[e.axis]):""}}_update(t){var e,i=this._cachedMeta;this.update(t||"default"),i._clip=(t=>{let e,i,n,r;return P(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:!1===t}})(L(this.options.clip,(t=i.xScale,i=i.yScale,!1!==(e=this.getMaxOverflow())&&(t=Sn(t,e),{top:(i=Sn(i,e)).end,right:t.end,bottom:i.start,left:t.start}))))}update(t){}draw(){let e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],r=t.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(e,r,s,a),h=s;h<s+a;++h){let t=n[h];t.hidden||(t.active&&l?o.push(t):t.draw(e,r))}for(h=0;h<o.length;++h)o[h].draw(e,r)}getStyle(t,e){e=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(e):this.resolveDataElementOptions(t||0,e)}getContext(e,t,i){var n,r=this.getDataset();let o;if(0<=e&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(o=t.$context||(t.$context=Ci(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else(o=this.$context||(this.$context=(e=this.chart.getContext(),n=this.index,Ci(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})))).dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let n="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&K(i);var l,h,c;return s?Dn(s,a):(h=(c=this.chart.config).datasetElementScopeKeys(this._type,t),l=n?[t+"Hover","hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),h),t=Object.keys(I.elements[t]),(c=c.resolveNamedOptions(h,t,()=>this.getContext(i,n,e),l)).$shared&&(c.$shared=a,r[o]=Object.freeze(Dn(c,a))),c)}_resolveAnimations(n,r,o){let t=this.chart,e=this._cachedDataOpts,i="animation-"+r,s=e[i];if(s)return s;let a;if(!1!==t.options.animation){let t=this.chart.config,e=t.datasetAnimationScopeKeys(this._type,r),i=t.getOptionScopes(this.getDataset(),e);a=t.createResolver(i,this.getContext(n,o,r))}n=new kn(t,a&&a.animations);return a&&a._cacheable&&(e[i]=Object.freeze(n)),n}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||On(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){var t=this.resolveDataElementOptions(t,e),i=this._sharedOptions,n=this.getSharedOptions(t),i=this.includeOptions(e,n)||n!==i;return this.updateSharedOptions(n,e,t),{sharedOptions:n,includeOptions:i}}updateElement(t,e,i,n){On(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!On(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;var r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];var n=i.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),n<r?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){let n=this._cachedMeta,r=n.data,o=t+e,s;var a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){var i,n=this._cachedMeta;this._parsing&&(i=n._parsed.splice(t,e),n._stacked)&&Ln(n,i),n.data.splice(t,e)}_sync(t){var e,i,n;this._parsing?this._syncList.push(t):([e,i,n]=t,this[e](i,n)),this.chart._dataChanges.push([this.index,...t])}_onDataPush(){var t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);e=arguments.length-2;e&&this._sync(["_insertElements",t,e])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class e{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){var{x:t,y:e}=this.getProps(["x","y"],t);return{x:t,y:e}}hasValue(){return at(this.x)&&at(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let n={};return t.forEach(t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]}),n}}function $n(t,n){let e=t.options.ticks,i=(c=(t=t).options.offset,u=t._tickSize(),c=t._length/u+(c?0:1),Math.floor(Math.min(c,t._maxLength/u))),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?(t=>{var e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e})(n):[],s=o.length,a=o[0],l=o[s-1],h=[];var c,u;if(r<s){var d=n;var f=h;var p=o;var g=s/r;let t,e=0,i=p[0];for(g=Math.ceil(g),t=0;t<d.length;t++)t===i&&(f.push(d[t]),e++,i=p[e*g])}else{var m=((t,e,i)=>{var t=(t=>{var e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n})(t),n=e.length/i;if(t){var r=st(t);for(let e=0,t=r.length-1;e<t;e++){let t=r[e];if(t>n)return t}}return Math.max(n,1)})(o,n,r);if(0<s){let t,e,i=1<s?Math.round((l-a)/(s-1)):null;for(Rn(n,h,m,A(i)?0:a-i,a),t=0,e=s-1;t<e;t++)Rn(n,h,m,o[t],o[t+1]);Rn(n,h,m,l,A(i)?n.length:l+i)}else Rn(n,h,m)}return h}function Rn(t,e,i,n,r){var o=L(n,0),s=Math.min(L(r,t.length),t.length);let a,l,h,c=0;for(i=Math.ceil(i),r&&(i=(a=r-n)/Math.floor(a/i)),h=o;h<0;)c++,h=Math.round(o+c*i);for(l=Math.max(o,0);l<s;l++)l===h&&(e.push(t[l]),c++,h=Math.round(o+c*i))}let Fn=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,zn=(t,e)=>Math.min(e||t,t);function Nn(t,e){var i=[],n=t.length/e,r=t.length;let o=0;for(;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function jn(t){return t.drawTicks?t.tickLength:0}function Bn(t,e){var i;return t.display?(e=R(t.font,e),i=$(t.padding),(T(t.text)?t.text.length:1)*e.lineHeight+i.height):0}class Hn extends e{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){var{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this,t=d(t,Number.POSITIVE_INFINITY),e=d(e,Number.NEGATIVE_INFINITY),i=d(i,Number.POSITIVE_INFINITY),n=d(n,Number.NEGATIVE_INFINITY);return{min:d(t,i),max:d(e,n),minDefined:g(t),maxDefined:g(e)}}getMinMax(i){let n,{min:r,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:r,max:o};var l=this.getMatchingVisibleMetas();for(let t=0,e=l.length;t<e;++t)n=l[t].controller.getMinMax(this,i),s||(r=Math.min(r,n.min)),a||(o=Math.max(o,n.max));return r=a&&r>o?o:r,o=s&&r>o?r:o,{min:d(r,d(o,r)),max:d(o,d(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){u(this.options.beforeUpdate,[this])}update(t,e,i){var{beginAtZero:n,grace:r,ticks:o}=this.options,s=o.sampleSize,t=(this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ei(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks(),s<this.ticks.length);this._convertTicksToLabels(t?Nn(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=$n(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),t&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){u(this.options.afterUpdate,[this])}beforeSetDimensions(){u(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){u(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),u(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){u(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){var e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)(r=t[i]).label=u(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){u(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){u(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){var t,e,i,n,r=this.options,o=r.ticks,s=zn(this.ticks.length,r.ticks.maxTicksLimit),a=o.minRotation||0,l=o.maxRotation;let h,c,u,d=a;!this._isVisible()||!o.display||l<=a||s<=1||!this.isHorizontal()?this.labelRotation=a:(e=(t=this._getLabelSizes()).widest.width,i=t.highest.height,n=M(this.chart.width-e,0,this.maxWidth),(r.offset?this.maxWidth/s:n/(s-1))<e+6&&(h=n/(s-(r.offset?.5:1)),c=this.maxHeight-jn(r.grid)-o.padding-Bn(r.title,this.chart.options.font),u=Math.sqrt(e*e+i*i),d=ct(Math.min(Math.asin(M((t.highest.height+6)/h,-1,1)),Math.asin(M(c/u,-1,1))-Math.asin(M(i/u,-1,1)))),d=Math.max(a,Math.min(l,d))),this.labelRotation=d)}afterCalculateLabelRotation(){u(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){u(this.options.beforeFit,[this])}fit(){let l={width:0,height:0},{chart:e,options:{ticks:h,title:i,grid:n}}=this,t=this._isVisible(),c=this.isHorizontal();if(t){let t=Bn(i,e.options.font);if(c?(l.width=this.maxWidth,l.height=jn(n)+t):(l.height=this.maxHeight,l.width=jn(n)+t),h.display&&this.ticks.length){let{first:t,last:e,widest:i,highest:n}=this._getLabelSizes(),r=2*h.padding,o=O(this.labelRotation),s=Math.cos(o),a=Math.sin(o);if(c){let t=h.mirror?0:a*i.width+s*n.height;l.height=Math.min(this.maxHeight,l.height+t+r)}else{let t=h.mirror?0:s*i.width+a*n.height;l.width=Math.min(this.maxWidth,l.width+t+r)}this._calculatePadding(t,e,a,s)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(r,o,s,a){let{ticks:{align:l,padding:h},position:t}=this.options,c=0!==this.labelRotation,u="top"!==t&&"x"===this.axis;if(this.isHorizontal()){let t=this.getPixelForTick(0)-this.left,e=this.right-this.getPixelForTick(this.ticks.length-1),i=0,n=0;c?n=u?(i=a*r.width,s*o.height):(i=s*r.height,a*o.width):"start"===l?n=o.width:"end"===l?i=r.width:"inner"!==l&&(i=r.width/2,n=o.width/2),this.paddingLeft=Math.max((i-t+h)*this.width/(this.width-t),0),this.paddingRight=Math.max((n-e+h)*this.width/(this.width-e),0)}else{let t=o.height/2,e=r.height/2;"start"===l?(t=0,e=r.height):"end"===l&&(t=o.height,e=0),this.paddingTop=t+h,this.paddingBottom=e+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){u(this.options.afterFit,[this])}isHorizontal(){var{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)A(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){var i=this.options.ticks.sampleSize;let t=this.ticks;i<t.length&&(t=Nn(t,i)),this._labelSizes=e=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(t,e,i){let{ctx:n,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/zn(e,i)),l,h,c,u,d,f,p,g,m,v,y,b=0,x=0;for(l=0;l<e;l+=a){if(u=t[l].label,d=this._resolveTickFontOptions(l),n.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,A(u)||T(u)){if(T(u))for(h=0,c=u.length;h<c;++h)A(y=u[h])||T(y)||(m=De(n,p.data,p.gc,m,y),v+=g)}else m=De(n,p.data,p.gc,m,u),v=g;o.push(m),s.push(v),b=Math.max(m,b),x=Math.max(v,x)}_=e,S(r,t=>{var e=t.gc,i=e.length/2;let n;if(_<i){for(n=0;n<i;++n)delete t.data[e[n]];e.splice(0,i)}});var _,i=o.indexOf(b),w=s.indexOf(x),k=t=>({width:o[t]||0,height:s[t]||0});return{first:k(0),last:k(e-1),widest:k(i),highest:k(w),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);t=this._startPixel+t*this._length;return mt(this._alignToPixels?$e(this.chart,t,0):t)}getDecimalForPixel(t){t=(t-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){var{min:t,max:e}=this;return t<0&&e<0?e:0<t&&0<e?t:0}getContext(t){var e=this.ticks||[];return 0<=t&&t<e.length?(e=e[t]).$context||(e.$context=Ci(this.getContext(),{tick:e,index:t,type:"tick"})):this.$context||(this.$context=Ci(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){var t=this.options.ticks,e=O(this.labelRotation),i=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),n=this._getLabelSizes(),t=t.autoSkipPadding||0,r=n?n.widest.width+t:0,n=n?n.highest.height+t:0;return this.isHorizontal()?r*e<n*i?r/i:n/e:n*e<r*i?n/i:r/e}_isVisible(){var t=this.options.display;return"auto"!==t?!!t:0<this.getMatchingVisibleMetas().length}_computeGridLineItems(t){function i(t){return $e(u,t,l)}let e=this.axis,u=this.chart,n=this.options,{grid:d,position:r,border:f}=n,p=d.offset,g=this.isHorizontal(),o=this.ticks.length+(p?1:0),s=jn(d),m=[],a=f.setContext(this.getContext()),l=a.display?a.width:0,h=l/2,c,v,y,b,x,_,w,k,S,A,E,C;if("top"===r)c=i(this.bottom),_=this.bottom-s,k=c-h,A=i(t.top)+h,C=t.bottom;else if("bottom"===r)c=i(this.top),A=t.top,C=i(t.bottom)-h,_=c+h,k=this.top+s;else if("left"===r)c=i(this.right),x=this.right-s,w=c-h,S=i(t.left)+h,E=t.right;else if("right"===r)c=i(this.left),S=t.left,E=i(t.right)-h,x=c+h,w=this.left+s;else if("x"===e){if("center"===r)c=i((t.top+t.bottom)/2+.5);else if(P(r)){let t=Object.keys(r)[0],e=r[t];c=i(this.chart.scales[t].getPixelForValue(e))}A=t.top,C=t.bottom,_=c+h,k=_+s}else if("y"===e){if("center"===r)c=i((t.left+t.right)/2);else if(P(r)){let t=Object.keys(r)[0],e=r[t];c=i(this.chart.scales[t].getPixelForValue(e))}x=c-h,w=x-s,S=t.left,E=t.right}var t=L(n.ticks.maxTicksLimit,o),M=Math.max(1,Math.ceil(o/t));for(v=0;v<o;v+=M){let t=this.getContext(v),e=d.setContext(t),i=f.setContext(t),n=e.lineWidth,r=e.color,o=i.dash||[],s=i.dashOffset,a=e.tickWidth,l=e.tickColor,h=e.tickBorderDash||[],c=e.tickBorderDashOffset;void 0!==(y=((t,e,i)=>{var n=t.ticks.length,r=Math.min(e,n-1),o=t._startPixel,s=t._endPixel;let a,l=t.getPixelForTick(r);if(!(i&&(a=1===n?Math.max(l-o,s-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,(l+=r<e?a:-a)<o-1e-6||l>s+1e-6)))return l})(this,v,p))&&(b=$e(u,y,n),g?x=w=S=E=b:_=k=A=C=b,m.push({tx1:x,ty1:_,tx2:w,ty2:k,x1:S,y1:A,x2:E,y2:C,width:n,color:r,borderDash:o,borderDashOffset:s,tickWidth:a,tickColor:l,tickBorderDash:h,tickBorderDashOffset:c}))}return this._ticksLength=o,this._borderValue=c,m}_computeLabelItems(t){let e=this.axis,i=this.options,{position:a,ticks:l}=i,h=this.isHorizontal(),c=this.ticks,{align:n,crossAlign:u,padding:r,mirror:d}=l,o=jn(i.grid),s=o+r,f=d?-r:s,p=-O(this.labelRotation),g=[],m,v,y,b,x,_,w,k,S,A,E,C="middle";if("top"===a)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===a)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===a){let t=this._getYAxisLabelAlignment(o);_=t.textAlign,b=t.x}else if("right"===a){let t=this._getYAxisLabelAlignment(o);_=t.textAlign,b=t.x}else if("x"===e){if("center"===a)x=(t.top+t.bottom)/2+s;else if(P(a)){let t=Object.keys(a)[0],e=a[t];x=this.chart.scales[t].getPixelForValue(e)+s}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===a)b=(t.left+t.right)/2-s;else if(P(a)){let t=Object.keys(a)[0],e=a[t];b=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(o).textAlign}"y"===e&&("start"===n?C="top":"end"===n&&(C="bottom"));var M=this._getLabelSizes();for(m=0,v=c.length;m<v;++m){y=c[m].label;let o=l.setContext(this.getContext(m)),t=(w=this.getPixelForTick(m)+l.labelOffset,S=(k=this._resolveTickFontOptions(m)).lineHeight,(A=T(y)?y.length:1)/2),e=o.color,i=o.textStrokeColor,n=o.textStrokeWidth,s,r=_;if(h?(b=w,"inner"===_&&(r=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),E="top"===a?"near"===u||0!=p?-A*S+S/2:"center"===u?-M.highest.height/2-t*S+S:-M.highest.height+S/2:"near"===u||0!=p?S/2:"center"===u?M.highest.height/2-t*S:M.highest.height-A*S,d&&(E*=-1),0==p||o.showLabelBackdrop||(b+=S/2*Math.sin(p))):(x=w,E=(1-A)*S/2),o.showLabelBackdrop){let t=$(o.backdropPadding),e=M.heights[m],i=M.widths[m],n=E-t.top,r=0-t.left;switch(C){case"middle":n-=e/2;break;case"bottom":n-=e}switch(_){case"center":r-=i/2;break;case"right":r-=i;break;case"inner":m===v-1?r-=i:0<m&&(r-=i/2)}s={left:r,top:n,width:i+t.width,height:e+t.height,color:o.backdropColor}}g.push({label:y,font:k,textOffset:E,options:{rotation:p,color:e,strokeColor:i,strokeWidth:n,textAlign:r,textBaseline:C,translation:[b,x],backdrop:s}})}return g}_getXAxisLabelAlignment(){var{position:t,ticks:e}=this.options;if(-O(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){var{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,t=t+r,o=this._getLabelSizes().widest.width;let s,a;return"left"===e?n?(a=this.right+r,"near"===i?s="left":"center"===i?(s="center",a+=o/2):(s="right",a+=o)):(a=this.right-t,"near"===i?s="right":"center"===i?(s="center",a-=o/2):(s="left",a=this.left)):"right"===e?n?(a=this.left+r,"near"===i?s="right":"center"===i?(s="center",a-=o/2):(s="left",a-=o)):(a=this.left+t,"near"===i?s="left":"center"===i?(s="center",a+=o/2):(s="right",a=this.right)):s="right",{textAlign:s,x:a}}_computeLabelArea(){var t,e;if(!this.options.ticks.mirror)return t=this.chart,"left"===(e=this.options.position)||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){var{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,o),t.restore())}getLineWidthForValue(e){var t,i=this.options.grid;return this._isVisible()&&i.display&&0<=(t=this.ticks.findIndex(t=>t.value===e))?i.setContext(this.getContext(t)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,o;var s=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){let t=i[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){var{chart:r,ctx:o,options:{border:s,grid:a}}=this,l=s.setContext(this.getContext()),s=s.display?l.width:0;if(s){var a=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let t,e,i,n;this.isHorizontal()?(t=$e(r,this.left,s)-s/2,e=$e(r,this.right,a)+a/2,i=n=h):(i=$e(r,this.top,s)-s/2,n=$e(r,this.bottom,a)+a/2,t=e=h),o.save(),o.lineWidth=l.width,o.strokeStyle=l.color,o.beginPath(),o.moveTo(t,i),o.lineTo(e,n),o.stroke(),o.restore()}}drawLabels(i){if(this.options.ticks.display){let n=this.ctx,t=this._computeLabelArea(),e=(t&&Ne(n,t),this.getLabelItems(i));for(let i of e){let t=i.options,e=i.font;Ue(n,i.label,0,i.textOffset,e,t)}t&&je(n)}}drawTitle(){var{ctx:e,options:{position:i,title:n,reverse:r}}=this;if(n.display){var o=R(n.font),s=$(n.padding),a=n.align;let t=o.lineHeight/2;"bottom"===i||"center"===i||P(i)?(t+=s.bottom,T(n.text)&&(t+=o.lineHeight*(n.text.length-1))):t+=s.top;var{titleX:s,titleY:l,maxWidth:h,rotation:c}=((t,i,n,e)=>{var{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:l,scales:h}=l;let c,u,d,f=0;var p=s-r,g=a-o;if(t.isHorizontal()){if(u=D(e,o,a),P(n)){let t=Object.keys(n)[0],e=n[t];d=h[t].getPixelForValue(e)+p-i}else d="center"===n?(l.bottom+l.top)/2+p-i:Fn(t,n,i);c=a-o}else{if(P(n)){let t=Object.keys(n)[0],e=n[t];u=h[t].getPixelForValue(e)-g+i}else u="center"===n?(l.left+l.right)/2-g+i:Fn(t,n,i);d=D(e,s,r),f="left"===n?-C:C}return{titleX:u,titleY:d,maxWidth:c,rotation:f}})(this,t,i,a);Ue(e,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:c,textAlign:((t,e,i)=>{let n=Ct(t);return n=i&&"right"!==e||!i&&"right"===e?"left"===(t=n)?"right":"right"===t?"left":t:n})(a,i,r),textBaseline:"middle",translation:[s,l]})}}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){var t=this.options,e=t.ticks&&t.ticks.z||0,i=L(t.grid&&t.grid.z,-1),t=L(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Hn.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:t,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(e){var i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,t;for(o=0,t=i.length;o<t;++o){let t=i[o];t[n]!==this.id||e&&t.type!==e||r.push(t)}return r}_resolveTickFontOptions(t){return R(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Un{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){var e=Object.getPrototypeOf(t);let i;"id"in(s=e)&&"defaults"in s&&(i=this.register(e));var n,r,o,s=this.items,e=t.id,a=this.scope+"."+e;if(e)return e in s||(s[e]=t,s=t,e=a,n=i,n=W(Object.create(null),[n?I.get(n):{},I.get(e),s.defaults]),I.set(e,n),s.defaultRoutes&&(r=e,o=s.defaultRoutes,Object.keys(o).forEach(t=>{var e=t.split("."),i=e.pop(),e=[r].concat(e).join("."),t=o[t].split("."),n=t.pop(),t=t.join(".");I.route(e,i,t,n)})),s.descriptors&&I.describe(e,s.descriptors),this.override&&I.override(t.id,t.overrides)),a;throw new Error("class does not have id: "+t)}get(t){return this.items[t]}unregister(t){var e=this.items,t=t.id,i=this.scope;t in e&&delete e[t],i&&t in I[i]&&(delete I[i][t],this.override)&&delete ge[t]}}var w=new class{constructor(){this.controllers=new Un(In,"datasets",!0),this.elements=new Un(e,"elements"),this.plugins=new Un(Object,"plugins"),this.scales=new Un(Hn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(i,t,n){[...t].forEach(t=>{var e=n||this._getRegistryForType(t);n||e.isForType(t)||e===this.plugins&&t.id?this._exec(i,e,t):S(t,t=>{var e=n||this._getRegistryForType(t);this._exec(i,e,t)})})}_exec(t,e,i){var n=G(t);u(i["before"+n],[],i),e[t](i),u(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){var i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(t,e,i){e=e.get(t);if(void 0===e)throw new Error('"'+t+'" is not a registered '+i+".");return e}};class Wn{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));n=n?this._descriptors(t).filter(n):this._descriptors(t),i=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),i}_notify(t,e,i,n){n=n||{};for(var r of t){let t=r.plugin;if(!1===u(t[i],[e,n,r.options],t)&&n.cancelable)return!1}return!0}invalidate(){A(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){var e;return this._cache||(e=this._cache=this._createDescriptors(t),this._notifyStateChanges(t),e)}_createDescriptors(t,e){var i=t&&t.config,n=L(i.options&&i.options.plugins,{}),i=(t=>{let i={},n=[],e=Object.keys(w.plugins.items);for(let t=0;t<e.length;t++)n.push(w.getPlugin(e[t]));var r=t.plugins||[];for(let e=0;e<r.length;e++){let t=r[e];-1===n.indexOf(t)&&(n.push(t),i[t.id]=!0)}return{plugins:n,localIds:i}})(i);if(!1!==n||e){var r,o,s,a,l,h,c,[u,{plugins:d,localIds:f},p,g]=[t,i,n,e],m=[],v=u.getContext();for(r of d){let t=r.id,e=(c=p[t],g||!1!==c?!0===c?{}:c:null);null!==e&&m.push({plugin:r,options:([c,{plugin:o,local:s},a,l]=[u.config,{plugin:r,local:f[t]},e,v],h=void 0,h=c.pluginScopeKeys(o),a=c.getOptionScopes(a,h),s&&o.defaults&&a.push(o.defaults),c.createResolver(a,l,[""],{scriptable:!1,indexable:!1,allKeys:!0}))})}return m}return[]}_notifyStateChanges(t){var e=this._oldCache||[],i=this._cache,n=(t,i)=>t.filter(e=>!i.some(t=>e.plugin.id===t.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function Vn(t,e){var i=I.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function qn(t){if("x"===t||"y"===t||"r"===t)return t}function Yn(e,...t){if(qn(e))return e;for(var i of t){let t=i.axis||("top"===(i=i.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||1<e.length&&qn(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Xn(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Gn(s,e){let o=ge[s.type]||{scales:{}},a=e.scales||{},l=Vn(s.type,e),h=Object.create(null);return Object.keys(a).forEach(t=>{var e=a[t];if(!P(e))return console.error("Invalid scale configuration for scale: "+t);if(e._proxy)return console.warn("Ignoring resolver passed as options for scale: "+t);let i=Yn(t,e,((e,t)=>{if(t.data&&t.data.datasets){t=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(t.length)return Xn(e,"x",t[0])||Xn(e,"y",t[0])}return{}})(t,s),I.scales[e.type]),n=i===l?"_index_":"_value_",r=o.scales||{};h[t]=V(Object.create(null),[{axis:i},e,r[i],r[n]])}),s.data.datasets.forEach(n=>{let t=n.type||s.type,r=n.indexAxis||Vn(t,e),o=(ge[t]||{}).scales||{};Object.keys(o).forEach(t=>{var e=((t,e)=>{let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i})(t,r),i=n[e+"AxisID"]||e;h[i]=h[i]||Object.create(null),V(h[i],[{axis:e},a[i],o[t]])})}),Object.keys(h).forEach(t=>{t=h[t];V(t,[I.scales[t.type],I.scale])}),h}function Kn(t){var e=t.options||(t.options={});e.plugins=L(e.plugins,{}),e.scales=Gn(t,e)}function Zn(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}let Qn=new Map,Jn=new Set;function tr(t,e){let i=Qn.get(t);return i||(i=e(),Qn.set(t,i),Jn.add(i)),i}let er=(t,e,i)=>{e=p(e,i);void 0!==e&&t.add(e)};class ir{constructor(t){this._config=((t=(t=t)||{}).data=Zn(t.data),Kn(t),t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){var t=this._config;this.clearCache(),Kn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return tr(t,()=>[["datasets."+t,""]])}datasetAnimationScopeKeys(t,e){return tr(t+".transition."+e,()=>[[`datasets.${t}.transitions.`+e,"transitions."+e],["datasets."+t,""]])}datasetElementScopeKeys(t,e){return tr(t+"-"+e,()=>[[`datasets.${t}.elements.`+e,"datasets."+t,"elements."+e,""]])}pluginScopeKeys(t){let e=t.id;return tr(this.type+"-plugin-"+e,()=>[["plugins."+e,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){var i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(e,t,i){let{options:n,type:r}=this,o=this._cachedScopes(e,i),s=o.get(t);if(s)return s;let a=new Set;t.forEach(t=>{e&&(a.add(e),t.forEach(t=>er(a,e,t))),t.forEach(t=>er(a,n,t)),t.forEach(t=>er(a,ge[r]||{},t)),t.forEach(t=>er(a,I,t)),t.forEach(t=>er(a,me,t))});i=Array.from(a);return 0===i.length&&i.push(Object.create(null)),Jn.has(t)&&o.set(t,i),i}chartOptionScopes(){var{options:t,type:e}=this;return[t,ge[e]||{},I.datasets[e]||{},{type:e},I,me]}resolveNamedOptions(t,e,i,n=[""]){var r={$shared:!0},{resolver:n,subPrefixes:o}=nr(this._resolverCache,t,n);let s=n;((n,t)=>{var r,{isScriptable:o,isIndexable:s}=Ye(n);for(r of t){let t=o(r),e=s(r),i=(e||t)&&n[r];if(t&&(f(i)||rr(i))||e&&T(i))return 1}})(n,e)&&(r.$shared=!1,s=qe(n,i=f(i)?i():i,this.createResolver(t,i,o)));for(let t of e)r[t]=s[t];return r}createResolver(t,e,i=[""],n){t=nr(this._resolverCache,t,i).resolver;return P(e)?qe(t,e,void 0,n):t}}function nr(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));t=i.join();let r=n.get(t);return r||(r={resolver:Ve(e,i),subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},n.set(t,r)),r}let rr=e=>P(e)&&Object.getOwnPropertyNames(e).some(t=>f(e[t])),or=["top","bottom","left","right","chartArea"];function sr(t,e){return"top"===t||"bottom"===t||-1===or.indexOf(t)&&"x"===e}function ar(i,n){return function(t,e){return t[i]===e[i]?t[n]-e[n]:t[i]-e[i]}}function lr(t){var e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),u(i&&i.onComplete,[t],e)}function hr(t){var e=t.chart,i=e.options.animation;u(i&&i.onProgress,[t],e)}function cr(t){return be()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t=t&&t.canvas?t.canvas:t}let ur={},dr=t=>{let e=cr(t);return Object.values(ur).filter(t=>t.canvas===e).pop()};function fr(t,e,i){return(t.options.clip?t:e)[i]}class i{static defaults=I;static instances=ur;static overrides=ge;static registry=w;static version="4.4.3";static getChart=dr;static register(...t){w.add(...t),pr()}static unregister(...t){w.remove(...t),pr()}constructor(t,e){var e=this.config=new ir(e),t=cr(t),i=dr(t);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");var i=e.createResolver(e.chartOptionScopes(),this.getContext()),e=(this.platform=new(e.platform||yn(t)),this.platform.updateConfig(e),this.platform.acquireContext(t,i.aspectRatio)),t=e&&e.canvas,n=t&&t.height,r=t&&t.width;this.id=F(),this.ctx=e,this.canvas=t,this.width=r,this.height=n,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Et(t=>this.update(t),i.resizeDelay||0),this._dataChanges=[],ur[this.id]=this,e&&t?(o.listen(this,"complete",lr),o.listen(this,"progress",hr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){var{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return A(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return w}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Te(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Re(this.canvas,this.ctx),this}stop(){return o.stop(this),this}resize(t,e){o.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){var i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(n,t,e,r),t=i.devicePixelRatio||this.platform.getDevicePixelRatio(),e=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,Te(this,t,!0)&&(this.notifyPlugins("resize",{size:n}),u(i.onResize,[this,n],this),this.attached)&&this._doResize(e)&&this.render()}ensureScalesHaveIDs(){S(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){let s=this.options,n=s.scales,a=this.scales,l=Object.keys(a).reduce((t,e)=>(t[e]=!1,t),{}),t=[];S(t=n?t.concat(Object.keys(n).map(t=>{var e=n[t],t=Yn(t,e),i="r"===t,t="x"===t;return{options:e,dposition:i?"chartArea":t?"bottom":"left",dtype:i?"radialLinear":t?"category":"linear"}})):t,t=>{var e=t.options,i=e.id,n=Yn(i,e),r=L(e.type,t.dtype);void 0!==e.position&&sr(e.position,n)===sr(t.dposition)||(e.position=t.dposition),l[i]=!0;let o=null;i in a&&a[i].type===r?o=a[i]:(o=new(w.getScale(r))({id:i,type:r,ctx:this.ctx,chart:this}),a[o.id]=o),o.init(e,s)}),S(l,(t,e)=>{t||delete a[e]}),S(a,t=>{r.configure(this,t,t.options),r.addBox(this,t)})}_updateMetasets(){var t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),e<i){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(ar("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((e,t)=>{0===i.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(t)})}buildOrUpdateControllers(){let r=[],e=this.data.datasets,o,t;for(this._removeUnreferencedMetasets(),o=0,t=e.length;o<t;o++){let t=e[o],n=this.getDatasetMeta(o);var s=t.type||this.config.type;if(n.type&&n.type!==s&&(this._destroyDatasetMeta(o),n=this.getDatasetMeta(o)),n.type=s,n.indexAxis=t.indexAxis||Vn(s,this.options),n.order=t.order||0,n.index=o,n.label=""+t.label,n.visible=this.isDatasetVisible(o),n.controller)n.controller.updateIndex(o),n.controller.linkScales();else{let t=w.getController(s),{datasetElementType:e,dataElementType:i}=I.datasets[s];Object.assign(t,{dataElementType:w.getElement(i),datasetElementType:e&&w.getElement(e)}),n.controller=new t(this,o),r.push(n.controller)}}return this._updateMetasets(),r}_resetElements(){S(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config,i=(e.update(),this._options=e.createResolver(e.chartOptionScopes(),this.getContext())),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let i=0,t=this.data.datasets.length;i<t;i++){let t=this.getDatasetMeta(i).controller,e=!r&&-1===o.indexOf(t);t.buildOrUpdateElements(e),n=Math.max(+t.getMaxOverflow(),n)}n=this._minPadding=i.layout.autoPadding?n:0,this._updateLayout(n),r||S(o,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ar("z","_idx"));var{_active:t,_lastEvent:s}=this;s?this._eventHandler(s,!0):t.length&&this._updateHoverStyles(t,t,!0),this.render()}}_updateScales(){S(this.scales,t=>{r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){var t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);Z(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){var e,i,n,r,o=this._hiddenIndices;for({method:e,start:i,count:n}of this._getUniformDataChanges()||[]){s=void 0;a=void 0;l=void 0;r=void 0;h=void 0;var s=o;var a=i;var l="_removeElements"===e?-n:n;let t=Object.keys(s);for(var h of t){let t=+h;t>=a&&(r=s[h],delete s[h],0<l||t>a)&&(s[t+l]=r)}}}_getUniformDataChanges(){let t=this._dataChanges;if(t&&t.length){this._dataChanges=[];var e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),n=i(0);for(let t=1;t<e;t++)if(!Z(n,i(t)))return;return Array.from(n).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}}_updateLayout(i){if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){r.update(this,this.width,this.height,i);let t=this.chartArea,e=t.width<=0||t.height<=0;this._layers=[],S(this.boxes,t=>{e&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,e=this.data.datasets.length;t<e;++t)this._updateDataset(t,f(i)?i({datasetIndex:t}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(t,e){var i=this.getDatasetMeta(t),t={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",t)&&(i.controller._update(e),t.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",t))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(o.has(this)?this.attached&&!o.running(this)&&o.start(this):(this.draw(),lr({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}_getSortedDatasetMetas(e){var i=this._sortedMetasets,n=[];let r,t;for(r=0,t=i.length;r<t;++r){let t=i[r];e&&!t.visible||n.push(t)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){var e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;0<=t;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}_drawDataset(n){var t=this.ctx,e=n._clip,i=!e.disabled,r=(t=>{var{xScale:e,yScale:i}=n;return e&&i?{left:fr(e,t,"left"),right:fr(e,t,"right"),top:fr(i,t,"top"),bottom:fr(i,t,"bottom")}:t})(this.chartArea),o={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&Ne(t,{left:!1===e.left?0:r.left-e.left,right:!1===e.right?this.width:r.right+e.right,top:!1===e.top?0:r.top-e.top,bottom:!1===e.bottom?this.height:r.bottom+e.bottom}),n.controller.draw(),i&&je(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return _(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){e=Wi.modes[e];return"function"==typeof e?e(this,t,i,n):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,n=i.filter(t=>t&&t._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Ci(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){var e=this.data.datasets[t];return!!e&&("boolean"==typeof(t=this.getDatasetMeta(t)).hidden?!t.hidden:!e.hidden)}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(e,t,i){let n=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,n);K(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){var e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),o.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");var{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Re(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ur[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,n=this.platform,e=(t,e)=>{n.addEventListener(this,t,e),i[t]=e},r=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};S(this.options.events,t=>e(t,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,n=this.platform,t=(t,e)=>{n.addEventListener(this,t,e),i[t]=e},e=(t,e)=>{i[t]&&(n.removeEventListener(this,t,e),delete i[t])},r=(t,e)=>{this.canvas&&this.resize(t,e)},o,s=()=>{e("attach",s),this.attached=!0,this.resize(),t("resize",r),t("detach",o)};o=()=>{this.attached=!1,e("resize",r),this._stop(),this._resize(0,0),t("attach",s)},(n.isAttached(this.canvas)?s:o)()}unbindEvents(){S(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},S(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){var n=i?"set":"remove";let r,o,s;for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+n+"DatasetHoverStyle"](),o=0,s=e.length;o<s;++o){let t=(r=e[o])&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){var e=this._active||[],t=t.map(({datasetIndex:t,index:e})=>{var i=this.getDatasetMeta(t);if(i)return{datasetIndex:t,element:i.data[e],index:e};throw new Error("No dataset found at index "+t)});j(t,e)||(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(t,e,i){var n=this.options.hover,r=(t,i)=>t.filter(e=>!i.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),o=r(e,t),i=i?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){var i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1!==this.notifyPlugins("beforeEvent",i,n))return t=this._handleEvent(e,t,i.inChartArea),i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(t||i.changed)&&this.render(),this}_handleEvent(t,e,i){let{_active:n=[],options:r}=this,o=e,s=this._getActiveElements(t,n,i,o),a=Q(t),l=(h=t,c=this._lastEvent,i&&"mouseout"!==h.type?a?c:h:null);i&&(this._lastEvent=null,u(r.onHover,[t,s,this],this),a)&&u(r.onClick,[t,s,this],this);var h,c=!j(s,n);return(c||e)&&(this._active=s,this._updateHoverStyles(s,n,e)),this._lastEvent=l,c}_getActiveElements(t,e,i,n){return"mouseout"===t.type?[]:i?(i=this.options.hover,this.getElementsAtEventForMode(t,i.mode,i,n)):e}}function pr(){S(i.instances,t=>t._plugins.invalidate())}function gr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var mr={_date:class os{static override(t){Object.assign(os.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return gr()}parse(){return gr()}format(){return gr()}add(){return gr()}diff(){return gr()}startOf(){return gr()}endOf(){return gr()}}};function vr(t){var e=t.iScale,i=(n=>{if(!n._cache.$bar){var r=n.getMatchingVisibleMetas(t.type);let i=[];for(let t=0,e=r.length;t<e;t++)i=i.concat(r[t].controller.getAllParsedValues(n));n._cache.$bar=kt(i.sort((t,e)=>t-e))}return n._cache.$bar})(e);let n,r,o,s,a=e._length;var l=()=>{32767!==o&&-32768!==o&&(K(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(n=0,r=i.length;n<r;++n)o=e.getPixelForValue(i[n]),l();for(s=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),l();return a}function yr(i,n,r,o){if(T(i)){var s=i,a=n,l=r,h=o,c=l.parse(s[0],h),s=l.parse(s[1],h),h=Math.min(c,s),u=Math.max(c,s);let t=h,e=u;Math.abs(h)>Math.abs(u)&&(t=u,e=h),a[l.axis]=e,a._custom={barStart:t,barEnd:e,start:c,end:s,min:h,max:u}}else n[r.axis]=r.parse(i,o);return n}function br(t,e,i,n){var r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let h,c,u,d;for(c=(h=i)+n;h<c;++h)d=e[h],(u={})[r.axis]=a||r.parse(s[h],h),l.push(yr(d,u,o,h));return l}function xr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function _r(o,t,e,i){let n=t.borderSkipped;var r,s,a,l,h,t={};return n?!0===n?o.borderSkipped={top:!0,right:!0,bottom:!0,left:!0}:({start:r,end:s,reverse:a,top:l,bottom:h}=(()=>{let t,e,i,n,r;return i=o.horizontal?(t=o.base>o.x,e="left","right"):(t=o.base<o.y,e="bottom","top"),r=t?(n="end","start"):(n="start","end"),{start:e,end:i,reverse:t,top:n,bottom:r}})(),"middle"===n&&e&&(o.enableBorderRadius=!0,n=(e._top||0)===i?l:(e._bottom||0)===i?h:(t[wr(h,r,s,a)]=!0,l)),t[wr(n,r,s,a)]=!0,void(o.borderSkipped=t)):o.borderSkipped=t}function wr(t,e,i,n){return t=n?kr(t=t===e?i:t===i?e:t,i,e):kr(t,e,i)}function kr(t,e,i){return"start"===t?e:"end"===t?i:t}class Sr extends In{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){var t=o.data;if(t.labels.length&&t.datasets.length){let{pointStyle:n,color:r}=o.legend.options.labels;return t.labels.map((t,e)=>{var i=o.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!o.getDataVisibility(e),index:e}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,r){let o=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=o;else{let t,e,i=t=>+o[t];if(P(o[n])){let{key:e="value"}=this._parsing;i=t=>+p(o[t],e)}for(e=(t=n)+r;t<e;++t)s._parsed[t]=i(t)}}_getRotation(){return O(this.options.rotation-90)}_getCircumference(){return O(this.options.circumference)}_getRotationExtents(){let e=b,i=-b;for(let t=0;t<this.chart.data.datasets.length;++t){var n,r;this.chart.isDatasetVisible(t)&&this.chart.getDatasetMeta(t).type===this._type&&(n=(r=this.chart.getDatasetMeta(t).controller)._getRotation(),r=r._getCircumference(),e=Math.min(e,n),i=Math.max(i,n+r))}return{rotation:e,circumference:i-e}}update(t){var e=this.chart.chartArea,i=this._cachedMeta,n=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,o=Math.max((Math.min(e.width,e.height)-r)/2,0),o=Math.min(z(this.options.cutout,o),1),s=this._getRingWeight(this.index),{circumference:a,rotation:l}=this._getRotationExtents(),{ratioX:l,ratioY:a,offsetX:h,offsetY:c}=((d,f,p)=>{let g=1,m=1,v=0,y=0;if(f<b){let n=d,r=n+f,t=Math.cos(n),e=Math.sin(n),i=Math.cos(r),o=Math.sin(r),s=(t,e,i)=>gt(t,n,r,!0)?1:Math.max(e,e*p,i,i*p),a=(t,e,i)=>gt(t,n,r,!0)?-1:Math.min(e,e*p,i,i*p),l=s(0,t,i),h=s(C,e,o),c=a(E,t,i),u=a(E+C,e,o);g=(l-c)/2,m=(h-u)/2,v=-(l+c)/2,y=-(h+u)/2}return{ratioX:g,ratioY:m,offsetX:v,offsetY:y}})(l,a,o),l=(e.width-r)/l,e=(e.height-r)/a,r=Math.max(Math.min(l,e)/2,0),a=N(this.options.radius,r),l=(a-Math.max(a*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=h*a,this.offsetY=c*a,i.total=this.calculateTotal(),this.outerRadius=a-l*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-l*s,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){var i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/b)}updateElements(n,t,e,r){let o="reset"===r,i=this.chart,s=i.chartArea,a=i.options.animation,l=(s.left+s.right)/2,h=(s.top+s.bottom)/2,c=o&&a.animateScale,u=c?0:this.innerRadius,d=c?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r),g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,o);for(g=t;g<t+e;++g){let t=this._circumference(g,o),e=n[g],i={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:u};p&&(i.options=f||this.resolveDataElementOptions(g,e.active?"active":r)),m+=t,this.updateElement(e,g,i,r)}}calculateTotal(){var t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){var r=t._parsed[i];null===r||isNaN(r)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(r))}return n}calculateCircumference(t){var e=this._cachedMeta.total;return 0<e&&!isNaN(t)?b*(Math.abs(t)/e):0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=de(e._parsed[t],i.options.locale);return{label:n[t]||"",value:e}}getMaxBorderWidth(t){let e=0;var i=this.chart;let n,r,o,s,a;if(!t)for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){t=(o=i.getDatasetMeta(n)).data,s=o.controller;break}if(!t)return 0;for(n=0,r=t.length;n<r;++n)"inner"!==(a=s.resolveDataElementOptions(n)).borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(i){let n=0;for(let e=0,t=i.length;e<t;++e){let t=this.resolveDataElementOptions(e);n=Math.max(n,t.offset||0,t.hoverOffset||0)}return n}_getRingWeightOffset(e){let i=0;for(let t=0;t<e;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i}_getRingWeight(t){return Math.max(L(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Ar extends In{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){var t=o.data;if(t.labels.length&&t.datasets.length){let{pointStyle:n,color:r}=o.legend.options.labels;return t.labels.map((t,e)=>{var i=o.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!o.getDataVisibility(e),index:e}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=de(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:e}}parseObjectData(t,e,i,n){return ni.bind(this)(t,e,i,n)}update(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,e)=>{var i=this.getParsed(e).r;!isNaN(i)&&this.chart.getDataVisibility(e)&&(i<n.min&&(n.min=i),i>n.max)&&(n.max=i)}),n}_updateRadius(){var t=this.chart,e=t.chartArea,i=t.options,e=Math.min(e.right-e.left,e.bottom-e.top),e=Math.max(e/2,0),i=(e-Math.max(i.cutoutPercentage?e/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=e-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(r,t,e,o){var s="reset"===o,a=this.chart,l=a.options.animation,h=this._cachedMeta.rScale,c=h.xCenter,u=h.yCenter,d=h.getIndexAngle(0)-.5*E;let f,p=d;var g=360/this.countVisibleElements();for(f=0;f<t;++f)p+=this._computeAngle(f,o,g);for(f=t;f<t+e;f++){let t=r[f],e=p,i=p+this._computeAngle(f,o,g),n=a.getDataVisibility(f)?h.getDistanceFromCenterForValue(this.getParsed(f).r):0;p=i,s&&(l.animateScale&&(n=0),l.animateRotate)&&(e=i=d);var m={x:c,y:u,innerRadius:0,outerRadius:n,startAngle:e,endAngle:i,options:this.resolveDataElementOptions(f,t.active?"active":o)};this.updateElement(t,f,m,o)}}countVisibleElements(){var t=this._cachedMeta;let i=0;return t.data.forEach((t,e)=>{!isNaN(this.getParsed(e).r)&&this.chart.getDataVisibility(e)&&i++}),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?O(this.resolveDataElementOptions(t,e).angle||i):0}}Pe=Object.freeze({__proto__:null,BarController:class extends In{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,n){return br(t,e,i,n)}parseArrayData(t,e,i,n){return br(t,e,i,n)}parseObjectData(t,e,i,n){var{iScale:r,vScale:o}=t,{xAxisKey:t="x",yAxisKey:s="y"}=this._parsing,a="x"===r.axis?t:s,l="x"===o.axis?t:s,h=[];let c,u,d,f;for(u=(c=i)+n;c<u;++c)f=e[c],(d={})[r.axis]=r.parse(p(f,a),c),h.push(yr(p(f,l),d,o,c));return h}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){var{iScale:e,vScale:i}=this._cachedMeta,t=this.getParsed(t),n=t._custom,n=xr(n)?"["+n.start+", "+n.end+"]":""+i.getLabelForValue(t[i.axis]);return{label:""+e.getLabelForValue(t[e.axis]),value:n}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(s,t,e,a){var l,h,c="reset"===a,{index:u,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),p=d.isHorizontal(),g=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,a);for(let o=t;o<t+e;o++){let t=this.getParsed(o),e=c||A(t[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(o),i=this._calculateBarIndexPixels(o,g),n=(t._stacks||{})[d.axis],r={horizontal:p,base:e.base,enableBorderRadius:!n||xr(t._custom)||u===n._top||u===n._bottom,x:p?e.head:i.center,y:p?i.center:e.head,height:p?i.size:Math.abs(e.size),width:p?Math.abs(e.size):i.size};v&&(r.options=m||this.resolveDataElementOptions(o,s[o].active?"active":a));var y=r.options||s[o].options;_r(r,y,n,u),[y,{inflateAmount:l},h]=[r,y,g.ratio],y.inflateAmount="auto"===l?1===h?.33:0:l,this.updateElement(s[o],o,r,a)}}_getStacks(e,i){let t=this._cachedMeta.iScale,n=t.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),r=t.options.stacked,o=[];for(let t of n)if((void 0===i||!(t=>{var e=t.controller.getParsed(i),e=e&&e[t.vScale.axis];if(A(e)||isNaN(e))return!0})(t))&&((!1===r||-1===o.indexOf(t.stack)||void 0===r&&void 0===t.stack)&&o.push(t.stack),t.index===e))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){t=this._getStacks(t,i),i=void 0!==e?t.indexOf(e):-1;return-1===i?t.length-1:i}_getRuler(){var t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));var s=t.barThickness;return{min:s||vr(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:o,index:s},options:{base:e,minBarLength:a}}=this,l=e||0,h=this.getParsed(t),i=h._custom,c=xr(i),u,d,f=h[r.axis],n=0,p=o?this.applyStack(r,h,o):f;p!==f&&(n=p-f,p=f),c&&(f=i.barStart,p=i.barEnd-i.barStart,0!==f&&x(f)!==x(i.barEnd)&&(n=0),n+=f);var g,m,v=A(e)||c?n:e;let y=r.getPixelForValue(v);if(u=this.chart.getDataVisibility(t)?r.getPixelForValue(n+p):y,d=u-y,Math.abs(d)<a){d=(v=d,g=r,m=l,(0!==v?x(v):(g.isHorizontal()?1:-1)*(g.min>=m?1:-1))*a),f===l&&(y-=d/2);let t=r.getPixelForDecimal(0),e=r.getPixelForDecimal(1),i=Math.min(t,e),n=Math.max(t,e);y=Math.max(Math.min(y,n),i),u=y+d,o&&!c&&(h._stacks[r.axis]._visualValues[s]=r.getValueForPixel(u)-r.getValueForPixel(y))}if(y===r.getPixelForValue(l)){let t=x(d)*r.getLineWidthForValue(l)/2;y+=t,d-=t}return{size:d,base:y,head:u,center:u+d/2}}_calculateBarIndexPixels(n,r){let t=r.scale,o=this.options,s=o.skipNull,a=L(o.maxBarThickness,1/0),l,h;if(r.grouped){let t=s?this._getStackCount(n):r.stackCount,e=("flex"===o.barThickness?(t,e,i,n)=>{var r=e.pixels,o=r[t];let s=0<t?r[t-1]:null,a=t<r.length-1?r[t+1]:null;return r=i.categoryPercentage,null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s),t=o-(o-Math.min(s,a))/2*r,{chunk:Math.abs(a-s)/2*r/n,ratio:i.barPercentage,start:t}}:(t,e,i,n)=>{var r=i.barThickness;let o,s;return s=A(r)?(o=e.min*i.categoryPercentage,i.barPercentage):(o=r*n,1),{chunk:o/n,ratio:s,start:e.pixels[t]-o/2}})(n,r,o,t),i=this._getStackIndex(this.index,this._cachedMeta.stack,s?n:void 0);l=e.start+e.chunk*i+e.chunk/2,h=Math.min(a,e.chunk*e.ratio)}else l=t.getPixelForValue(this.getParsed(n)[t.axis],n),h=Math.min(a,r.min*r.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){var t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)null===this.getParsed(r)[e.axis]||i[r].hidden||i[r].draw(this._ctx)}},BubbleController:class extends In{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){var r=super.parsePrimitiveData(t,e,i,n);for(let t=0;t<r.length;t++)r[t]._custom=this.resolveDataElementOptions(t+i).radius;return r}parseArrayData(t,i,n,e){var r=super.parseArrayData(t,i,n,e);for(let e=0;e<r.length;e++){let t=i[n+e];r[e]._custom=L(t[2],this.resolveDataElementOptions(e+n).radius)}return r}parseObjectData(t,i,n,e){var r=super.parseObjectData(t,i,n,e);for(let e=0;e<r.length;e++){let t=i[n+e];r[e]._custom=L(t&&t.r&&+t.r,this.resolveDataElementOptions(e+n).radius)}return r}getMaxOverflow(){var e=this._cachedMeta.data;let i=0;for(let t=e.length-1;0<=t;--t)i=Math.max(i,e[t].size(this.resolveDataElementOptions(t))/2);return 0<i&&i}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:e,yScale:n}=e,r=this.getParsed(t),e=e.getLabelForValue(r.x),n=n.getLabelForValue(r.y),r=r._custom;return{label:i[t]||"",value:"("+e+", "+n+(r?", "+r:"")+")"}}update(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(s,t,e,a){var l="reset"===a,{iScale:h,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,a),f=h.axis,p=c.axis;for(let o=t;o<t+e;o++){let t=s[o],e=!l&&this.getParsed(o),i={},n=i[f]=l?h.getPixelForDecimal(.5):h.getPixelForValue(e[f]),r=i[p]=l?c.getBasePixel():c.getPixelForValue(e[p]);i.skip=isNaN(n)||isNaN(r),d&&(i.options=u||this.resolveDataElementOptions(o,t.active?"active":a),l)&&(i.options.radius=0),this.updateElement(t,o,i,a)}}resolveDataElementOptions(t,e){var i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);t=(n=n.$shared?Object.assign({},n,{$shared:!1}):n).radius;return"active"!==e&&(n.radius=0),n.radius+=L(i&&i._custom,t),n}},DoughnutController:Sr,LineController:class extends In{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){var e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:s,count:a}=Tt(e,n,o);this._drawStart=s,this._drawCount=a,Pt(e)&&(s=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0),e.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:e},t),this.updateElements(n,s,a,t)}updateElements(n,r,t,o){let s="reset"===o,{iScale:a,vScale:l,_stacked:h,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,o),f=a.axis,p=l.axis,{spanGaps:e,segment:g}=this.options,m=at(e)?e:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===o,y=r+t,b=n.length,x=0<r&&this.getParsed(r-1);for(let i=0;i<b;++i){let t=n[i],e=v?t:{};var _,w,k,S;i<r||i>=y?e.skip=!0:(w=A((_=this.getParsed(i))[p]),k=e[f]=a.getPixelForValue(_[f],i),S=e[p]=s||w?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,_,h):_[p],i),e.skip=isNaN(k)||isNaN(S)||w,e.stop=0<i&&Math.abs(_[f]-x[f])>m,g&&(e.parsed=_,e.raw=c.data[i]),d&&(e.options=u||this.resolveDataElementOptions(i,t.active?"active":o)),v||this.updateElement(t,i,e,o),x=_)}}getMaxOverflow(){var t,e=this._cachedMeta,i=e.dataset,i=i.options&&i.options.borderWidth||0,e=e.data||[];return e.length?(t=e[0].size(this.resolveDataElementOptions(0)),e=e[e.length-1].size(this.resolveDataElementOptions(e.length-1)),Math.max(i,t,e)/2):i}draw(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends Sr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Ar,RadarController:class extends In{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){var e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return ni.bind(this)(t,e,i,n)}update(e){let t=this._cachedMeta,i=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(i.points=n,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);var o={_loop:!0,_fullLoop:r.length===n.length,options:t};this.updateElement(i,void 0,o,e)}this.updateElements(n,0,n.length,e)}updateElements(a,t,e,l){var h=this._cachedMeta.rScale,c="reset"===l;for(let s=t;s<t+e;s++){let t=a[s],e=this.resolveDataElementOptions(s,t.active?"active":l),i=h.getPointPositionForValue(s,this.getParsed(s).r),n=c?h.xCenter:i.x,r=c?h.yCenter:i.y,o={x:n,y:r,angle:i.angle,skip:isNaN(n)||isNaN(r),options:e};this.updateElement(t,s,o,l)}}},ScatterController:class extends In{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:e,yScale:n}=e,r=this.getParsed(t),e=e.getLabelForValue(r.x),n=n.getLabelForValue(r.y);return{label:i[t]||"",value:"("+e+", "+n+")"}}update(i){var n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled;let{start:t,count:e}=Tt(n,r,o);if(this._drawStart=t,this._drawCount=e,Pt(n)&&(t=0,e=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:t,_dataset:e}=n;t._chart=this.chart,t._datasetIndex=this.index,t._decimated=!!e._decimated,t.points=r;var s=this.resolveDatasetElementOptions(i);s.segment=this.options.segment,this.updateElement(t,void 0,{animated:!o,options:s},i)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,t,e,i)}addElements(){var t=this.options.showLine;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(a,t,e,l){let h="reset"===l,{iScale:c,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,i=this.resolveDataElementOptions(t,l),p=this.getSharedOptions(i),g=this.includeOptions(l,p),m=c.axis,v=u.axis,{spanGaps:n,segment:y}=this.options,b=at(n)?n:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||h||"none"===l,_=0<t&&this.getParsed(t-1);for(let s=t;s<t+e;++s){let t=a[s],e=this.getParsed(s),i=x?t:{},n=A(e[v]),r=i[m]=c.getPixelForValue(e[m],s),o=i[v]=h||n?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,e,d):e[v],s);i.skip=isNaN(r)||isNaN(o)||n,i.stop=0<s&&Math.abs(e[m]-_[m])>b,y&&(i.parsed=e,i.raw=f.data[s]),g&&(i.options=p||this.resolveDataElementOptions(s,t.active?"active":l)),x||this.updateElement(t,s,i,l),_=e}this.updateSharedOptions(p,l,i)}getMaxOverflow(){var t,e,i=this._cachedMeta,n=i.data||[];if(this.options.showLine)return i=(i=i.dataset).options&&i.options.borderWidth||0,n.length?(t=n[0].size(this.resolveDataElementOptions(0)),e=n[n.length-1].size(this.resolveDataElementOptions(n.length-1)),Math.max(i,t,e)/2):i;{let e=0;for(let t=n.length-1;0<=t;--t)e=Math.max(e,n[t].size(this.resolveDataElementOptions(t))/2);return 0<e&&e}}}});function Er(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Cr(r,t,e,i,n,o){var{x:s,y:a,startAngle:l,pixelMargin:h,innerRadius:c}=t,u=Math.max(t.outerRadius+i+e-h,0),h=0<c?c+i+e+h:0;let d=0;var f=n-l;if(i){let t=((0<c?c-i:0)+(0<u?u-i:0))/2;d=(f-(0!=t?f*t/(t+i):f))/2}var c=(f-Math.max(.001,f*u-e/E)/u)/2,f=l+c+d,l=n-c-d,{outerStart:c,outerEnd:p,innerStart:g,innerEnd:m}=((t,e,i,n)=>{t=wi(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);let r=(i-e)/2,o=Math.min(r,n*e/2),s=t=>{var e=(i-Math.min(r,t))*n/2;return M(t,0,Math.min(r,e))};return{outerStart:s(t.outerStart),outerEnd:s(t.outerEnd),innerStart:M(t.innerStart,0,o),innerEnd:M(t.innerEnd,0,o)}})(t,h,u,l-f),v=u-c,y=u-p,b=f+c/v,x=l-p/y,_=h+g,w=h+m,k=f+g/_,S=l-m/w;if(r.beginPath(),o){let t=(b+x)/2;if(r.arc(s,a,u,b,t),r.arc(s,a,u,t,x),0<p){let t=Er(y,x,s,a);r.arc(t.x,t.y,p,x,l+C)}let e=Er(w,l,s,a);if(r.lineTo(e.x,e.y),0<m){let t=Er(w,S,s,a);r.arc(t.x,t.y,m,l+C,S+Math.PI)}let i=(l-m/h+(f+g/h))/2;if(r.arc(s,a,h,l-m/h,i,!0),r.arc(s,a,h,i,f+g/h,!0),0<g){let t=Er(_,k,s,a);r.arc(t.x,t.y,g,k+Math.PI,f-C)}let n=Er(v,f,s,a);if(r.lineTo(n.x,n.y),0<c){let t=Er(v,b,s,a);r.arc(t.x,t.y,c,f-C,b)}}else{r.moveTo(s,a);let t=Math.cos(b)*u+s,e=Math.sin(b)*u+a,i=(r.lineTo(t,e),Math.cos(x)*u+s),n=Math.sin(x)*u+a;r.lineTo(i,n)}r.closePath()}function Mr(t,e,i=e){t.lineCap=L(i.borderCapStyle,e.borderCapStyle),t.setLineDash(L(i.borderDash,e.borderDash)),t.lineDashOffset=L(i.borderDashOffset,e.borderDashOffset),t.lineJoin=L(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=L(i.borderWidth,e.borderWidth),t.strokeStyle=L(i.borderColor,e.borderColor)}function Tr(t,e,i){t.lineTo(i.x,i.y)}function Pr(t,e,i={}){var t=t.length,{start:i=0,end:n=t-1}=i,{start:r,end:o}=e,s=Math.max(i,r),a=Math.min(n,o);return{count:t,start:s,loop:e.loop,ilen:a<s&&!(i<r&&n<r||o<i&&o<n)?t+a-s:a-s}}function Lr(t,e,i,n){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:h}=Pr(r,i,n),c=o.stepped?Be:o.tension||"monotone"===o.cubicInterpolationMode?He:Tr,u,d,f,{move:p=!0,reverse:g}=n||{};for(u=0;u<=h;++u)(d=r[(a+(g?h-u:u))%s]).skip||(p?(t.moveTo(d.x,d.y),p=!1):c(t,f,d,g,o.stepped),f=d);return l&&(d=r[(a+(g?h:0))%s],c(t,f,d,g,o.stepped)),!!l}function Or(n,t,e,i){let r=t.points,{count:o,start:s,ilen:a}=Pr(r,e,i),{move:l=!0,reverse:h}=i||{},c,u,d,f,p,g,m=0,v=0;var y=t=>(s+(h?a-t:t))%o,b=()=>{f!==p&&(n.lineTo(m,p),n.lineTo(m,f),n.lineTo(m,g))};for(l&&(u=r[y(0)],n.moveTo(u.x,u.y)),c=0;c<=a;++c)if(!(u=r[y(c)]).skip){let t=u.x,e=u.y,i=0|t;i===d?(e<f?f=e:e>p&&(p=e),m=(v*m+t)/++v):(b(),n.lineTo(t,e),d=i,v=0,f=p=e),g=e}b()}function Dr(t){var e=t.options,i=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i?Lr:Or}let Ir="function"==typeof Path2D;function $r(t,e,i,n){(Ir&&!e.options.segment?(t,e,i,n)=>{let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),Mr(t,e.options),t.stroke(r)}:(t,e,i,n)=>{var r,{segments:o,options:s}=e,a=Dr(e);for(r of o)Mr(t,s,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+n-1})&&t.closePath(),t.stroke()})(t,e,i,n)}class Rr extends e{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){var i,n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(i=n.spanGaps?this._loop:this._fullLoop,ci(this._points,n,t,i,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$i(this,this.options.segment))}first(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){var t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(o,s){var a=this.options,l=o[s],h=this.points,c=Ii(this,{property:s,start:l,end:l});if(c.length){var u,d=[],f=a.stepped?mi:a.tension||"monotone"===a.cubicInterpolationMode?vi:gi;let r,t;for(r=0,t=c.length;r<t;++r){let{start:t,end:e}=c[r],i=h[t],n=h[e];i===n?d.push(i):((u=f(i,n,Math.abs((l-i[s])/(n[s]-i[s])),a.stepped))[s]=o[s],d.push(u))}return 1===d.length?d[0]:d}}pathSegment(t,e,i){return Dr(this)(t,this,e,i)}path(t,e,i){var n,r=this.segments,o=Dr(this);let s=this._loop;e=e||0,i=i||this.points.length-e;for(n of r)s&=o(t,this,n,{start:e,end:e+i-1});return!!s}draw(t,e,i,n){var r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),$r(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Fr(t,e,i,n){var r=t.options,{[i]:t}=t.getProps([i],n);return Math.abs(e-t)<r.radius+r.hitRadius}function zr(t,e){var{x:e,y:i,base:n,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let s,a,l,h,c;return h=t.horizontal?(c=o/2,s=Math.min(e,n),a=Math.max(e,n),l=i-c,i+c):(c=r/2,s=e-c,a=e+c,l=Math.min(i,n),Math.max(i,n)),{left:s,top:l,right:a,bottom:h}}function Nr(t,e,i,n){return t?0:M(e,i,n)}function jr(t,e,i,n){var r=null===e,o=null===i,t=t&&!(r&&o)&&zr(t,n);return t&&(r||c(e,t.left,t.right))&&(o||c(i,t.top,t.bottom))}function Br(t,e){t.rect(e.x,e.y,e.w,e.h)}function Hr(t,e,i={}){var n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0;return{x:t.x+n,y:t.y+r,w:t.w+((t.x+t.w!==i.x+i.w?e:0)-n),h:t.h+((t.y+t.h!==i.y+i.h?e:0)-r),radius:t.radius}}var Ur=Object.freeze({__proto__:null,ArcElement:class extends e{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){var{angle:t,distance:e}=dt(this.getProps(["x","y"],i),{x:t,y:e}),{startAngle:i,endAngle:n,innerRadius:r,outerRadius:o,circumference:s}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),a=(this.options.spacing+this.options.borderWidth)/2,s=L(s,n-i)>=b||gt(t,i,n),t=c(e,r+a,o+a);return s&&t}getCenterPoint(t){var{x:t,y:e,startAngle:i,endAngle:n,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:s,spacing:a}=this.options,i=(i+n)/2,n=(r+o+a+s)/2;return{x:t+Math.cos(i)*n,y:e+Math.sin(i)*n}}tooltipPosition(t){return this.getCenterPoint(t)}draw(e){var{options:i,circumference:n}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,s=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=n>b?Math.floor(n/b):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var a=(this.startAngle+this.endAngle)/2,a=(e.translate(Math.cos(a)*r,Math.sin(a)*r),r*(1-Math.sin(Math.min(E,n||0))));e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor;{var l=e;r=this;n=a;i=o;var h=s;var{fullCircles:c,startAngle:u,circumference:d}=r;let t=r.endAngle;if(c){Cr(l,r,n,i,t,h);for(let t=0;t<c;++t)l.fill();isNaN(d)||(t=u+(d%b||b))}Cr(l,r,n,i,t,h),l.fill()}var f=e,u=this,d=a,r=o,n=s,{fullCircles:p,startAngle:i,circumference:h,options:a}=u,{borderWidth:o,borderJoinStyle:s,borderDash:g,borderDashOffset:m}=a,a="inner"===a.borderAlign;if(o){f.setLineDash(g||[]),f.lineDashOffset=m,a?(f.lineWidth=2*o,f.lineJoin=s||"round"):(f.lineWidth=o,f.lineJoin=s||"bevel");let t=u.endAngle;if(p){Cr(f,u,d,r,t,n);for(let t=0;t<p;++t)f.stroke();isNaN(h)||(t=i+(h%b||b))}if(a){g=f;m=u;o=t;var{startAngle:m,pixelMargin:s,x:i,y:h,outerRadius:a,innerRadius:v}=m,y=s/a;g.beginPath(),g.arc(i,h,a,m-y,o+y),s<v?g.arc(i,h,v,o+(y=s/v),m-y,!0):g.arc(i,h,s,o+C,m-C),g.closePath(),g.clip()}p||(Cr(f,u,d,r,t,n),f.stroke())}e.restore()}}},BarElement:class extends e{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var e,i,n,r,o,s,a,{inflateAmount:l,options:{borderColor:h,backgroundColor:c}}=this,{inner:u,outer:d}=(n=zr(e=this),r=n.right-n.left,d=r/2,s=(o=n.bottom-n.top)/2,a=(i=e).options.borderWidth,i=i.borderSkipped,a=ki(a),s={t:Nr(i.top,a.top,0,s),r:Nr(i.right,a.right,0,d),b:Nr(i.bottom,a.bottom,0,s),l:Nr(i.left,a.left,0,d)},i=r/2,a=o/2,e=(d=e).getProps(["enableBorderRadius"]).enableBorderRadius,u=d.options.borderRadius,f=Si(u),i=Math.min(i,a),a=d.borderSkipped,e={topLeft:Nr(!(d=e||P(u))||a.top||a.left,f.topLeft,0,i),topRight:Nr(!d||a.top||a.right,f.topRight,0,i),bottomLeft:Nr(!d||a.bottom||a.left,f.bottomLeft,0,i),bottomRight:Nr(!d||a.bottom||a.right,f.bottomRight,0,i)},{outer:{x:n.left,y:n.top,w:r,h:o,radius:e},inner:{x:n.left+s.l,y:n.top+s.t,w:r-s.l-s.r,h:o-s.t-s.b,radius:{topLeft:Math.max(0,e.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,e.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,e.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,e.bottomRight-Math.max(s.b,s.r))}}}),f=(a=d.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?We:Br;t.save(),d.w===u.w&&d.h===u.h||(t.beginPath(),f(t,Hr(d,l,u)),t.clip(),f(t,Hr(u,-l,d)),t.fillStyle=h,t.fill("evenodd")),t.beginPath(),f(t,Hr(u,l)),t.fillStyle=c,t.fill(),t.restore()}inRange(t,e,i){return jr(this,t,e,i)}inXRange(t,e){return jr(this,t,null,e)}inYRange(t,e){return jr(this,null,t,e)}getCenterPoint(t){var{x:t,y:e,base:i,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(t+i)/2:t,y:n?e:(e+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:Rr,PointElement:class extends e{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){var n=this.options,{x:i,y:r}=this.getProps(["x","y"],i);return Math.pow(t-i,2)+Math.pow(e-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return Fr(this,t,"x",e)}inYRange(t,e){return Fr(this,t,"y",e)}getCenterPoint(t){var{x:t,y:e}=this.getProps(["x","y"],t);return{x:t,y:e}}size(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}draw(t,e){var i=this.options;this.skip||i.radius<.1||!_(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Fe(t,i,this.x,this.y))}getRange(){var t=this.options||{};return t.radius+t.hitRadius}}});function Wr(t){var e=this.getLabels();return 0<=t&&t<e.length?e[t]:t}function Vr(t,e,{horizontal:i,minRotation:n}){n=O(n),i=(i?Math.sin(n):Math.cos(n))||.001;return Math.min(e/i,.75*e*(""+t).length)}class qr extends Hn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return A(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let t=this.options.beginAtZero,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:r}=this;var o,s=t=>n=e?n:t,a=t=>r=i?r:t;if(t){let t=x(n),e=x(r);t<0&&e<0?a(0):0<t&&0<e&&s(0)}n===r&&(o=0===r?1:Math.abs(.05*r),a(r+o),t||s(n-o)),this.min=n,this.max=r}getTickLimit(){let t,{maxTicksLimit:e,stepSize:i}=this.options.ticks;return i?1e3<(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3):(t=this.computeTickLimit(),e=e||11),t=e?Math.min(e,t):t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){var t=this.options,e=t.ticks,i=this.getTickLimit(),i=((t,e)=>{var i=[],{bounds:n,step:r,min:o,max:s,precision:a,count:l,maxTicks:h,maxDigits:c,includeBounds:u}=t,d=r||1,f=h-1,{min:e,max:p}=e,g=!A(o),m=!A(s),v=!A(l),c=(p-e)/(c+1);let y,b,x,_,w=ot((p-e)/f/d)*d;if(w<1e-14&&!g&&!m)return[{value:e},{value:p}];(_=Math.ceil(p/w)-Math.floor(e/w))>f&&(w=ot(_*w/f/d)*d),A(a)||(y=Math.pow(10,a),w=Math.ceil(w*y)/y),x="ticks"===n?(b=Math.floor(e/w)*w,Math.ceil(p/w)*w):(b=e,p),g&&m&&r&&lt((s-o)/r,w/1e3)?(_=Math.round(Math.min((s-o)/w,h)),w=(s-o)/_,b=o,x=s):v?(b=g?o:b,x=m?s:x,_=l-1,w=(x-b)/_):_=rt(_=(x-b)/w,Math.round(_),w/1e3)?Math.round(_):Math.ceil(_),f=Math.max(ut(w),ut(b)),y=Math.pow(10,A(a)?f:a),b=Math.round(b*y)/y,x=Math.round(x*y)/y;let k=0;for(g&&(u&&b!==o?(i.push({value:o}),b<o&&k++,rt(Math.round((b+k*w)*y)/y,o,Vr(o,c,t))&&k++):b<o&&k++);k<_;++k){let t=Math.round((b+k*w)*y)/y;if(m&&t>s)break;i.push({value:t})}return m&&u&&x!==s?i.length&&rt(i[i.length-1].value,s,Vr(s,c,t))?i[i.length-1].value=s:i.push({value:s}):m&&x!==s||i.push({value:x}),i})({maxTicks:Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&ht(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){var t=this.ticks;let e=this.min,i=this.max;super.configure(),this.options.offset&&t.length&&(t=(i-e)/Math.max(t.length-1,1)/2,e-=t,i+=t),this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return de(t,this.chart.options.locale,this.options.ticks.format)}}class Yr extends qr{static id="linear";static defaults={ticks:{callback:pe.formatters.numeric}};determineDataLimits(){var{min:t,max:e}=this.getMinMax(!0);this.min=g(t)?t:0,this.max=g(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){var t=this.isHorizontal(),e=t?this.width:this.height,i=O(this.options.ticks.minRotation),t=(t?Math.sin(i):Math.cos(i))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/t))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}let Xr=t=>Math.floor(a(t)),Gr=(t,e)=>Math.pow(10,Xr(t)+e);function Kr(t){return 1==t/Math.pow(10,Xr(t))}function Zr(t,e,i){i=Math.pow(10,i),t=Math.floor(t/i);return Math.ceil(e/i)-t}function Qr(t,{min:e,max:i}){e=d(t.min,e);var n=[],r=Xr(e);let o=((t,e)=>{let i=Xr(e-t);for(;10<Zr(t,e,i);)i++;for(;Zr(t,e,i)<10;)i--;return Math.min(i,Xr(t))})(e,i),s=o<0?Math.pow(10,Math.abs(o)):1;var a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,r=Math.round((e-l)*s)/s,h=Math.floor((e-l)/a/10)*a*10;let c=Math.floor((r-h)/Math.pow(10,o)),u=d(t.min,Math.round((l+h+c*Math.pow(10,o))*s)/s);for(;u<i;)n.push({value:u,major:Kr(u),significand:c}),10<=c?c=c<15?15:20:c++,20<=c&&(o++,c=2,s=0<=o?1:s),u=Math.round((l+h+c*Math.pow(10,o))*s)/s;e=d(t.max,u);return n.push({value:e,major:Kr(e),significand:c}),n}class Jr extends Hn{static id="logarithmic";static defaults={ticks:{callback:pe.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){t=qr.prototype.parse.apply(this,[t,e]);if(0!==t)return g(t)&&0<t?t:null;this._zero=!0}determineDataLimits(){var{min:t,max:e}=this.getMinMax(!0);this.min=g(t)?Math.max(0,t):null,this.max=g(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!g(this._userMin)&&(this.min=t===Gr(this.min,0)?Gr(this.min,-1):Gr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),n=this.min,r=this.max;var t=t=>n=e?n:t,o=t=>r=i?r:t;n===r&&(n<=0?(t(1),o(10)):(t(Gr(n,-1)),o(Gr(r,1)))),n<=0&&t(Gr(r,-1)),r<=0&&o(Gr(n,1)),this.min=n,this.max=r}buildTicks(){var t=this.options,e=Qr({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ht(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":de(t,this.chart.options.locale,this.options.ticks.format)}configure(){var t=this.min;super.configure(),this._startValue=a(t),this._valueRange=a(this.max)-a(t)}getPixelForValue(t){return null===(t=void 0!==t&&0!==t?t:this.min)||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(a(t)-this._startValue)/this._valueRange)}getValueForPixel(t){t=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+t*this._valueRange)}}function to(t){var e=t.ticks;if(e.display&&t.display){let t=$(e.backdropPadding);return L(e.font&&e.font.size,I.font.size)+t.height}return 0}function eo(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||r<t?{start:e-i,end:e}:{start:e,end:e+i}}function io(i){let r={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},o=Object.assign({},r),n=[],s=[],t=i._pointLabels.length,a=i.options.pointLabels,l=a.centerPointLabels?E/t:0;for(let e=0;e<t;e++){let t=a.setContext(i.getPointLabelContext(e));s[e]=t.padding;var h=i.getPointPosition(e,i.drawingArea+s[e],l),c=R(t.font),u=(u=i.ctx,c=c,d=T(d=i._pointLabels[e])?d:[d],{w:Ie(u,c.string,d),h:d.length*c.lineHeight}),d=(n[e]=u,y(i.getIndexAngle(e)+l)),c=Math.round(ct(d));{f=void 0;p=void 0;g=void 0;m=void 0;v=void 0;var f=o;var p=r;var g=d;var m=eo(c,h.x,u.w,0,180);var v=eo(c,h.y,u.h,90,270);let t=Math.abs(Math.sin(g)),e=Math.abs(Math.cos(g)),i=0,n=0;m.start<p.l?(i=(p.l-m.start)/t,f.l=Math.min(f.l,p.l-i)):m.end>p.r&&(i=(m.end-p.r)/t,f.r=Math.max(f.r,p.r+i)),v.start<p.t?(n=(p.t-v.start)/e,f.t=Math.min(f.t,p.t-n)):v.end>p.b&&(n=(v.end-p.b)/e,f.b=Math.max(f.b,p.b+n))}}var u,d;i.setCenterPoint(r.l-o.l,o.r-r.r,r.t-o.t,o.b-r.b),i._pointLabelItems=((i,n,r)=>{let o=[],t=i._pointLabels.length,e=i.options,{centerPointLabels:s,display:a}=e.pointLabels,l={extra:to(e)/2,additionalAngle:s?E/t:0},h;for(let e=0;e<t;e++){l.padding=r[e],l.size=n[e];let t=((t,e,i)=>{let n=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=i,l=t.getPointPosition(e,n+r+s,o),h=Math.round(ct(y(l.angle+C))),c=((t,e)=>(90===h||270===h?t-=e/2:(270<h||h<90)&&(t-=e),t))(l.y,a.h),u=(t=>0===t||180===t?"center":t<180?"left":"right")(h),d=((t,e)=>("right"===u?t-=e:"center"===u&&(t-=e/2),t))(l.x,a.w);return{visible:!0,x:l.x,y:c,textAlign:u,left:d,top:c,right:d+a.w,bottom:c+a.h}})(i,e,l);o.push(t),"auto"===a&&(t.visible=((t,e)=>{var i,n,r;return!(e&&({left:t,top:i,right:n,bottom:r}=t,_({x:t,y:i},e)||_({x:t,y:r},e)||_({x:n,y:i},e)||_({x:n,y:r},e)))})(t,h),t.visible)&&(h=t)}return o})(i,n,s)}function no(e,i,t,n){var r=e.ctx;if(t)r.arc(e.xCenter,e.yCenter,i,0,b);else{var o=e.getPointPosition(0,i);r.moveTo(o.x,o.y);for(let t=1;t<n;t++)o=e.getPointPosition(t,i),r.lineTo(o.x,o.y)}}class ro extends qr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pe.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){var t=this._padding=$(to(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){var{min:t,max:e}=this.getMinMax(!1);this.min=g(t)&&!isNaN(t)?t:0,this.max=g(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/to(this.options))}generateTickLabels(t){qr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{t=u(this.options.pointLabels.callback,[t,e],this);return t||0===t?t:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){var t=this.options;t.display&&t.pointLabels.display?io(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){return y(t*(b/(this._pointLabels.length||1))+O(this.options.startAngle||0))}getDistanceFromCenterForValue(t){var e;return A(t)?NaN:(e=this.drawingArea/(this.max-this.min),this.options.reverse?(this.max-t)*e:(t-this.min)*e)}getValueForDistanceFromCenter(t){return A(t)?NaN:(t=t/(this.drawingArea/(this.max-this.min)),this.options.reverse?this.max-t:this.min+t)}getPointLabelContext(t){var e=this._pointLabels||[];if(0<=t&&t<e.length)return e=e[t],Ci(this.getContext(),{label:e,index:t,type:"pointLabel"})}getPointPosition(t,e,i=0){t=this.getIndexAngle(t)-C+i;return{x:Math.cos(t)*e+this.xCenter,y:Math.sin(t)*e+this.yCenter,angle:t}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){var{left:t,top:e,right:i,bottom:n}=this._pointLabelItems[t];return{left:t,top:e,right:i,bottom:n}}drawBackground(){var t,{backgroundColor:e,grid:{circular:i}}=this.options;e&&((t=this.ctx).save(),t.beginPath(),no(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),t.closePath(),t.fillStyle=e,t.fill(),t.restore())}drawGrid(){let n=this.ctx,r=this.options,{angleLines:o,grid:l,border:h}=r,c=this._pointLabels.length,s,u,a;if(r.pointLabels.display){var i=this,t=c,{ctx:d,options:{pointLabels:f}}=i;for(let e=t-1;0<=e;e--){let t=i._pointLabelItems[e];if(t.visible){var p,g=f.setContext(i.getPointLabelContext(e)),m=(p=w=_=x=b=y=v=m=void 0,d),v=g,y=t,{left:b,top:x,right:_,bottom:w}=y;if(!A(p=v.backdropColor)){let t=Si(v.borderRadius),e=$(v.backdropPadding);m.fillStyle=p;v=b-e.left,p=x-e.top,_=_-b+e.width,b=w-x+e.height;Object.values(t).some(t=>0!==t)?(m.beginPath(),We(m,{x:v,y:p,w:_,h:b,radius:t}),m.fill()):m.fillRect(v,p,_,b)}var y=R(g.font),{x:w,y:x,textAlign:m}=t;Ue(d,i._pointLabels[e],w,x+y.lineHeight/2,y,{color:g.color,textAlign:m,textBaseline:"middle"})}}}if(l.display&&this.ticks.forEach((t,e)=>{var i,n,r,o,s,a;(0!==e||0===e&&this.min<0)&&(u=this.getDistanceFromCenterForValue(t.value),t=this.getContext(e),e=l.setContext(t),t=h.setContext(t),i=this,e=e,n=u,r=c,t=t,o=i.ctx,s=e.circular,{color:e,lineWidth:a}=e,!s&&!r||!e||!a||n<0||(o.save(),o.strokeStyle=e,o.lineWidth=a,o.setLineDash(t.dash),o.lineDashOffset=t.dashOffset,o.beginPath(),no(i,n,s,r),o.closePath(),o.stroke(),o.restore()))}),o.display){for(n.save(),s=c-1;0<=s;s--){let t=o.setContext(this.getPointLabelContext(s)),{color:e,lineWidth:i}=t;i&&e&&(n.lineWidth=i,n.strokeStyle=e,n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset,u=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),a=this.getPointPosition(s,u),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(a.x,a.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let s=this.ctx,a=this.options,l=a.ticks;if(l.display){var t=this.getIndexAngle(0);let r,o;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(t),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((e,t)=>{if(!(0===t&&0<=this.min)||a.reverse){var i=l.setContext(this.getContext(t)),n=R(i.font);if(r=this.getDistanceFromCenterForValue(this.ticks[t].value),i.showLabelBackdrop){s.font=n.string,o=s.measureText(e.label).width,s.fillStyle=i.backdropColor;let t=$(i.backdropPadding);s.fillRect(-o/2-t.left,-r-n.size/2-t.top,o+t.width,n.size+t.height)}Ue(s,e.label,0,-r,n,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})}}),s.restore()}}drawTitle(){}}let oo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},h=Object.keys(oo);function so(t,e){return t-e}function ao(t,e){if(A(e))return null;var i=t._adapter,{parser:t,round:n,isoWeekday:r}=t._parseOpts;let o=e;return null===(o=g(o="function"==typeof t?t(o):o)?o:"string"==typeof t?i.parse(o,t):i.parse(o))?null:+(o=n?"week"!==n||!at(r)&&!0!==r?i.startOf(o,n):i.startOf(o,"isoWeek",r):o)}function lo(t,n,r,o){let e=h.length;for(let i=h.indexOf(t);i<e-1;++i){let t=oo[h[i]],e=t.steps||Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((r-n)/(e*t.size))<=o)return h[i]}return h[e-1]}function ho(t,e,i){var n,r;i?i.length&&({lo:n,hi:r}=vt(i,e),t[i[n]>=e?i[n]:i[r]]=!0):t[e]=!0}function co(i,t,n){var r=[],o={},e=t.length;let s,a;for(s=0;s<e;++s)o[a=t[s]]=s,r.push({value:a,major:!1});if(0!==e&&n){var l=r,h=o,c=n,u=i._adapter,n=+u.startOf(l[0].value,c),d=l[l.length-1].value;let t,e;for(t=n;t<=d;t=+u.add(t,1,c))0<=(e=h[t])&&(l[e].major=!0);return l}return r}class uo extends Hn{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){var i=t.time||(t.time={}),n=this._adapter=new mr._date(t.adapters.date);n.init(e),V(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ao(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){var t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(n=Math.min(n,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source)||a(this.getMinMax(!1)),n=g(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=g(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){var t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){var t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate(),r=("ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]),this.min),o=bt(n,r,this.max);return this._unit=e.unit||(i.autoSkip?lo(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):((i,n,t,r,o)=>{for(let e=h.length-1;e>=h.indexOf(t);e--){let t=h[e];if(oo[t].common&&i._adapter.diff(o,r,t)>=n-1)return t}return h[t?h.indexOf(t):0]})(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?(i=>{for(let t=h.indexOf(i)+1,e=h.length;t<e;++t)if(oo[h[t]].common)return h[t]})(this._unit):void 0,this.initOffsets(n),t.reverse&&o.reverse(),co(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e,i,n=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),r=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);t=t.length<3?.5:.25;n=M(n,0,t),r=M(r,0,t),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){var t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||lo(r.minUnit,e,i,this._getLabelCapacity(e)),s=L(n.ticks.stepSize,1),r="week"===o&&r.isoWeekday,a=at(r)||!0===r,l={};let h,c,u=e;if(a&&(u=+t.startOf(u,"isoWeek",r)),u=+t.startOf(u,a?"day":o),t.diff(i,e,o)>1e5*s)throw new Error(e+" and "+i+" are too far apart with stepSize of "+s+" "+o);var d="data"===n.ticks.source&&this.getDataTimestamps();for(h=u,c=0;h<i;h=+t.add(h,s,o),c++)ho(l,h,d);return h!==i&&"ticks"!==n.bounds&&1!==c||ho(l,h,d),Object.keys(l).sort(so).map(t=>+t)}getLabelForValue(t){var e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){var i=this.options.time.displayFormats,n=this._unit,e=e||i[n];return this._adapter.format(t,e)}_tickFormatFunction(t,e,i,n){var r,o=this.options,s=o.ticks.callback;return s?u(s,[t,e,i],this):(s=o.time.displayFormats,o=this._unit,r=this._majorUnit,o=o&&s[o],s=r&&s[r],i=i[e],e=r&&s&&i&&i.major,this._adapter.format(t,n||(e?s:o)))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)(n=t[e]).label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){var e=this._offsets,t=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+t)*e.factor)}getValueForPixel(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+t*(this.max-this.min)}_getLabelSize(t){var e=this.options.ticks,t=this.ctx.measureText(t).width,e=O(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(e),e=Math.sin(e),n=this._resolveTickFontOptions(0).size;return{w:t*i+n*e,h:t*e+n*i}}_getLabelCapacity(t){var e=this.options.time,i=e.displayFormats,e=i[e.unit]||i.millisecond,i=this._tickFormatFunction(t,0,co(this,[t],this._majorUnit),e),t=this._getLabelSize(i),e=Math.floor(this.isHorizontal()?this.width/t.w:this.height/t.h)-1;return 0<e?e:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;var n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){var t=this._cache.labels||[];let e,i;if(t.length)return t;var n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(ao(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return kt(t.sort(so))}}function fo(t,e,i){let n,r,o,s,a=0,l=t.length-1;i?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=m(t,"pos",e)),{pos:n,time:o}=t[a],{pos:r,time:s}=t[l]):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=m(t,"time",e)),{time:n,pos:o}=t[a],{time:r,pos:s}=t[l]);i=r-n;return i?o+(s-o)*(e-n)/i:o}let po=Object.freeze({__proto__:null,CategoryScale:class extends Hn{static id="category";static defaults={ticks:{callback:Wr}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){var e=this._addedLabels;if(e.length){let t=this.getLabels();for(var{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){var i,n,r,o,s,a,l;return A(t)||(i=this.getLabels(),o=e=isFinite(e)&&i[e]===t?e:(n=i,r=L(e,t=t),o=this._addedLabels,-1===(l=n.indexOf(t))?(a=r,o=o,"string"==typeof(s=t)?(a=n.push(s)-1,o.unshift({index:a,label:s})):isNaN(s)&&(a=null),a):l!==n.lastIndexOf(t)?r:l),s=i.length-1,null===o)?null:M(Math.round(o),0,s)}determineDataLimits(){var{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){var e=this.min,i=this.max,t=this.options.offset,n=[];let r=this.getLabels();r=0===e&&i===r.length-1?r:r.slice(e,i+1),this._valueRange=Math.max(r.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let t=e;t<=i;t++)n.push({value:t});return n}getLabelForValue(t){return Wr.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return null===(t="number"!=typeof t?this.parse(t):t)?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:Yr,LogarithmicScale:Jr,RadialLinearScale:ro,TimeScale:uo,TimeSeriesScale:class extends uo{static id="timeseries";static defaults=uo.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){var t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=fo(e,this.min),this._tableRange=fo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){var{min:e,max:i}=this,n=[],r=[];let o,s,a,l,h;for(o=0,s=t.length;o<s;++o)(l=t[o])>=e&&l<=i&&n.push(l);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)h=n[o+1],a=n[o-1],l=n[o],Math.round((h+a)/2)!==l&&r.push({time:l,pos:o/(s-1)});return r}_generate(){var t=this.min,e=this.max,i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort((t,e)=>t-e)}_getTimestampsForTable(){var t,e,i=this._cache.all||[];return i.length||(t=this.getDataTimestamps(),e=this.getLabelTimestamps(),i=t.length&&e.length?this.normalize(t.concat(e)):t.length?t:e,i=this._cache.all=i),i}getDecimalForValue(t){return(fo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return fo(this._table,t*this._tableRange+this._minPos,!0)}}}),go=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mo=go.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function vo(t){return go[t%go.length]}function yo(t){return mo[t%mo.length]}function bo(o){let s=0;return(t,e)=>{var i,n,r,e=o.getDatasetMeta(e).controller;e instanceof Sr?s=(n=t,r=s,n.backgroundColor=n.data.map(()=>vo(r++)),r):e instanceof Ar?s=(n=t,i=s,n.backgroundColor=n.data.map(()=>yo(i++)),i):e&&(s=(e=t,t=s,e.borderColor=vo(t),e.backgroundColor=yo(t),++t))}}function xo(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return 1}var _o={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){var n,r,o;i.enabled&&({data:{datasets:n},options:r}=t.config,o=r.elements,!i.forceOverride&&(xo(n)||r&&(r.borderColor||r.backgroundColor)||o&&xo(o))||(i=bo(t),n.forEach(i)))}};function wo(t){var e;t._decimated&&(e=t._data,delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e}))}function ko(t){t.data.datasets.forEach(t=>{wo(t)})}var So={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,t,w)=>{if(w.enabled){let a=l.width;l.data.datasets.forEach((e,t)=>{var{_data:i,indexAxis:n}=e,h=l.getDatasetMeta(t),r=i||e.data;if("y"!==Ai([n,l.options.indexAxis])&&h.controller.supportsDecimation){t=l.scales[h.xAxisID];if(("linear"===t.type||"time"===t.type)&&!l.options.parsing){var{start:o,count:s}=(t=>{var e=t.length;let i,n=0;var r=h.iScale,{min:o,max:s,minDefined:a,maxDefined:l}=r.getUserBounds();return a&&(n=M(m(t,r.axis,o).lo,0,e-1)),i=l?M(m(t,r.axis,s).hi+1,n,e)-n:e-n,{start:n,count:i}})(r);if(s<=(w.threshold||4*a))wo(e);else{let t;switch(A(i)&&(e._data=r,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),w.algorithm){case"lttb":t=((s,a,l,t)=>{var e=w.samples||t;if(l<=e)return s.slice(a,a+l);var h=[],c=(l-2)/(e-2);let u=0,i=a+l-1,d,f,p,g,m,v=a;for(h[u++]=s[v],d=0;d<e-2;d++){let t,e=0,i=0,n=Math.floor((d+1)*c)+1+a,r=Math.min(Math.floor((d+2)*c)+1,l)+a,o=r-n;for(t=n;t<r;t++)e+=s[t].x,i+=s[t].y;e/=o,i/=o;var y=Math.floor(d*c)+1+a,b=Math.min(Math.floor((d+1)*c)+1,l)+a,{x,y:_}=s[v];for(p=-1,t=y;t<b;t++)(g=.5*Math.abs((x-e)*(s[t].y-_)-(x-s[t].x)*(i-_)))>p&&(p=g,f=s[t],m=t);h[u++]=f,v=m}return h[u++]=s[i],h})(r,o,s,a);break;case"min-max":t=((n,t,e,i)=>{let r,o,s,a,l,h,c,u,d,f,p=0,g=0;var m=[],v=n[t].x,y=n[t+e-1].x-v;for(r=t;r<t+e;++r){s=((o=n[r]).x-v)/y*i,a=o.y;let t=0|s;if(t===l)a<d?(d=a,h=r):a>f&&(f=a,c=r),p=(g*p+o.x)/++g;else{let i=r-1;if(!A(h)&&!A(c)){let t=Math.min(h,c),e=Math.max(h,c);t!==u&&t!==i&&m.push({...n[t],x:p}),e!==u&&e!==i&&m.push({...n[e],x:p})}0<r&&i!==u&&m.push(n[i]),m.push(o),l=t,g=0,d=f=a,h=c=u=r}}return m})(r,o,s,a);break;default:throw new Error(`Unsupported decimation algorithm '${w.algorithm}'`)}e._decimated=t}}}})}else ko(l)},destroy(t){ko(t)}};function Ao(i,n,r,t){if(!t){let t=n[i],e=r[i];return"angle"===i&&(t=y(t),e=y(e)),{property:i,start:t,end:e}}}function Eo(t,e,i){for(;t<e;e--){let t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Co(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function Mo(e,t){let i=[],n=!1;return(i=T(e)?(n=!0,e):(t=>{let{x:i=null,y:n=null}=e||{},r=t.points,o=[];return t.segments.forEach(({start:t,end:e})=>{e=Eo(t,e,r);t=r[t],e=r[e];null!==n?(o.push({x:t.x,y:n}),o.push({x:e.x,y:n})):null!==i&&(o.push({x:i,y:t.y}),o.push({x:i,y:e.y}))}),o})(t)).length?new Rr({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function To(t){return t&&!1!==t.fill}function Po(n,t,e){var i,r,o=(()=>{var t=n.options,e=t.fill;let i=L(e&&e.target,e);return!1!==(i=void 0===i?!!t.backgroundColor:i)&&null!==i&&(!0===i?"origin":i)})();return P(o)?!isNaN(o.value)&&o:g(r=parseFloat(o))&&Math.floor(r)===r?(i=o[0],r=r,!((r="-"!==i&&"+"!==i?r:t+r)===t||r<0||e<=r)&&r):0<=["origin","start","end","stack","shape"].indexOf(o)&&o}function Lo(e,i,n){var r=[];for(let t=0;t<n.length;t++){var{first:o,last:s,point:a}=((t,e,r)=>{let i=t.interpolate(e,r);if(!i)return{};let o=i[r],s=t.segments,a=t.points,l=!1,h=!1;for(let n=0;n<s.length;n++){let t=s[n],e=a[t.start][r],i=a[t.end][r];if(c(o,e,i)){l=o===e,h=o===i;break}}return{first:l,last:h,point:i}})(n[t],i,"x");if(!(!a||o&&s))if(o)r.unshift(a);else if(e.push(a),!s)break}e.push(...r)}class Oo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){var{x:n,y:r,radius:o}=this;return e=e||{start:0,end:b},t.arc(n,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){var{x:e,y:i,radius:n}=this,t=t.angle;return{x:e+Math.cos(t)*n,y:i+Math.sin(t)*n,angle:t}}}function Do(a){var t,e,{chart:i,fill:n,line:r}=a;if(g(n))return t=n,(e=(i=i).getDatasetMeta(t))&&i.isDatasetVisible(t)?e.dataset:null;if("stack"!==n)return"shape"===n||((i=(a=>{if((a.scale||{}).getPointPositionForValue){var l=a;let{scale:e,fill:t}=l,i=e.options,n=e.getLabels().length,r=i.reverse?e.max:e.min,o=(l=t,h=e,"start"===l?r:"end"===l?h.options.reverse?h.min:h.max:P(l)?l.value:h.getBaseValue()),s=[];if(i.grid.circular){let t=e.getPointPositionForValue(0,r);return new Oo({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let t=0;t<n;++t)s.push(e.getPointPositionForValue(t,o));return s}var t=a,{scale:l={},fill:t}=t,h=((t,e)=>{let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:P(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i})(t,l);if(g(h)){let t=l.isHorizontal();return{x:t?h:null,y:t?null:h}}return null})(a))instanceof Oo?i:Mo(i,r));{let{scale:t,index:e,line:i}=a,n=[],r=i.segments,o=i.points,s=((t,e)=>{var i=[],n=t.getMatchingVisibleMetas("line");for(let t=0;t<n.length;t++){var r=n[t];if(r.index===e)break;r.hidden||i.unshift(r.dataset)}return i})(t,e);s.push(Mo({x:null,y:t.bottom},i));for(let t=0;t<r.length;t++){let e=r[t];for(let t=e.start;t<=e.end;t++)Lo(n,o[t],s)}return new Rr({points:n,options:{}})}}function Io(t,e,i){var n,r=Do(e),{line:e,scale:o,axis:s}=e,a=e.options,l=a.fill,a=a.backgroundColor,{above:l=a,below:a=a}=l||{};r&&e.points.length&&(Ne(t,i),n=t,{line:r,target:l,above:a,below:i,area:o,scale:s}=e={line:e,target:r,above:l,below:a,area:i,scale:o,axis:s},e=r._loop?"angle":e.axis,n.save(),"x"===e&&i!==a&&($o(n,l,o.top),Ro(n,{line:r,target:l,color:a,scale:s,property:e}),n.restore(),n.save(),$o(n,l,o.bottom)),Ro(n,{line:r,target:l,color:i,scale:s,property:e}),n.restore(),je(t))}function $o(r,o,s){let{segments:t,points:a}=o,l=!0,h=!1;r.beginPath();for(var c of t){let{start:t,end:e}=c,i=a[t],n=a[Eo(t,e,a)];l?(r.moveTo(i.x,i.y),l=!1):(r.lineTo(i.x,s),r.lineTo(i.x,i.y)),(h=!!o.pathSegment(r,c,{move:h}))?r.closePath():r.lineTo(n.x,s)}r.lineTo(o.first().x,s),r.closePath(),r.clip()}function Ro(a,t){let{line:l,target:h,property:c,color:u,scale:d}=t,e=((t,e,r)=>{let i=t.segments,o=t.points,s=e.points,a=[];for(let t of i){var{start:n,end:l}=t,l=Eo(n,l,o),h=Ao(r,o[n],o[l],t.loop);if(e.segments){var c=Ii(e,h);for(let n of c){let e=Ao(r,s[n.start],s[n.end],n.loop),i=Di(t,o,e);for(let t of i)a.push({source:t,target:n,start:{[r]:Co(h,e,"start",Math.max)},end:{[r]:Co(h,e,"end",Math.min)}})}}else a.push({source:t,target:h,start:o[n],end:o[l]})}return a})(l,h,c);for(let{source:n,target:r,start:o,end:s}of e){let{style:{backgroundColor:t=u}={}}=n,e=!0!==h;a.save(),a.fillStyle=t,y=v=m=g=p=f=void 0;var f=a,p=d,g=e&&Ao(c,o,s),{top:p,bottom:m}=p.chart.chartArea,{property:g,start:v,end:y}=g||{},g=("x"===g&&(f.beginPath(),f.rect(v,p,y-v,m-p),f.clip()),a.beginPath(),!!l.pathSegment(a,n));let i;if(e){g?a.closePath():Fo(a,h,s,c);let t=!!h.pathSegment(a,r,{move:g,reverse:!0});(i=g&&t)||Fo(a,h,o,c)}a.closePath(),a.fill(i?"evenodd":"nonzero"),a.restore()}}function Fo(t,e,i,n){e=e.interpolate(i,n);e&&t.lineTo(e.x,e.y)}var zo={id:"filler",afterDatasetsUpdate(t,e,i){var n=(t.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<n;++s)a=(o=t.getDatasetMeta(s)).dataset,l=null,a&&a.options&&a instanceof Rr&&(l={visible:t.isDatasetVisible(s),index:s,fill:Po(a,s,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<n;++s)(l=r[s])&&!1!==l.fill&&(l.fill=((t,e,i)=>{let n=t[e].fill;var r,o=[e];if(!i)return n;for(;!1!==n&&-1===o.indexOf(n);){if(!g(n))return n;if(!(r=t[n]))return!1;if(r.visible)return n;o.push(n),n=r.fill}return!1})(r,s,i.propagate))},beforeDraw(i,t,e){var n="beforeDraw"===e.drawTime,r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let e=r.length-1;0<=e;--e){let t=r[e].$filler;t&&(t.line.updateControlPoints(o,t.axis),n)&&t.fill&&Io(i.ctx,t,o)}},beforeDatasetsDraw(i,t,e){if("beforeDatasetsDraw"===e.drawTime){var n=i.getSortedVisibleDatasetMetas();for(let e=n.length-1;0<=e;--e){let t=n[e].$filler;To(t)&&Io(i.ctx,t,i.chartArea)}}},beforeDatasetDraw(t,e,i){e=e.meta.$filler;To(e)&&"beforeDatasetDraw"===i.drawTime&&Io(t.ctx,e,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let No=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}};class jo extends e{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},t=u(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(t=>i.filter(t,this.chart.data))),i.sort&&(t=t.sort((t,e)=>i.sort(t,e,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){var{options:i,ctx:n}=this;if(i.display){var r=i.labels,o=R(r.font),s=o.size,a=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=No(r,s);let t,e;n.font=o.string,this.isHorizontal()?(t=this.maxWidth,e=this._fitRows(a,s,r,l)+10):(e=this.maxHeight,t=this._fitCols(a,o,r,l)+10),this.width=Math.min(t,i.maxWidth||this.maxWidth),this.height=Math.min(e,i.maxHeight||this.maxHeight)}else this.width=this.height=0}_fitRows(t,i,n,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],c=r+a,u=t,d=(o.textAlign="left",o.textBaseline="middle",-1),f=-c;return this.legendItems.forEach((t,e)=>{t=n+i/2+o.measureText(t.text).width;(0===e||h[h.length-1]+t+2*a>s)&&(u+=c,h[h.length-(0<e?0:1)]=0,f+=c,d++),l[e]={left:0,top:f,row:d,width:t,height:r},h[h.length-1]+=t+a}),u}_fitCols(t,a,l,h){let{ctx:c,maxHeight:e,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=e-t,g=u,m=0,v=0,y=0,b=0;return this.legendItems.forEach((t,e)=>{s=l,i=a,n=c,r=t,o=h;var i,n,r,o,{itemWidth:t,itemHeight:s}={itemWidth:((t,e,i)=>{let n=r.text;return n&&"string"!=typeof n&&(n=n.reduce((t,e)=>t.length>e.length?t:e)),t+e.size/2+i.measureText(n).width})(s,i,n),itemHeight:(t=>{let e=o;return e="string"!=typeof r.text?Bo(r,t):e})(i.lineHeight)};0<e&&v+s+2*u>p&&(g+=m+u,f.push({width:m,height:v}),y+=m+u,b++,m=v=0),d[e]={left:y,top:v,col:b,width:t,height:s},m=Math.max(m,t),v+=s+u}),g+=m,f.push({width:m,height:v}),g}adjustHitBoxes(){if(this.options.display){var i=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:o},rtl:t}}=this,s=Mi(t,this.left,this.width);if(this.isHorizontal()){let t=0,e=D(r,this.left+o,this.right-this.lineWidths[t]);for(var a of n)t!==a.row&&(t=a.row,e=D(r,this.left+o,this.right-this.lineWidths[t])),a.top+=this.top+i+o,a.left=s.leftForLtr(s.x(e),a.width),e+=a.width+o}else{let t=0,e=D(r,this.top+i+o,this.bottom-this.columnSizes[t].height);for(var l of n)l.col!==t&&(t=l.col,e=D(r,this.top+i+o,this.bottom-this.columnSizes[t].height)),l.top=e,l.left+=this.left+o,l.left=s.leftForLtr(s.x(l.left),l.width),e+=l.height+o}}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){var t;this.options.display&&(Ne(t=this.ctx,this),this._draw(),je(t))}_draw(){let{options:h,columnSizes:c,lineWidths:u,ctx:d}=this,{align:f,labels:p}=h,g=I.color,m=Mi(h.rtl,this.left,this.width),v=R(p.font),y=p.padding,b=v.size,x=b/2,_,{boxWidth:w,boxHeight:k,itemHeight:S}=(this.drawTitle(),d.textAlign=m.textAlign("left"),d.textBaseline="middle",d.lineWidth=.5,d.font=v.string,No(p,b)),A=this.isHorizontal(),E=this._computeTitleHeight(),C=(_=A?{x:D(f,this.left+y,this.right-u[0]),y:this.top+y+E,line:0}:{x:this.left+y,y:D(f,this.top+E+y,this.bottom-c[0].height),line:0},Ti(this.ctx,h.textDirection),S+y);this.legendItems.forEach((e,n)=>{d.strokeStyle=e.fontColor,d.fillStyle=e.fontColor;var t=d.measureText(e.text).width,i=m.textAlign(e.textAlign||(e.textAlign=p.textAlign)),t=w+x+t;let r=_.x,o=_.y;m.setWidth(this.width),A?0<n&&r+t+y>this.right&&(o=_.y+=C,_.line++,r=_.x=D(f,this.left+y,this.right-u[_.line])):0<n&&o+C>this.bottom&&(r=_.x=r+c[_.line].width+y,_.line++,o=_.y=D(f,this.top+E+y,this.bottom-c[_.line].height));var n=m.x(r),s=o,a=e;if(!(isNaN(w)||w<=0||isNaN(k)||k<0)){d.save();var l=L(a.lineWidth,1);if(d.fillStyle=L(a.fillStyle,g),d.lineCap=L(a.lineCap,"butt"),d.lineDashOffset=L(a.lineDashOffset,0),d.lineJoin=L(a.lineJoin,"miter"),d.lineWidth=l,d.strokeStyle=L(a.strokeStyle,g),d.setLineDash(L(a.lineDash,[])),p.usePointStyle){let t={radius:k*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:l},e=m.xPlus(n,w/2);ze(d,t,e,s+x,p.pointStyleWidth&&w)}else{let t=s+Math.max((b-k)/2,0),e=m.leftForLtr(n,w),i=Si(a.borderRadius);d.beginPath(),Object.values(i).some(t=>0!==t)?We(d,{x:e,y:t,w:w,h:k,radius:i}):d.rect(e,t,w,k),d.fill(),0!==l&&d.stroke()}d.restore()}if(r=Mt(i,r+w+x,A?r+t:this.right,h.rtl),s=m.x(r),n=o,a=e,Ue(d,a.text,s,n+S/2,v,{strikethrough:a.hidden,textAlign:m.textAlign(a.textAlign)}),A)_.x+=t+y;else if("string"!=typeof e.text){let t=v.lineHeight;_.y+=Bo(e,t)+y}else _.y+=C}),Pi(this.ctx,h.textDirection)}drawTitle(){let n=this.options,r=n.title,o=R(r.font),s=$(r.padding);if(r.display){var a=Mi(n.rtl,this.left,this.width),l=this.ctx,h=r.position,c=o.size/2,c=s.top+c;let e,t=this.left,i=this.width;if(this.isHorizontal())i=Math.max(...this.lineWidths),e=this.top+c,t=D(n.align,t,this.right-i);else{let t=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);e=c+D(n.align,this.top,this.bottom-t-n.labels.padding-this._computeTitleHeight())}c=D(h,t,t+i);l.textAlign=a.textAlign(Ct(h)),l.textBaseline="middle",l.strokeStyle=r.color,l.fillStyle=r.color,l.font=o.string,Ue(l,r.text,c,e,o)}}_computeTitleHeight(){var t=this.options.title,e=R(t.font),i=$(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(c(t,this.left,this.right)&&c(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(c(t,(n=r[i]).left,n.left+n.width)&&c(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){var e,i,n,r=this.options;("mousemove"!==(e=t.type)&&"mouseout"!==e||!r.onHover&&!r.onLeave)&&(!r.onClick||"click"!==e&&"mouseup"!==e)||(e=this._getLegendItemAt(t.x,t.y),"mousemove"===t.type||"mouseout"===t.type?(n=null!==(i=this._hoveredItem)&&null!==e&&i.datasetIndex===e.datasetIndex&&i.index===e.index,i&&!n&&u(r.onLeave,[t,i,this],this),(this._hoveredItem=e)&&!n&&u(r.onHover,[t,e,this],this)):e&&u(r.onClick,[t,e,this],this))}}function Bo(t,e){return e*(t.text?t.text.length:0)}var Ho={id:"legend",_element:jo,start(t,e,i){var n=t.legend=new jo({ctx:t.ctx,options:i,chart:t});r.configure(t,n,i),r.addBox(t,n)},stop(t){r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){var n=t.legend;r.configure(t,n,i),n.options=i},afterUpdate(t){t=t.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){var n=e.datasetIndex,i=i.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let n=t.data.datasets,{usePointStyle:r,pointStyle:o,textAlign:s,color:a,useBorderRadius:l,borderRadius:h}=t.legend.options.labels;return t._getSortedDatasetMetas().map(t=>{var e=t.controller.getStyle(r?0:void 0),i=$(e.borderWidth);return{text:n[t.index].label,fillStyle:e.backgroundColor,fontColor:a,hidden:!t.visible,lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:e.borderColor,pointStyle:o||e.pointStyle,rotation:e.rotation,textAlign:s||e.textAlign,borderRadius:l&&(h||e.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Uo extends e{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){var i=this.options;this.left=0,this.top=0,i.display?(this.width=this.right=t,this.height=this.bottom=e,t=T(i.text)?i.text.length:1,this._padding=$(i.padding),e=t*R(i.font).lineHeight+this._padding.height,this.isHorizontal()?this.height=e:this.width=e):this.width=this.height=this.right=this.bottom=0}isHorizontal(){var t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){var{top:e,left:i,bottom:n,right:r,options:o}=this,s=o.align;let a,l,h,c=0;return a=this.isHorizontal()?(l=D(s,i,r),h=e+t,r-i):(c="left"===o.position?(l=i+t,h=D(s,n,e),-.5*E):(l=r-t,h=D(s,e,n),.5*E),n-e),{titleX:l,titleY:h,maxWidth:a,rotation:c}}draw(){var t,e,i,n,r,o=this.ctx,s=this.options;s.display&&(e=(t=R(s.font)).lineHeight/2+this._padding.top,{titleX:e,titleY:i,maxWidth:n,rotation:r}=this._drawArgs(e),Ue(o,s.text,0,0,t,{color:s.color,maxWidth:n,rotation:r,textAlign:Ct(s.align),textBaseline:"middle",translation:[e,i]}))}}var Wo={id:"title",_element:Uo,start(t,e,i){var n;t=t,i=i,n=new Uo({ctx:t.ctx,options:i,chart:t}),r.configure(t,n,i),r.addBox(t,n),t.titleBlock=n},stop(t){var e=t.titleBlock;r.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){var n=t.titleBlock;r.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Vo=new WeakMap;var qo={id:"subtitle",start(t,e,i){var n=new Uo({ctx:t.ctx,options:i,chart:t});r.configure(t,n,i),r.addBox(t,n),Vo.set(t,n)},stop(t){r.removeBox(t,Vo.get(t)),Vo.delete(t)},beforeUpdate(t,e,i){var n=Vo.get(t);r.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Yo={average(t){if(!t.length)return!1;let i,e,n=new Set,r=0,o=0;for(i=0,e=t.length;i<e;++i){let e=t[i].element;if(e&&e.hasValue()){let t=e.tooltipPosition();n.add(t.x),r+=t.y,++o}}return{x:[...n].reduce((t,e)=>t+e)/n.size,y:r/o}},nearest(t,i){if(!t.length)return!1;let n,e,r,o=i.x,s=i.y,a=Number.POSITIVE_INFINITY;for(n=0,e=t.length;n<e;++n){let e=t[n].element;if(e&&e.hasValue()){let t=ft(i,e.getCenterPoint());t<a&&(a=t,r=e)}}if(r){let t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function v(t,e){return e&&(T(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xo(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function Go(t,e){function i(t){v=Math.max(v,n.measureText(t).width+b)}let n=t.chart.ctx,{body:r,footer:o,title:s}=t,{boxWidth:a,boxHeight:l}=e,h=R(e.bodyFont),c=R(e.titleFont),u=R(e.footerFont),d=s.length,f=o.length,p=r.length,g=$(e.padding),m=g.height,v=0,y=r.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0),b=(y+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y&&(m+=p*(e.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(y-p)*h.lineHeight+(y-1)*e.bodySpacing),f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing),0);return n.save(),n.font=c.string,S(t.title,i),n.font=h.string,S(t.beforeBody.concat(t.afterBody),i),b=e.displayColors?a+2+e.boxPadding:0,S(r,t=>{S(t.before,i),S(t.lines,i),S(t.after,i)}),b=0,n.font=u.string,S(t.footer,i),n.restore(),{width:v+=g.width,height:m}}function Ko(r,o,s,t){var{x:e,width:i}=s,{width:n,chartArea:{left:a,right:l}}=r;let h="center";return"center"===t?h=e<=(a+l)/2?"left":"right":e<=i/2?h="left":n-i/2<=e&&(h="right"),h=(t=>{var{x:e,width:i}=s,n=o.caretSize+o.caretPadding;return"left"===t&&e+i+n>r.width||"right"===t&&e-i-n<0})(h)?"center":h}function Zo(i,t,n){var e=n.yAlign||t.yAlign||(()=>{var{y:t,height:e}=n;return t<e/2?"top":t>i.height-e/2?"bottom":"center"})();return{xAlign:n.xAlign||t.xAlign||Ko(i,t,n,e),yAlign:e}}function Qo(t,i,e,n){var{caretSize:t,caretPadding:r,cornerRadius:o}=t,{xAlign:s,yAlign:a}=e,l=t+r,{topLeft:e,topRight:r,bottomLeft:o,bottomRight:h}=Si(o);let c=(()=>{let{x:t,width:e}=i;return"right"===s?t-=e:"center"===s&&(t-=e/2),t})();var u=(()=>{let{y:t,height:e}=i;return"top"===a?t+=l:t-="bottom"===a?e+l:e/2,t})();return"center"===a?"left"===s?c+=l:"right"===s&&(c-=l):"left"===s?c-=Math.max(e,o)+t:"right"===s&&(c+=Math.max(r,h)+t),{x:M(c,0,n.width-i.width),y:M(u,0,n.height-i.height)}}function Jo(t,e,i){i=$(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function ts(t){return v([],Xo(t))}function es(t,e){e=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return e?t.override(e):t}let is={beforeTitle:t,title(t){if(0<t.length){var t=t[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(0<i&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:t,beforeBody:t,beforeLabel:t,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");t=t.formattedValue;return A(t)||(e+=t),e},labelColor(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:t,afterBody:t,beforeFooter:t,footer:t,afterFooter:t};function k(t,e,i,n){t=t[e].call(i,n);return void 0===t?is[e].call(i,n):t}class ns extends e{static positioners=Yo;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){var t,e=this._cachedAnimations;return e||(e=this.chart,e=(t=this.options.setContext(this.getContext())).enabled&&e.options.animation&&t.animations,t=new kn(this.chart,e),e._cacheable&&(this._cachedAnimations=Object.freeze(t)),t)}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),Ci(t,{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})));var t}getTitle(t,e){var e=e.callbacks,i=k(e,"beforeTitle",this,t),n=k(e,"title",this,t),e=k(e,"afterTitle",this,t),t=v([],Xo(i));return t=v(t,Xo(n)),v(t,Xo(e))}getBeforeBody(t,e){return ts(k(e.callbacks,"beforeBody",this,t))}getBody(t,e){let n=e.callbacks,r=[];return S(t,t=>{var e={before:[],lines:[],after:[]},i=es(n,t);v(e.before,Xo(k(i,"beforeLabel",this,t))),v(e.lines,k(i,"label",this,t)),v(e.after,Xo(k(i,"afterLabel",this,t))),r.push(e)}),r}getAfterBody(t,e){return ts(k(e.callbacks,"afterBody",this,t))}getFooter(t,e){var e=e.callbacks,i=k(e,"beforeFooter",this,t),n=k(e,"footer",this,t),e=k(e,"afterFooter",this,t),t=v([],Xo(i));return t=v(t,Xo(n)),v(t,Xo(e))}_createItems(n){let t=this._active,r=this.chart.data,i=[],o=[],s=[],e,a,l=[];for(e=0,a=t.length;e<a;++e)l.push(((t,e)=>{var{element:e,datasetIndex:i,index:n}=e,r=t.getDatasetMeta(i).controller,{label:o,value:s}=r.getLabelAndValue(n);return{chart:t,label:o,parsed:r.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:s,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:e}})(this.chart,t[e]));return n.filter&&(l=l.filter((t,e,i)=>n.filter(t,e,i,r))),S(l=n.itemSort?l.sort((t,e)=>n.itemSort(t,e,r)):l,t=>{var e=es(n.callbacks,t);i.push(k(e,"labelColor",this,t)),o.push(k(e,"labelPointStyle",this,t)),s.push(k(e,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=l}update(t,e){var o=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(s.length){let t=Yo[o.position].call(this,s,this._eventPosition),e=(l=this._createItems(o),this.title=this.getTitle(l,o),this.beforeBody=this.getBeforeBody(l,o),this.body=this.getBody(l,o),this.afterBody=this.getAfterBody(l,o),this.footer=this.getFooter(l,o),this._size=Go(this,o)),i=Object.assign({},t,e),n=Zo(this.chart,o,i),r=Qo(o,i,n,this.chart);this.xAlign=n.xAlign,this.yAlign=n.yAlign,a={opacity:1,x:r.x,y:r.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){t=this.getCaretPosition(t,i,n);e.lineTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineTo(t.x3,t.y3)}getCaretPosition(t,e,i){var{xAlign:n,yAlign:r}=this,{caretSize:i,cornerRadius:o}=i,{topLeft:o,topRight:s,bottomLeft:a,bottomRight:l}=Si(o),{x:t,y:h}=t,{width:e,height:c}=e;let u,d,f,p,g,m;return"center"===r?(g=h+c/2,m="left"===n?(u=t,d=u-i,p=g+i,g-i):(u=t+e,d=u+i,p=g-i,g+i),f=u):(d="left"===n?t+Math.max(o,a)+i:"right"===n?t+e-Math.max(s,l)-i:this.caretX,f="top"===r?(p=h,g=p-i,u=d-i,d+i):(p=h+c,g=p+i,u=d+i,d-i),m=p),{x1:u,x2:d,x3:f,y1:p,y2:g,y3:m}}drawTitle(t,e,i){var n=this.title,r=n.length;let o,s,a;if(r){var l=Mi(i.rtl,this.x,this.width);for(t.x=Jo(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=R(i.titleFont),s=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(n,t,e,r,o){let s=this.labelColors[e],a=this.labelPointStyles[e],{boxHeight:l,boxWidth:h}=o,i=R(o.bodyFont),c=Jo(this,"left",o),u=r.x(c),d=l<i.lineHeight?(i.lineHeight-l)/2:0,f=t.y+d;if(o.usePointStyle){let t={radius:Math.min(h,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},e=r.leftForLtr(u,h)+h/2,i=f+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Fe(n,t,e,i),n.strokeStyle=s.borderColor,n.fillStyle=s.backgroundColor,Fe(n,t,e,i)}else{n.lineWidth=P(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,n.strokeStyle=s.borderColor,n.setLineDash(s.borderDash||[]),n.lineDashOffset=s.borderDashOffset||0;let t=r.leftForLtr(u,h),e=r.leftForLtr(r.xPlus(u,1),h-2),i=Si(s.borderRadius);Object.values(i).some(t=>0!==t)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,We(n,{x:t,y:f,w:h,h:l,radius:i}),n.fill(),n.stroke(),n.fillStyle=s.backgroundColor,n.beginPath(),We(n,{x:e,y:f+1,w:h-2,h:l-2,radius:i}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(t,f,h,l),n.strokeRect(t,f,h,l),n.fillStyle=s.backgroundColor,n.fillRect(e,f+1,h-2,l-2))}n.fillStyle=this.labelTextColors[e]}drawBody(e,i,t){function n(t){i.fillText(t,p.x(e.x+f),e.y+d/2),e.y+=d+o}let r=this.body,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:h,boxPadding:c}=t,u=R(t.bodyFont),d=u.lineHeight,f=0,p=Mi(t.rtl,this.x,this.width),g=p.textAlign(s),m,v,y,b,x,_,w;for(i.textAlign=s,i.textBaseline="middle",i.font=u.string,e.x=Jo(this,g,t),i.fillStyle=t.bodyColor,S(this.beforeBody,n),f=a&&"right"!==g?"center"===s?h/2+c:h+2+c:0,b=0,_=r.length;b<_;++b){for(m=r[b],v=this.labelTextColors[b],i.fillStyle=v,S(m.before,n),y=m.lines,a&&y.length&&(this._drawColorBox(i,e,b,p,t),d=Math.max(u.lineHeight,l)),x=0,w=y.length;x<w;++x)n(y[x]),d=u.lineHeight;S(m.after,n)}f=0,d=u.lineHeight,S(this.afterBody,n),e.y-=o}drawFooter(t,e,i){var n=this.footer,r=n.length;let o,s;if(r){var a=Mi(i.rtl,this.x,this.width);for(t.x=Jo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",o=R(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(n[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){var{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:l,height:h}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Si(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(s+c,a),"top"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+l-u,a),e.quadraticCurveTo(s+l,a,s+l,a+u),"center"===o&&"right"===r&&this.drawCaret(t,e,i,n),e.lineTo(s+l,a+h-f),e.quadraticCurveTo(s+l,a+h,s+l-f,a+h),"bottom"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+d,a+h),e.quadraticCurveTo(s,a+h,s,a+h-d),"center"===o&&"left"===r&&this.drawCaret(t,e,i,n),e.lineTo(s,a+c),e.quadraticCurveTo(s,a,s+c,a),e.closePath(),e.fill(),0<n.borderWidth&&e.stroke()}_updateAnimationTarget(e){let i=this.chart,t=this.$animations,n=t&&t.x,r=t&&t.y;if(n||r){let t=Yo[e.position].call(this,this._active,this._eventPosition);var o,s;t&&(o=this._size=Go(this,e),s=Qo(e,s=Object.assign({},t,this._size),e=Zo(i,e,s),i),n._to===s.x&&r._to===s.y||(this.xAlign=e.xAlign,this.yAlign=e.yAlign,this.width=o.width,this.height=o.height,this.caretX=t.x,this.caretY=t.y,this._resolveAnimations().update(this,s)))}}_willRender(){return!!this.opacity}draw(t){var e,i,n,r,o=this.options.setContext(this.getContext()),s=this.opacity;s&&(this._updateAnimationTarget(o),e={width:this.width,height:this.height},i={x:this.x,y:this.y},s=Math.abs(s)<.001?0:s,n=$(o.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length,o.enabled)&&r&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,e,o),Ti(t,o.textDirection),i.y+=n.top,this.drawTitle(i,t,o),this.drawBody(i,t,o),this.drawFooter(i,t,o),Pi(t,o.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){var i=this._active,t=t.map(({datasetIndex:t,index:e})=>{var i=this.chart.getDatasetMeta(t);if(i)return{datasetIndex:t,element:i.data[e],index:e};throw new Error("Cannot find a dataset at index "+t)}),i=!j(i,t),n=this._positionChanged(t,e);(i||n)&&(this._active=t,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var n=this.options,r=this._active||[],i=this._getActiveElements(t,r,e,i),o=this._positionChanged(i,t),r=e||!j(i,r)||o;return r&&(this._active=i,n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e)),r}_getActiveElements(t,e,i,n){var r=this.options;return"mouseout"===t.type?[]:n?(n=this.chart.getElementsAtEventForMode(t,r.mode,r,i),r.reverse&&n.reverse(),n):e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index))}_positionChanged(t,e){var{caretX:i,caretY:n,options:r}=this,r=Yo[r.position].call(this,t,e);return!1!==r&&(i!==r.x||n!==r.y)}}var rs={id:"tooltip",_element:ns,positioners:Yo,afterInit(t,e,i){i&&(t.tooltip=new ns({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){var e,i=t.tooltip;i&&i._willRender()&&!(e={tooltip:i})!==t.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})&&(i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent(t,e){var i;t.tooltip&&(i=e.replay,t.tooltip.handleEvent(e.event,i,e.inChartArea))&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:is},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return i.register(Pe,po,Ur,n),i.helpers={...zi},i._adapters=mr,i.Animation=wn,i.Animations=kn,i.animator=o,i.controllers=w.controllers.items,i.DatasetController=In,i.Element=e,i.elements=Ur,i.Interaction=Wi,i.layouts=r,i.platforms=bn,i.Scale=Hn,i.Ticks=pe,Object.assign(i,Pe,po,Ur,n,bn),i.Chart=i,"undefined"!=typeof window&&(window.Chart=i),i}),((t,e)=>{if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i,n=e();for(i in n)("object"==typeof exports?exports:t)[i]=n[i]}})(self,function(){var i={3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,i){var n=i(111);t.exports=function(t){if(n(t)||null===t)return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},1223:function(t,e,i){var n=i(5112),r=i(30),i=i(3070),o=n("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},1530:function(t,e,i){var n=i(8710).charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},5787:function(t){t.exports=function(t,e,i){if(t instanceof e)return t;throw TypeError("Incorrect "+(i?i+" ":"")+"invocation")}},9670:function(t,e,i){var n=i(111);t.exports=function(t){if(n(t))return t;throw TypeError(String(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,i){function n(t){return!!l(t)&&(t=c(t),h(E,t)||h(C,t))}var r,o=i(4019),s=i(9781),a=i(7854),l=i(111),h=i(6656),c=i(648),u=i(8880),d=i(1320),f=i(3070).f,p=i(9518),g=i(7674),m=i(5112),i=i(9711),v=a.Int8Array,y=v&&v.prototype,b=a.Uint8ClampedArray,b=b&&b.prototype,x=v&&p(v),_=y&&p(y),w=Object.prototype,k=w.isPrototypeOf,m=m("toStringTag"),S=i("TYPED_ARRAY_TAG"),A=o&&!!g&&"Opera"!==c(a.opera),i=!1,E={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C={BigInt64Array:8,BigUint64Array:8};for(r in E)a[r]||(A=!1);if((!A||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},A))for(r in E)a[r]&&g(a[r],x);if((!A||!_||_===w)&&(_=x.prototype,A))for(r in E)a[r]&&g(a[r].prototype,_);if(A&&p(b)!==_&&g(b,_),s&&!h(_,m))for(r in i=!0,f(_,m,{get:function(){return l(this)?this[S]:void 0}}),E)a[r]&&u(a[r],S,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:i&&S,aTypedArray:function(t){if(n(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(g){if(k.call(x,t))return t}else for(var e in E)if(h(E,r)){e=a[e];if(e&&(t===e||k.call(e,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,i){if(s){if(i)for(var n in E){n=a[n];n&&h(n.prototype,t)&&delete n.prototype[t]}_[t]&&!i||d(_,t,!i&&A&&y[t]||e)}},exportTypedArrayStaticMethod:function(t,e,i){var n,r;if(s){if(g){if(i)for(n in E)(r=a[n])&&h(r,t)&&delete r[t];if(x[t]&&!i)return;try{return d(x,t,!i&&A&&v[t]||e)}catch(t){}}for(n in E)!(r=a[n])||r[t]&&!i||d(r,t,e)}},isView:function(t){return!!l(t)&&("DataView"===(t=c(t))||h(E,t)||h(C,t))},isTypedArray:n,TypedArray:x,TypedArrayPrototype:_}},3331:function(t,R,e){function i(t){return[255&t]}function n(t){return[255&t,t>>8&255]}function r(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return P(t,23,4)}function a(t){return P(t,52,8)}function l(t,e){U(t.prototype,e,{get:function(){return x(this)[e]}})}function h(t,e,i,n){if(i=m(i),t=x(t),i+e>t.byteLength)throw T(S);var r=x(t.buffer).bytes,i=i+t.byteOffset,t=r.slice(i,i+e);return n?t:t.reverse()}function c(t,e,i,n,r,o){if(i=m(i),t=x(t),i+e>t.byteLength)throw T(S);for(var s=x(t.buffer).bytes,a=i+t.byteOffset,l=n(+r),h=0;h<e;h++)s[a+h]=l[o?h:e-h-1]}var u=e(7854),d=e(9781),F=e(4019),z=e(8880),f=e(2248),p=e(7293),g=e(5787),N=e(9958),j=e(7466),m=e(7067),v=e(1179),B=e(9518),y=e(7674),H=e(8006).f,U=e(3070).f,W=e(1285),b=e(8003),e=e(9909),x=e.get,_=e.set,w="ArrayBuffer",k="DataView",S="Wrong index",A=u.ArrayBuffer,E=A,C=u.DataView,e=C&&C.prototype,M=Object.prototype,T=u.RangeError,P=v.pack,L=v.unpack;if(F){if(!p(function(){A(1)})||!p(function(){new A(-1)})||p(function(){return new A,new A(1.5),new A(NaN),A.name!=w})){for(var O,u=(E=function(t){return g(this,E),new A(m(t))}).prototype=A.prototype,D=H(A),I=0;D.length>I;)(O=D[I++])in E||z(E,O,A[O]);u.constructor=E}y&&B(e)!==M&&y(e,M);var v=new C(new E(2)),$=e.setInt8;v.setInt8(0,2147483648),v.setInt8(1,2147483649),!v.getInt8(0)&&v.getInt8(1)||f(e,{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},{unsafe:!0})}else E=function(t){g(this,E,w);t=m(t);_(this,{bytes:W.call(new Array(t),0),byteLength:t}),d||(this.byteLength=t)},C=function(t,e,i){g(this,C,k),g(t,E,k);var n=x(t).byteLength,e=N(e);if(e<0||n<e)throw T("Wrong offset");if(e+(i=void 0===i?n-e:j(i))>n)throw T("Wrong length");_(this,{buffer:t,byteLength:i,byteOffset:e}),d||(this.buffer=t,this.byteLength=i,this.byteOffset=e)},d&&(l(E,"byteLength"),l(C,"buffer"),l(C,"byteLength"),l(C,"byteOffset")),f(C.prototype,{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t){t=h(this,2,t,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(t){t=h(this,2,t,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(t){return o(h(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return o(h(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return L(h(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return L(h(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,e){c(this,1,t,i,e)},setUint8:function(t,e){c(this,1,t,i,e)},setInt16:function(t,e){c(this,2,t,n,e,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,e){c(this,2,t,n,e,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,e){c(this,4,t,r,e,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,e){c(this,4,t,r,e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,e){c(this,4,t,s,e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,e){c(this,8,t,a,e,2<arguments.length?arguments[2]:void 0)}});b(E,w),b(C,k),t.exports={ArrayBuffer:E,DataView:C}},1048:function(t,e,i){var l=i(7908),h=i(1400),c=i(7466),u=Math.min;t.exports=[].copyWithin||function(t,e){var i=l(this),n=c(i.length),r=h(t,n),o=h(e,n),t=2<arguments.length?arguments[2]:void 0,s=u((void 0===t?n:h(t,n))-o,n-r),a=1;for(o<r&&r<o+s&&(a=-1,o+=s-1,r+=s-1);0<s--;)o in i?i[r]=i[o]:delete i[r],r+=a,o+=a;return i}},1285:function(t,e,i){var s=i(7908),a=i(1400),l=i(7466);t.exports=function(t){for(var e=s(this),i=l(e.length),n=arguments.length,r=a(1<n?arguments[1]:void 0,i),n=2<n?arguments[2]:void 0,o=void 0===n?i:a(n,i);r<o;)e[r++]=t;return e}},8533:function(t,e,i){var n=i(2092).forEach,i=i(9341)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0)}},8457:function(t,e,i){var f=i(9974),p=i(7908),g=i(3411),m=i(7659),v=i(7466),y=i(6135),b=i(1246);t.exports=function(t){var e,i,n,r,o,s,a=p(t),t="function"==typeof this?this:Array,l=arguments.length,h=1<l?arguments[1]:void 0,c=void 0!==h,u=b(a),d=0;if(c&&(h=f(h,2<l?arguments[2]:void 0,2)),null==u||t==Array&&m(u))for(i=new t(e=v(a.length));d<e;d++)s=c?h(a[d],d):a[d],y(i,d,s);else for(o=(r=u.call(a)).next,i=new t;!(n=o.call(r)).done;d++)s=c?g(r,h,[n.value,d],!0):n.value,y(i,d,s);return i.length=d,i}},1318:function(t,e,i){function n(a){return function(t,e,i){var n,r=l(t),o=h(r.length),s=c(i,o);if(a&&e!=e){for(;s<o;)if((n=r[s++])!=n)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}var l=i(5656),h=i(7466),c=i(1400);t.exports={includes:n(!0),indexOf:n(!1)}},2092:function(t,e,i){function n(d){var f=1==d,p=2==d,g=3==d,m=4==d,v=6==d,y=7==d,b=5==d||v;return function(t,e,i,n){for(var r,o,s=w(t),a=_(s),l=x(e,i,3),h=k(a.length),c=0,e=n||S,u=f?e(t,h):p||y?e(t,0):void 0;c<h;c++)if((b||c in a)&&(o=l(r=a[c],c,s),d))if(f)u[c]=o;else if(o)switch(d){case 3:return!0;case 5:return r;case 6:return c;case 2:A.call(u,r)}else switch(d){case 4:return!1;case 7:A.call(u,r)}return v?-1:g||m?m:u}}var x=i(9974),_=i(8361),w=i(7908),k=i(7466),S=i(5417),A=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterOut:n(7)}},6583:function(t,e,i){var r=i(5656),o=i(9958),s=i(7466),i=i(9341),a=Math.min,l=[].lastIndexOf,h=!!l&&1/[1].lastIndexOf(1,-0)<0,i=i("lastIndexOf");t.exports=h||!i?function(t){if(h)return l.apply(this,arguments)||0;var e=r(this),i=s(e.length),n=i-1;for((n=1<arguments.length?a(n,o(arguments[1])):n)<0&&(n=i+n);0<=n;n--)if(n in e&&e[n]===t)return n||0;return-1}:l},1194:function(t,e,i){var n=i(7293),r=i(5112),o=i(7392),s=r("species");t.exports=function(e){return 51<=o||!n(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},9341:function(t,e,i){var n=i(7293);t.exports=function(t,e){var i=[][t];return!!i&&n(function(){i.call(null,e||function(){throw 1},1)})}},3671:function(t,e,i){function n(h){return function(t,e,i,n){c(e);var r=u(t),o=d(r),s=f(r.length),a=h?s-1:0,l=h?-1:1;if(i<2)for(;;){if(a in o){n=o[a],a+=l;break}if(a+=l,h?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;h?0<=a:a<s;a+=l)a in o&&(n=e(n,o[a],a,r));return n}}var c=i(3099),u=i(7908),d=i(8361),f=i(7466);t.exports={left:n(!1),right:n(!0)}},5417:function(t,e,i){var n=i(111),r=i(3157),o=i(5112)("species");t.exports=function(t,e){var i;return new(void 0===(i=r(t)&&("function"==typeof(i=t.constructor)&&(i===Array||r(i.prototype))||n(i)&&null===(i=i[o]))?void 0:i)?Array:i)(0===e?0:e)}},3411:function(t,e,i){var r=i(9670),o=i(9212);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(e){throw o(t),e}}},7072:function(t,e,i){var r=i(5112)("iterator"),o=!1;try{var n=0,s={next:function(){return{done:!!n++}},return:function(){o=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,i){var n=i(1694),r=i(4326),o=i(5112)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=n?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=((t,e)=>{try{return t[e]}catch(t){}})(t=Object(t),o))?e:s?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},9920:function(t,e,i){var a=i(6656),l=i(3887),h=i(1236),c=i(3070);t.exports=function(t,e){for(var i=l(e),n=c.f,r=h.f,o=0;o<i.length;o++){var s=i[o];a(t,s)||n(t,s,r(e,s))}}},8544:function(t,e,i){i=i(7293);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},4994:function(t,e,i){function n(){return this}var r=i(3383).IteratorPrototype,o=i(30),s=i(9114),a=i(8003),l=i(7497);t.exports=function(t,e,i){e+=" Iterator";return t.prototype=o(r,{next:s(1,i)}),a(t,e,!1,!0),l[e]=n,t}},8880:function(t,e,i){var n=i(9781),r=i(3070),o=i(9114);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,i){var n=i(7593),r=i(3070),o=i(9114);t.exports=function(t,e,i){e=n(e);e in t?r.f(t,e,o(0,i)):t[e]=i}},654:function(t,e,i){function g(){return this}var m=i(2109),v=i(4994),y=i(9518),b=i(7674),x=i(8003),_=i(8880),w=i(1320),n=i(5112),k=i(1913),S=i(7497),i=i(3383),A=i.IteratorPrototype,E=i.BUGGY_SAFARI_ITERATORS,C=n("iterator"),M="values";t.exports=function(t,e,i,n,r,o,s){v(i,e,n);function a(t){if(t===r&&f)return f;if(!E&&t in u)return u[t];switch(t){case"keys":case M:case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}}var l,h,n=e+" Iterator",c=!1,u=t.prototype,d=u[C]||u["@@iterator"]||r&&u[r],f=!E&&d||a(r),p="Array"==e&&u.entries||d;if(p&&(p=y(p.call(new t)),A!==Object.prototype)&&p.next&&(k||y(p)===A||(b?b(p,A):"function"!=typeof p[C]&&_(p,C,g)),x(p,n,!0,!0),k)&&(S[n]=g),r==M&&d&&d.name!==M&&(c=!0,f=function(){return d.call(this)}),k&&!s||u[C]===f||_(u,C,f),S[e]=f,r)if(l={values:a(M),keys:o?f:a("keys"),entries:a("entries")},s)for(h in l)!E&&!c&&h in u||w(u,h,l[h]);else m({target:e,proto:!0,forced:E||c},l);return l}},9781:function(t,e,i){i=i(7293);t.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(t,e,i){var n=i(7854),i=i(111),r=n.document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(t,e,i){i=i(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,i){var n,r,o=i(7854),i=i(8113),o=o.process,o=o&&o.versions,o=o&&o.v8;o?r=(n=o.split("."))[0]+n[1]:i&&(!(n=i.match(/Edge\/(\d+)/))||74<=n[1])&&(n=i.match(/Chrome\/(\d+)/))&&(r=n[1]),t.exports=r&&+r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,i){var h=i(7854),c=i(1236).f,u=i(8880),d=i(1320),f=i(3505),p=i(9920),g=i(4705);t.exports=function(t,e){var i,n,r,o,s=t.target,a=t.global,l=t.stat;if(i=a?h:l?h[s]||f(s,{}):(h[s]||{}).prototype)for(n in e){if(r=e[n],o=t.noTargetGet?(o=c(i,n))&&o.value:i[n],!g(a?n:s+(l?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;p(r,o)}(t.sham||o&&o.sham)&&u(r,"sham",!0),d(i,n,r,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,i){i(4916);var h=i(1320),c=i(7293),u=i(5112),d=i(2261),f=i(8880),p=u("species"),g=!c(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m="$0"==="a".replace(/./,"$0"),i=u("replace"),v=!!/./[i]&&""===/./[i]("a","$0"),y=!c(function(){var t=/(?:)/,e=t.exec,t=(t.exec=function(){return e.apply(this,arguments)},"ab".split(t));return 2!==t.length||"a"!==t[0]||"b"!==t[1]});t.exports=function(i,t,e,n){var o,r,s=u(i),a=!c(function(){var t={};return t[s]=function(){return 7},7!=""[i](t)}),l=a&&!c(function(){var t=!1,e=/a/;return"split"===i&&((e={}).constructor={},e.constructor[p]=function(){return e},e.flags="",e[s]=/./[s]),e.exec=function(){return t=!0,null},e[s](""),!t});a&&l&&("replace"!==i||g&&m&&!v)&&("split"!==i||y)||(o=/./[s],e=(l=e(s,""[i],function(t,e,i,n,r){return e.exec===d?a&&!r?{done:!0,value:o.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}))[0],r=l[1],h(String.prototype,i,e),h(RegExp.prototype,s,2==t?function(t,e){return r.call(t,this,e)}:function(t){return r.call(t,this)})),n&&f(RegExp.prototype[s],"sham",!0)}},9974:function(t,e,i){var o=i(3099);t.exports=function(n,r,t){if(o(n),void 0===r)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}}},5005:function(t,e,i){function n(t){return"function"==typeof t?t:void 0}var r=i(857),o=i(7854);t.exports=function(t,e){return arguments.length<2?n(r[t])||n(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},1246:function(t,e,i){var n=i(648),r=i(7497),o=i(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[n(t)]}},8554:function(t,e,i){var n=i(9670),r=i(1246);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},647:function(t,e,i){var n=i(7908),d=Math.floor,r="".replace,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;t.exports=function(o,s,a,l,h,t){var c=a+o.length,u=l.length,e=p;return void 0!==h&&(h=n(h),e=f),r.call(t,e,function(t,e){var i;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(c);case"<":i=h[e.slice(1,-1)];break;default:var n,r=+e;if(0==r)return t;if(u<r)return 0!==(n=d(r/10))&&n<=u?void 0===l[n-1]?e.charAt(1):l[n-1]+e.charAt(1):t;i=l[r-1]}return void 0===i?"":i})}},7854:function(t,e,i){function n(t){return t&&t.Math==Math&&t}t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},6656:function(t){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},3501:function(t){t.exports={}},490:function(t,e,i){i=i(5005);t.exports=i("document","documentElement")},4664:function(t,e,i){var n=i(9781),r=i(7293),o=i(317);t.exports=!n&&!r(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},1179:function(t){var d=Math.abs,f=Math.pow,p=Math.floor,g=Math.log,m=Math.LN2;t.exports={pack:function(t,e,i){var n,r,o,s=new Array(i),a=8*i-e-1,i=(1<<a)-1,l=i>>1,h=23===e?f(2,-24)-f(2,-77):0,c=t<0||0===t&&1/t<0?1:0,u=0;for((t=d(t))!=t||t===1/0?(r=t!=t?1:0,n=i):(n=p(g(t)/m),t*(o=f(2,-n))<1&&(n--,o*=2),2<=(t+=1<=n+l?h/o:h*f(2,1-l))*o&&(n++,o/=2),i<=n+l?(r=0,n=i):1<=n+l?(r=(t*o-1)*f(2,e),n+=l):(r=t*f(2,l-1)*f(2,e),n=0));8<=e;s[u++]=255&r,r/=256,e-=8);for(n=n<<e|r,a+=e;0<a;s[u++]=255&n,n/=256,a-=8);return s[--u]|=128*c,s},unpack:function(t,e){var i,n=t.length,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,r=t[l--],h=127&r;for(r>>=7;0<a;h=256*h+t[l],l--,a-=8);for(i=h&(1<<-a)-1,h>>=-a,a+=e;0<a;i=256*i+t[l],l--,a-=8);if(0===h)h=1-s;else{if(h===o)return i?NaN:r?-1/0:1/0;i+=f(2,e),h-=s}return(r?-1:1)*i*f(2,h-e)}}},8361:function(t,e,i){var n=i(7293),r=i(4326),o="".split;t.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},9587:function(t,e,i){var n=i(111),r=i(7674);t.exports=function(t,e,i){return r&&"function"==typeof(e=e.constructor)&&e!==i&&n(e=e.prototype)&&e!==i.prototype&&r(t,e),t}},2788:function(t,e,i){var i=i(5465),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return n.call(t)}),t.exports=i.inspectSource},9909:function(t,e,i){var n,r,o,s,a,l,h,c,u=i(8536),d=i(7854),f=i(111),p=i(8880),g=i(6656),m=i(5465),v=i(6200),i=i(3501),d=d.WeakMap;h=u?(n=m.state||(m.state=new d),r=n.get,o=n.has,s=n.set,a=function(t,e){return e.facade=t,s.call(n,t,e),e},l=function(t){return r.call(n,t)||{}},function(t){return o.call(n,t)}):(i[c=v("state")]=!0,a=function(t,e){return e.facade=t,p(t,c,e),e},l=function(t){return g(t,c)?t[c]:{}},function(t){return g(t,c)}),t.exports={set:a,get:l,has:h,enforce:function(t){return h(t)?l(t):a(t,{})},getterFor:function(e){return function(t){if(f(t)&&(t=l(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}}},7659:function(t,e,i){var n=i(5112),r=i(7497),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},3157:function(t,e,i){var n=i(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,i){function n(t,e){return(t=a[s(t)])==h||t!=l&&("function"==typeof e?r(e):!!e)}var r=i(7293),o=/#|\.prototype\./,s=n.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=n.data={},l=n.NATIVE="N",h=n.POLYFILL="P";t.exports=n},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,i){var n=i(111),r=i(4326),o=i(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},9212:function(t,e,i){var n=i(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},3383:function(t,e,i){var n,r=i(7293),o=i(9518),s=i(8880),a=i(6656),l=i(5112),i=i(1913),h=l("iterator"),l=!1,c=([].keys&&("next"in(c=[].keys())?(o=o(o(c)))!==Object.prototype&&(n=o):l=!0),null==n||r(function(){var t={};return n[h].call(t)!==t}));c&&(n={}),i&&!c||a(n,h)||s(n,h,function(){return this}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:l}},7497:function(t){t.exports={}},133:function(t,e,i){i=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},590:function(t,e,i){var n=i(7293),r=i(5112),o=i(1913),s=r("iterator");t.exports=!n(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),i=t.searchParams,n="";return t.pathname="c%20d",i.forEach(function(t,e){i.delete("b"),n+=e+t}),o&&!t.toJSON||!i.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==i.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!i[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},8536:function(t,e,i){var n=i(7854),i=i(2788),n=n.WeakMap;t.exports="function"==typeof n&&/native code/.test(i(n))},1574:function(t,e,i){var d=i(9781),n=i(7293),f=i(1956),p=i(5181),g=i(5296),m=i(7908),v=i(8361),r=Object.assign,o=Object.defineProperty;t.exports=!r||n(function(){var t,e,i,n;return!(!d||1===r({b:1},r(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(e={},n="abcdefghijklmnopqrst",(t={})[i=Symbol()]=7,n.split("").forEach(function(t){e[t]=t}),7!=r({},t)[i])||f(r({},e)).join("")!=n})?function(t,e){for(var i=m(t),n=arguments.length,r=1,o=p.f,s=g.f;r<n;)for(var a,l=v(arguments[r++]),h=o?f(l).concat(o(l)):f(l),c=h.length,u=0;u<c;)a=h[u++],d&&!s.call(l,a)||(i[a]=l[a]);return i}:r},30:function(t,e,i){function n(){}function r(t){return"<script>"+t+"<\/script>"}var o,s=i(9670),a=i(6048),l=i(748),h=i(3501),c=i(490),u=i(317),d=i(6200)("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,i;f=o?((e=o).write(r("")),e.close(),i=e.parentWindow.Object,e=null,i):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(r("document.F=Object")),t.close(),t.F);for(var n=l.length;n--;)delete f.prototype[l[n]];return f()};h[d]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(n.prototype=s(t),i=new n,n.prototype=null,i[d]=t):i=f(),void 0===e?i:a(i,e)}},6048:function(t,e,i){var n=i(9781),s=i(3070),a=i(9670),l=i(1956);t.exports=n?Object.defineProperties:function(t,e){a(t);for(var i,n=l(e),r=n.length,o=0;o<r;)s.f(t,i=n[o++],e[i]);return t}},3070:function(t,e,i){var n=i(9781),r=i(4664),o=i(9670),s=i(7593),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:function(t,e,i){var n=i(9781),r=i(5296),o=i(9114),s=i(5656),a=i(7593),l=i(6656),h=i(4664),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=s(t),e=a(e,!0),h)try{return c(t,e)}catch(t){}if(l(t,e))return o(!r.f.call(t,e),t[e])}},8006:function(t,e,i){var n=i(6324),r=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,i){var n=i(6656),r=i(7908),o=i(6200),i=i(8544),s=o("IE_PROTO"),a=Object.prototype;t.exports=i?Object.getPrototypeOf:function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},6324:function(t,e,i){var s=i(6656),a=i(5656),l=i(1318).indexOf,h=i(3501);t.exports=function(t,e){var i,n=a(t),r=0,o=[];for(i in n)!s(h,i)&&s(n,i)&&o.push(i);for(;e.length>r;)!s(n,i=e[r++])||~l(o,i)||o.push(i);return o}},1956:function(t,e,i){var n=i(6324),r=i(748);t.exports=Object.keys||function(t){return n(t,r)}},5296:function(t,e){var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){t=n(this,t);return!!t&&t.enumerable}:i},7674:function(t,e,i){var r=i(9670),o=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?(()=>{var i,n=!1,t={};try{(i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(i){}return function(t,e){return r(t),o(e),n?i.call(t,e):t.__proto__=e,t}})():void 0)},288:function(t,e,i){var n=i(1694),r=i(648);t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},3887:function(t,e,i){var n=i(5005),r=i(8006),o=i(5181),s=i(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},857:function(t,e,i){i=i(7854);t.exports=i},2248:function(t,e,i){var r=i(1320);t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},1320:function(t,e,i){var a=i(7854),l=i(8880),h=i(6656),c=i(3505),n=i(2788),i=i(9909),r=i.get,u=i.enforce,d=String(String).split("String");(t.exports=function(t,e,i,n){var r,o=!!n&&!!n.unsafe,s=!!n&&!!n.enumerable,n=!!n&&!!n.noTargetGet;"function"==typeof i&&("string"!=typeof e||h(i,"name")||l(i,"name",e),(r=u(i)).source||(r.source=d.join("string"==typeof e?e:""))),t!==a?(o?!n&&t[e]&&(s=!0):delete t[e],s?t[e]=i:l(t,e,i)):s?t[e]=i:c(e,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&r(this).source||n(this)})},7651:function(t,e,i){var n=i(4326),r=i(2261);t.exports=function(t,e){var i=t.exec;if("function"==typeof i){i=i.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},2261:function(t,e,i){var n,r,u=i(7066),i=i(2999),d=RegExp.prototype.exec,f=String.prototype.replace,o=d,p=(r=/b*/g,d.call(n=/a/,"a"),d.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];t.exports=o=p||m||g?function(t){var e,i,n,r,o=this,s=g&&o.sticky,a=u.call(o),l=o.source,h=0,c=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),c=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||(o.multiline,"\n"!==t[o.lastIndex-1]))&&(l="(?: "+l+")",c=" "+c,h++),i=new RegExp("^(?:"+l+")",a)),m&&(i=new RegExp("^"+l+"$(?!\\s)",a)),p&&(e=o.lastIndex),n=d.call(s?i:o,c),s?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:p&&n&&(o.lastIndex=o.global?n.index+n[0].length:e),m&&n&&1<n.length&&f.call(n[0],i,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n}:o},7066:function(t,e,i){var n=i(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,i){i=i(7293);function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i(function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=i(function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,i){var n=i(7854),r=i(8880);t.exports=function(e,i){try{r(n,e,i)}catch(t){n[e]=i}return i}},6340:function(t,e,i){var n=i(5005),r=i(3070),o=i(5112),s=i(9781),a=o("species");t.exports=function(t){var t=n(t),e=r.f;s&&t&&!t[a]&&e(t,a,{configurable:!0,get:function(){return this}})}},8003:function(t,e,i){var n=i(3070).f,r=i(6656),o=i(5112)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},6200:function(t,e,i){var n=i(2309),r=i(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},5465:function(t,e,i){var n=i(7854),i=i(3505),r="__core-js_shared__",n=n[r]||i(r,{});t.exports=n},2309:function(t,e,i){var n=i(1913),r=i(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.0",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,i){var n=i(9670),r=i(3099),o=i(5112)("species");t.exports=function(t,e){var t=n(t).constructor;return void 0===t||null==(t=n(t)[o])?e:r(t)}},8710:function(t,e,i){function n(r){return function(t,e){var i,t=String(s(t)),e=o(e),n=t.length;return e<0||n<=e?r?"":void 0:(i=t.charCodeAt(e))<55296||56319<i||e+1===n||(n=t.charCodeAt(e+1))<56320||57343<n?r?t.charAt(e):i:r?t.slice(e,e+2):n-56320+(i-55296<<10)+65536}}var o=i(9958),s=i(4488);t.exports={codeAt:n(!1),charAt:n(!0)}},3197:function(t){function v(t){return t+22+75*(t<26)}function o(t){var e,i=[],n=(t=(t=>{for(var e=[],i=0,n=t.length;i<n;){var r,o=t.charCodeAt(i++);55296<=o&&o<=56319&&i<n?56320==(64512&(r=t.charCodeAt(i++)))?e.push(((1023&o)<<10)+(1023&r)+65536):(e.push(o),i--):e.push(o)}return e})(t)).length,r=128,o=0,s=72;for(c=0;c<t.length;c++)(e=t[c])<128&&i.push(_(e));var a=i.length,l=a;for(a&&i.push("-");l<n;){for(var h=y,c=0;c<t.length;c++)(e=t[c])>=r&&e<h&&(h=e);var u=l+1;if(h-r>x((y-o)/u))throw RangeError(b);for(o+=(h-r)*u,r=h,c=0;c<t.length;c++){if((e=t[c])<r&&++o>y)throw RangeError(b);if(e==r){for(var d=o,f=36;;f+=36){var p=f<=s?1:s+26<=f?26:f-s;if(d<p)break;var g=d-p,m=36-p;i.push(_(v(p+g%m))),d=x(g/m)}i.push(_(v(d))),s=((t,e,i)=>{var n=0;for(t=i?x(t/700):t>>1,t+=x(t/e);455<t;n+=36)t=x(t/35);return x(n+36*t/(t+38))})(o,u,l==a),o=0,++l}}++o,++r}return i.join("")}var y=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",x=Math.floor,_=String.fromCharCode;t.exports=function(t){for(var e,i=[],n=t.toLowerCase().replace(a,".").split("."),r=0;r<n.length;r++)e=n[r],i.push(s.test(e)?"xn--"+o(e):e);return i.join(".")}},6091:function(t,e,i){var n=i(7293),r=i(1361);t.exports=function(t){return n(function(){return!!r[t]()||""!=""[t]()||r[t].name!==t})}},3111:function(t,e,i){function n(e){return function(t){t=String(r(t));return 1&e&&(t=t.replace(o,"")),t=2&e?t.replace(s,""):t}}var r=i(4488),i="["+i(1361)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},1400:function(t,e,i){var n=i(9958),r=Math.max,o=Math.min;t.exports=function(t,e){t=n(t);return t<0?r(t+e,0):o(t,e)}},7067:function(t,e,i){var n=i(9958),r=i(7466);t.exports=function(t){if(void 0===t)return 0;var t=n(t),e=r(t);if(t!==e)throw RangeError("Wrong length or index");return e}},5656:function(t,e,i){var n=i(8361),r=i(4488);t.exports=function(t){return n(r(t))}},9958:function(t){var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:e)(t)}},7466:function(t,e,i){var n=i(9958),r=Math.min;t.exports=function(t){return 0<t?r(n(t),9007199254740991):0}},7908:function(t,e,i){var n=i(4488);t.exports=function(t){return Object(n(t))}},4590:function(t,e,i){var n=i(3002);t.exports=function(t,e){t=n(t);if(t%e)throw RangeError("Wrong offset");return t}},3002:function(t,e,i){var n=i(9958);t.exports=function(t){t=n(t);if(t<0)throw RangeError("The argument can't be less than 0");return t}},7593:function(t,e,i){var r=i(111);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t))||"function"==typeof(i=t.valueOf)&&!r(n=i.call(t))||!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,i){var n={};n[i(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9843:function(t,R,e){function f(t,e){for(var i=0,n=e.length,r=new(K(t))(n);i<n;)r[i]=e[i++];return r}function i(t,e){E(t,e,{get:function(){return A(this)[e]}})}function p(t){return t instanceof M||"ArrayBuffer"==(t=j(t))||"SharedArrayBuffer"==t}function n(t,e){return D(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)}function r(t,e){return n(t,e=u(e,!0))?z(2,t[e]):Y(t,e)}function o(t,e,i){return!(n(t,e=u(e,!0))&&b(i)&&d(i,"value"))||d(i,"get")||d(i,"set")||i.configurable||d(i,"writable")&&!i.writable||d(i,"enumerable")&&!i.enumerable?E(t,e,i):(t[e]=i.value,t)}var a=e(2109),l=e(7854),s=e(9781),F=e(3832),h=e(260),c=e(3331),g=e(5787),z=e(9114),m=e(8880),N=e(7466),v=e(7067),y=e(4590),u=e(7593),d=e(6656),j=e(648),b=e(111),B=e(30),x=e(7674),H=e(8006).f,_=e(7321),U=e(2092).forEach,W=e(6340),w=e(3070),k=e(1236),S=e(9909),V=e(9587),A=S.get,q=S.set,E=w.f,Y=k.f,X=Math.round,C=l.RangeError,M=c.ArrayBuffer,G=c.DataView,T=h.NATIVE_ARRAY_BUFFER_VIEWS,P=h.TYPED_ARRAY_TAG,L=h.TypedArray,O=h.TypedArrayPrototype,K=h.aTypedArrayConstructor,D=h.isTypedArray,I="BYTES_PER_ELEMENT",$="Wrong length";s?(T||(k.f=r,w.f=o,i(O,"buffer"),i(O,"byteOffset"),i(O,"byteLength"),i(O,"length")),a({target:"Object",stat:!0,forced:!T},{getOwnPropertyDescriptor:r,defineProperty:o}),t.exports=function(t,e,r){function h(t,n){E(t,n,{get:function(){var t=this,e=n;return(t=A(t)).view[i](e*c+t.byteOffset,!0)},set:function(t){var e=this,i=n;e=A(e),r&&(t=(t=X(t))<0?0:255<t?255:255&t),e.view[o](i*c+e.byteOffset,t,!0)},enumerable:!0})}var c=t.match(/\d+$/)[0]/8,u=t+(r?"Clamped":"")+"Array",i="get"+t,o="set"+t,s=l[u],d=s,t=d&&d.prototype,n={};T?F&&(d=e(function(t,e,i,n){return g(t,d,u),V(b(e)?p(e)?void 0!==n?new s(e,y(i,c),n):void 0!==i?new s(e,y(i,c)):new s(e):D(e)?f(d,e):_.call(d,e):new s(v(e)),t,d)}),x&&x(d,L),U(H(s),function(t){t in d||m(d,t,s[t])}),d.prototype=t):(d=e(function(t,e,i,n){g(t,d,u);var r,o,s=0,a=0;if(b(e)){if(!p(e))return D(e)?f(d,e):_.call(d,e);var l=e,a=y(i,c),i=e.byteLength;if(void 0===n){if(i%c)throw C($);if((r=i-a)<0)throw C($)}else if((r=N(n)*c)+a>i)throw C($);o=r/c}else o=v(e),l=new M(r=o*c);for(q(t,{buffer:l,byteOffset:a,byteLength:r,length:o,view:new G(l)});s<o;)h(t,s++)}),x&&x(d,L),t=d.prototype=B(O)),t.constructor!==d&&m(t,"constructor",d),P&&m(t,P,u),a({global:!0,forced:(n[u]=d)!=s,sham:!T},n),I in d||m(d,I,c),I in t||m(t,I,c),W(u)}):t.exports=function(){}},3832:function(t,e,i){var n=i(7854),r=i(7293),o=i(7072),i=i(260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,a=n.Int8Array;t.exports=!i||!r(function(){a(1)})||!r(function(){new a(-1)})||!o(function(t){new a,new a(null),new a(1.5),new a(t)},!0)||r(function(){return 1!==new a(new s(2),1,void 0).length})},3074:function(t,e,i){var o=i(260).aTypedArrayConstructor,s=i(6707);t.exports=function(t,e){for(var t=s(t,t.constructor),i=0,n=e.length,r=new(o(t))(n);i<n;)r[i]=e[i++];return r}},7321:function(t,e,i){var u=i(7908),d=i(7466),f=i(1246),p=i(7659),g=i(9974),m=i(260).aTypedArrayConstructor;t.exports=function(t){var e,i,n,r,o,s,a=u(t),t=arguments.length,l=1<t?arguments[1]:void 0,h=void 0!==l,c=f(a);if(null!=c&&!p(c))for(s=(o=c.call(a)).next,a=[];!(r=s.call(o)).done;)a.push(r.value);for(h&&2<t&&(l=g(l,arguments[2],2)),i=d(a.length),n=new(m(this))(i),e=0;e<i;e++)n[e]=h?l(a[e],e):a[e];return n}},9711:function(t){var e=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+i).toString(36)}},3307:function(t,e,i){i=i(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,i){var n=i(7854),r=i(2309),o=i(6656),s=i(9711),a=i(133),i=i(3307),l=r("wks"),h=n.Symbol,c=i?h:h&&h.withoutSetter||s;t.exports=function(t){return o(l,t)||(a&&o(h,t)?l[t]=h[t]:l[t]=c("Symbol."+t)),l[t]}},1361:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8264:function(t,e,i){var n=i(2109),r=i(7854),o=i(3331),i=i(6340),o=o.ArrayBuffer;n({global:!0,forced:r.ArrayBuffer!==o},{ArrayBuffer:o}),i("ArrayBuffer")},2222:function(t,e,i){var n=i(2109),r=i(7293),u=i(3157),d=i(111),f=i(7908),p=i(7466),g=i(6135),m=i(5417),o=i(1194),s=i(5112),i=i(7392),v=s("isConcatSpreadable"),y=9007199254740991,b="Maximum allowed index exceeded",s=51<=i||!r(function(){var t=[];return t[v]=!1,t.concat()[0]!==t}),i=o("concat");n({target:"Array",proto:!0,forced:!s||!i},{concat:function(t){for(var e,i,n,r,o,s=f(this),a=m(s,0),l=0,h=-1,c=arguments.length;h<c;h++)if(r=n=-1===h?s:arguments[h],o=void 0,!d(r)||(void 0!==(o=r[v])?!o:!u(r))){if(y<=l)throw TypeError(b);g(a,l++,n)}else{if(l+(i=p(n.length))>y)throw TypeError(b);for(e=0;e<i;e++,l++)e in n&&g(a,l,n[e])}return a.length=l,a}})},7327:function(t,e,i){var n=i(2109),r=i(2092).filter;n({target:"Array",proto:!0,forced:!i(1194)("filter")},{filter:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}})},2772:function(t,e,i){var n=i(2109),r=i(1318).indexOf,i=i(9341),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,i=i("indexOf");n({target:"Array",proto:!0,forced:s||!i},{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,1<arguments.length?arguments[1]:void 0)}})},6992:function(t,e,i){var n=i(5656),r=i(1223),o=i(7497),s=i(9909),i=i(654),a="Array Iterator",l=s.set,h=s.getterFor(a);t.exports=i(Array,"Array",function(t,e){l(this,{type:a,target:n(t),index:0,kind:e})},function(){var t=h(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?{value:t.target=void 0,done:!0}:"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},1249:function(t,e,i){var n=i(2109),r=i(2092).map;n({target:"Array",proto:!0,forced:!i(1194)("map")},{map:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}})},7042:function(t,e,i){var n=i(2109),h=i(111),c=i(3157),u=i(1400),d=i(7466),f=i(5656),p=i(6135),r=i(5112),i=i(1194)("slice"),g=r("species"),m=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!i},{slice:function(t,e){var i,n,r,o=f(this),s=d(o.length),a=u(t,s),l=u(void 0===e?s:e,s);if(c(o)&&((i="function"==typeof(i=o.constructor)&&(i===Array||c(i.prototype))||h(i)&&null===(i=i[g])?void 0:i)===Array||void 0===i))return m.call(o,a,l);for(n=new(void 0===i?Array:i)(v(l-a,0)),r=0;a<l;a++,r++)a in o&&p(n,r,o[a]);return n.length=r,n}})},561:function(t,e,i){var n=i(2109),u=i(1400),d=i(9958),f=i(7466),p=i(7908),g=i(5417),m=i(6135),i=i(1194)("splice"),v=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!i},{splice:function(t,e){var i,n,r,o,s,a,l=p(this),h=f(l.length),c=u(t,h),t=arguments.length;if(0===t?i=n=0:n=1===t?(i=0,h-c):(i=t-2,y(v(d(e),0),h-c)),9007199254740991<h+i-n)throw TypeError("Maximum allowed length exceeded");for(r=g(l,n),o=0;o<n;o++)(s=c+o)in l&&m(r,o,l[s]);if(i<(r.length=n)){for(o=c;o<h-n;o++)a=o+i,(s=o+n)in l?l[a]=l[s]:delete l[a];for(o=h;h-n+i<o;o--)delete l[o-1]}else if(n<i)for(o=h-n;c<o;o--)a=o+i-1,(s=o+n-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<i;o++)l[o+c]=arguments[o+2];return l.length=h-n+i,r}})},8309:function(t,e,i){var n=i(9781),i=i(3070).f,r=Function.prototype,o=r.toString,s=/^\s*function ([^ (]*)/;!n||"name"in r||i(r,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},489:function(t,e,i){var n=i(2109),r=i(7293),o=i(7908),s=i(9518),i=i(8544);n({target:"Object",stat:!0,forced:r(function(){s(1)}),sham:!i},{getPrototypeOf:function(t){return s(o(t))}})},1539:function(t,e,i){var n=i(1694),r=i(1320),i=i(288);n||r(Object.prototype,"toString",i,{unsafe:!0})},4916:function(t,e,i){var n=i(2109),i=i(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:function(t,e,i){var n=i(1320),r=i(9670),o=i(7293),s=i(7066),a=RegExp.prototype,l=a.toString,i=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),o="toString"!=l.name;(i||o)&&n(RegExp.prototype,"toString",function(){var t=r(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in a)?s.call(t):i)},{unsafe:!0})},8783:function(t,e,i){var n=i(8710).charAt,r=i(9909),i=i(654),o="String Iterator",s=r.set,a=r.getterFor(o);i(String,"String",function(t){s(this,{type:o,string:String(t),index:0})},function(){var t=a(this),e=t.string,i=t.index;return i>=e.length?{value:void 0,done:!0}:(e=n(e,i),t.index+=e.length,{value:e,done:!1})})},4723:function(t,e,i){var n=i(7007),c=i(9670),u=i(7466),r=i(4488),d=i(1530),f=i(7651);n("match",1,function(n,l,h){return[function(t){var e=r(this),i=null==t?void 0:t[n];return void 0!==i?i.call(t,e):new RegExp(t)[n](String(e))},function(t){var e=h(l,t,this);if(e.done)return e.value;var i=c(t),n=String(this);if(!i.global)return f(i,n);for(var r=i.unicode,o=[],s=i.lastIndex=0;null!==(a=f(i,n));){var a=String(a[0]);""===(o[s]=a)&&(i.lastIndex=d(n,u(i.lastIndex),r)),s++}return 0===s?null:o}]})},5306:function(t,e,i){var n=i(7007),A=i(9670),E=i(7466),C=i(9958),o=i(4488),M=i(1530),T=i(647),P=i(7651),L=Math.max,O=Math.min;n("replace",2,function(r,x,_,t){var w=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=t.REPLACE_KEEPS_$0,S=w?"$":"$0";return[function(t,e){var i=o(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,i,e):x.call(String(i),t,e)},function(t,e){if(!w&&k||"string"==typeof e&&-1===e.indexOf(S)){var i=_(x,t,this,e);if(i.done)return i.value}var n,r=A(t),o=String(this),s="function"==typeof e,a=(s||(e=String(e)),r.global);a&&(n=r.unicode,r.lastIndex=0);for(var l=[];;){var h=P(r,o);if(null===h)break;if(l.push(h),!a)break;""===String(h[0])&&(r.lastIndex=M(o,E(r.lastIndex),n))}for(var c,u="",d=0,f=0;f<l.length;f++){for(var h=l[f],p=String(h[0]),g=L(O(C(h.index),o.length),0),m=[],v=1;v<h.length;v++)m.push(void 0===(c=h[v])?c:String(c));var y=h.groups,b=s?(b=[p].concat(m,g,o),void 0!==y&&b.push(y),String(e.apply(void 0,b))):T(p,o,g,m,y,e);d<=g&&(u+=o.slice(d,g)+b,d=g+p.length)}return u+o.slice(d)}]})},3123:function(t,e,i){var n=i(7007),c=i(7850),v=i(9670),u=i(4488),y=i(6707),b=i(1530),x=i(7466),_=i(7651),d=i(2261),i=i(7293),f=[].push,w=Math.min,k=4294967295,S=!i(function(){return!RegExp(k,"y")});n("split",2,function(r,p,g){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var i=String(u(this)),n=void 0===e?k:e>>>0;if(0==n)return[];if(void 0===t)return[i];if(!c(t))return p.call(i,t,n);for(var r,o,s,a=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,h=new RegExp(t.source,e+"g");(r=d.call(h,i))&&!((o=h.lastIndex)>l&&(a.push(i.slice(l,r.index)),1<r.length&&r.index<i.length&&f.apply(a,r.slice(1)),s=r[0].length,l=o,n<=a.length));)h.lastIndex===r.index&&h.lastIndex++;return l===i.length?!s&&h.test("")||a.push(""):a.push(i.slice(l)),n<a.length?a.slice(0,n):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)}:p;return[function(t,e){var i=u(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,i,e):m.call(String(i),t,e)},function(t,e){var i=g(m,t,this,e,m!==p);if(i.done)return i.value;var i=v(t),n=String(this),t=y(i,RegExp),r=i.unicode,o=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(S?"y":"g"),s=new t(S?i:"^(?:"+i.source+")",o),a=void 0===e?k:e>>>0;if(0==a)return[];if(0===n.length)return null===_(s,n)?[n]:[];for(var l=0,h=0,c=[];h<n.length;){s.lastIndex=S?h:0;var u,d=_(s,S?n:n.slice(h));if(null===d||(u=w(x(s.lastIndex+(S?0:h)),n.length))===l)h=b(n,h,r);else{if(c.push(n.slice(l,h)),c.length===a)return c;for(var f=1;f<=d.length-1;f++)if(c.push(d[f]),c.length===a)return c;h=l=u}}return c.push(n.slice(l)),c}]},!S)},3210:function(t,e,i){var n=i(2109),r=i(3111).trim;n({target:"String",proto:!0,forced:i(6091)("trim")},{trim:function(){return r(this)}})},2990:function(t,e,i){var n=i(260),r=i(1048),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",function(t,e){return r.call(o(this),t,e,2<arguments.length?arguments[2]:void 0)})},8927:function(t,e,i){var n=i(260),r=i(2092).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},3105:function(t,e,i){var n=i(260),r=i(1285),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function(t){return r.apply(o(this),arguments)})},5035:function(t,e,i){var n=i(260),r=i(2092).filter,o=i(3074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(t){t=r(s(this),t,1<arguments.length?arguments[1]:void 0);return o(this,t)})},7174:function(t,e,i){var n=i(260),r=i(2092).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},4345:function(t,e,i){var n=i(260),r=i(2092).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},2846:function(t,e,i){var n=i(260),r=i(2092).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(t){r(o(this),t,1<arguments.length?arguments[1]:void 0)})},4731:function(t,e,i){var n=i(260),r=i(1318).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},7209:function(t,e,i){var n=i(260),r=i(1318).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},6319:function(t,e,i){function n(){return a.call(c(this))}var r=i(7854),o=i(260),s=i(6992),i=i(5112)("iterator"),r=r.Uint8Array,a=s.values,l=s.keys,h=s.entries,c=o.aTypedArray,s=o.exportTypedArrayMethod,o=r&&r.prototype[i],r=!!o&&("values"==o.name||null==o.name);s("entries",function(){return h.call(c(this))}),s("keys",function(){return l.call(c(this))}),s("values",n,!r),s(i,n,!r)},8867:function(t,e,i){var i=i(260),n=i.aTypedArray,i=i.exportTypedArrayMethod,r=[].join;i("join",function(t){return r.apply(n(this),arguments)})},7789:function(t,e,i){var n=i(260),r=i(6583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(t){return r.apply(o(this),arguments)})},3739:function(t,e,i){var n=i(260),r=i(2092).map,o=i(6707),s=n.aTypedArray,a=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(t){return r(s(this),t,1<arguments.length?arguments[1]:void 0,function(t,e){return new(a(o(t,t.constructor)))(e)})})},4483:function(t,e,i){var n=i(260),r=i(3671).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(t){return r(o(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)})},9368:function(t,e,i){var n=i(260),r=i(3671).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(t){return r(o(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)})},2056:function(t,e,i){var i=i(260),r=i.aTypedArray,i=i.exportTypedArrayMethod,o=Math.floor;i("reverse",function(){for(var t,e=r(this).length,i=o(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this})},3462:function(t,e,i){var n=i(260),s=i(7466),a=i(4590),l=i(7908),i=i(7293),h=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",function(t){h(this);var e=a(1<arguments.length?arguments[1]:void 0,1),i=this.length,n=l(t),r=s(n.length),o=0;if(i<r+e)throw RangeError("Wrong length");for(;o<r;)this[e+o]=n[o++]},i(function(){new Int8Array(1).set({})}))},678:function(t,e,i){var n=i(260),s=i(6707),i=i(7293),a=n.aTypedArray,l=n.aTypedArrayConstructor,n=n.exportTypedArrayMethod,h=[].slice;n("slice",function(t,e){for(var i=h.call(a(this),t,e),t=s(this,this.constructor),n=0,r=i.length,o=new(l(t))(r);n<r;)o[n]=i[n++];return o},i(function(){new Int8Array(1).slice()}))},7462:function(t,e,i){var n=i(260),r=i(2092).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(t){return r(o(this),t,1<arguments.length?arguments[1]:void 0)})},3824:function(t,e,i){var i=i(260),n=i.aTypedArray,i=i.exportTypedArrayMethod,r=[].sort;i("sort",function(t){return r.call(n(this),t)})},5021:function(t,e,i){var n=i(260),r=i(7466),o=i(1400),s=i(6707),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function(t,e){var i=a(this),n=i.length,t=o(t,n);return new(s(i,i.constructor))(i.buffer,i.byteOffset+t*i.BYTES_PER_ELEMENT,r((void 0===e?n:o(e,n))-t))})},2974:function(t,e,i){var n=i(7854),r=i(260),i=i(7293),o=n.Int8Array,s=r.aTypedArray,n=r.exportTypedArrayMethod,a=[].toLocaleString,l=[].slice,h=!!o&&i(function(){a.call(new o(1))});n("toLocaleString",function(){return a.apply(h?l.call(s(this)):s(this),arguments)},i(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!i(function(){o.prototype.toLocaleString.call([1,2])}))},5016:function(t,e,i){var n=i(260).exportTypedArrayMethod,r=i(7293),i=i(7854).Uint8Array,i=i&&i.prototype||{},o=[].toString,s=[].join,r=(r(function(){o.call({})})&&(o=function(){return s.call(this)}),i.toString!=o);n("toString",o,r)},2472:function(t,e,i){i(9843)("Uint8",function(n){return function(t,e,i){return n(this,t,e,i)}})},4747:function(t,e,i){var n,r=i(7854),o=i(8324),s=i(8533),a=i(8880);for(n in o){var l=r[n],l=l&&l.prototype;if(l&&l.forEach!==s)try{a(l,"forEach",s)}catch(t){l.forEach=s}}},3948:function(t,e,i){var n,r=i(7854),o=i(8324),s=i(6992),a=i(8880),i=i(5112),l=i("iterator"),h=i("toStringTag"),c=s.values;for(n in o){var u=r[n],d=u&&u.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(t){d[l]=c}if(d[h]||a(d,h,n),o[n])for(var f in s)if(d[f]!==s[f])try{a(d,f,s[f])}catch(t){d[f]=s[f]}}}},1637:function(t,R,e){e(6992);function i(t){return B[t]}function r(t){return encodeURIComponent(t).replace(j,i)}function c(t){this.entries.length=0,I(this.entries,t)}function h(t,e){if(t<e)throw TypeError("Not enough arguments")}function u(){g(this,u,C);var t,e,i,n,r,o,s,a,l=0<arguments.length?arguments[0]:void 0,h=[];if(T(this,{type:C,entries:h,updateURL:function(){},updateSearchParams:c}),void 0!==l)if(x(l))if("function"==typeof(t=S(l)))for(i=(e=t.call(l)).next;!(n=i.call(e)).done;){if((o=(r=(n=k(b(n.value))).next).call(n)).done||(s=r.call(n)).done||!r.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(a in l)m(l,a)&&h.push({key:a,value:l[a]+""});else I(h,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")}var n=e(2109),o=e(5005),s=e(590),a=e(1320),l=e(2248),d=e(8003),f=e(4994),p=e(9909),g=e(5787),m=e(6656),v=e(9974),y=e(648),b=e(9670),x=e(111),_=e(30),w=e(9114),k=e(8554),S=e(1246),e=e(5112),A=o("fetch"),E=o("Headers"),o=e("iterator"),C="URLSearchParams",M="URLSearchParamsIterator",T=p.set,P=p.getterFor(C),L=p.getterFor(M),F=/\+/g,O=Array(4),z=function(t){return O[t-1]||(O[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(t){var e=t.replace(F," "),i=4;try{return decodeURIComponent(e)}catch(t){for(;i;)e=e.replace(z(i--),N);return e}},j=/[!'()~]|%20/g,B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(t,e){if(e)for(var i,n=e.split("&"),r=0;r<n.length;)(i=n[r++]).length&&(i=i.split("="),t.push({key:D(i.shift()),value:D(i.join("="))}))},$=f(function(t,e){T(this,{type:M,iterator:k(P(t).entries),kind:e})},"Iterator",function(){var t=L(this),e=t.kind,t=t.iterator.next(),i=t.value;return t.done||(t.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),t}),e=u.prototype;l(e,{append:function(t,e){h(arguments.length,2);var i=P(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},delete:function(t){h(arguments.length,1);for(var e=P(this),i=e.entries,n=t+"",r=0;r<i.length;)i[r].key===n?i.splice(r,1):r++;e.updateURL()},get:function(t){h(arguments.length,1);for(var e=P(this).entries,i=t+"",n=0;n<e.length;n++)if(e[n].key===i)return e[n].value;return null},getAll:function(t){h(arguments.length,1);for(var e=P(this).entries,i=t+"",n=[],r=0;r<e.length;r++)e[r].key===i&&n.push(e[r].value);return n},has:function(t){h(arguments.length,1);for(var e=P(this).entries,i=t+"",n=0;n<e.length;)if(e[n++].key===i)return!0;return!1},set:function(t,e){h(arguments.length,1);for(var i,n=P(this),r=n.entries,o=!1,s=t+"",a=e+"",l=0;l<r.length;l++)(i=r[l]).key===s&&(o?r.splice(l--,1):(o=!0,i.value=a));o||r.push({key:s,value:a}),n.updateURL()},sort:function(){for(var t,e,i=P(this),n=i.entries,r=n.slice(),o=n.length=0;o<r.length;o++){for(t=r[o],e=0;e<o;e++)if(n[e].key>t.key){n.splice(e,0,t);break}e===o&&n.push(t)}i.updateURL()},forEach:function(t){for(var e,i=P(this).entries,n=v(t,1<arguments.length?arguments[1]:void 0,3),r=0;r<i.length;)n((e=i[r++]).value,e.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),a(e,o,e.entries),a(e,"toString",function(){for(var t,e=P(this).entries,i=[],n=0;n<e.length;)t=e[n++],i.push(r(t.key)+"="+r(t.value));return i.join("&")},{enumerable:!0}),d(u,C),n({global:!0,forced:!s},{URLSearchParams:u}),s||"function"!=typeof A||"function"!=typeof E||n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,i,n,t=[t];return 1<arguments.length&&(x(e=arguments[1])&&(i=e.body,y(i)===C)&&((n=e.headers?new E(e.headers):new E).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=_(e,{body:w(0,String(i)),headers:w(0,n)})),t.push(e)),A.apply(this,t)}}),t.exports={URLSearchParams:u,getState:P}},285:function(m,F,t){t(8783);function c(t){var e,i,n,r;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=X(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",n=(t=>{for(var e=null,i=1,n=null,r=0,o=0;o<8;o++)0!==t[o]?(i<r&&(e=n,i=r),n=null,r=0):(null===n&&(n=o),++r);return i<r&&(e=n,i=r),e})(t),i=0;i<8;i++)r&&0===t[i]||(r=r&&!1,n===i?(e+=i?":":"::",r=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"}function r(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme}function a(t,e,i,n){var r,o,s,a=i||pt,l=0,h="",c=!1,u=!1,d=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(ot,"")),e=e.replace(st,""),r=b(e);l<=r.length;){switch(o=r[l],a){case pt:if(!o||!Z.test(o)){if(i)return x;a=mt;continue}h+=o.toLowerCase(),a=gt;break;case gt:if(o&&(Q.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(i)return x;h="",a=mt,l=0;continue}if(i&&(M(t)!=y(C,h)||"file"==h&&(T(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,i)return void(M(t)&&C[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?a=At:M(t)&&n&&n.scheme==t.scheme?a=vt:M(t)?a=_t:"/"==r[l+1]?(a=yt,l++):(t.cannotBeABaseURL=!0,t.path.push(""),a=Mt)}break;case mt:if(!n||n.cannotBeABaseURL&&"#"!=o)return x;if(n.cannotBeABaseURL&&"#"==o){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,a=R;break}a="file"==n.scheme?At:bt;continue;case vt:if("/"!=o||"/"!=r[l+1]){a=bt;continue}a=L,l++;break;case yt:if("/"==o){a=O;break}a=I;continue;case bt:if(t.scheme=n.scheme,o==v)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==o||"\\"==o&&M(t))a=xt;else if("?"==o)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",a=$;else{if("#"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),a=I;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",a=R}break;case xt:if(!M(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,a=I;continue}a=O}else a=L;break;case _t:if(a=L,"/"!=o||"/"!=h.charAt(l+1))continue;l++;break;case L:if("/"==o||"\\"==o)break;a=O;continue;case O:if("@"==o){c&&(h="%40"+h);for(var c=!0,f=b(h),p=0;p<f.length;p++){var g=f[p];":"!=g||d?(g=E(g,A),d?t.password+=g:t.username+=g):d=!0}h=""}else if(o==v||"/"==o||"?"==o||"#"==o||"\\"==o&&M(t)){if(c&&""==h)return"Invalid authority";l-=b(h).length+1,h="",a=wt}else h+=o;break;case wt:case kt:if(i&&"file"==t.scheme){a=Ct;continue}if(":"!=o||u){if(o==v||"/"==o||"?"==o||"#"==o||"\\"==o&&M(t)){if(M(t)&&""==h)return _;if(i&&""==h&&(T(t)||null!==t.port))return;if(s=k(t,h))return s;if(h="",a=D,i)return;continue}"["==o?u=!0:"]"==o&&(u=!1),h+=o}else{if(""==h)return _;if(s=k(t,h))return s;if(h="",a=St,i==kt)return}break;case St:if(!w.test(o)){if(o==v||"/"==o||"?"==o||"#"==o||"\\"==o&&M(t)||i){if(""!=h){var m=parseInt(h,10);if(65535<m)return K;t.port=M(t)&&m===C[t.scheme]?null:m,h=""}if(i)return;a=D;continue}return K}h+=o;break;case At:if(t.scheme="file","/"==o||"\\"==o)a=Et;else{if(!n||"file"!=n.scheme){a=I;continue}if(o==v)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==o)t.host=n.host,t.path=n.path.slice(),t.query="",a=$;else{if("#"!=o){ut(r.slice(l).join(""))||(t.host=n.host,t.path=n.path.slice(),dt(t)),a=I;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",a=R}}break;case Et:if("/"==o||"\\"==o){a=Ct;break}n&&"file"==n.scheme&&!ut(r.slice(l).join(""))&&(P(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),a=I;continue;case Ct:if(o==v||"/"==o||"\\"==o||"?"==o||"#"==o){if(!i&&P(h))a=I;else{if(""==h){if(t.host="",i)return}else{if(s=k(t,h))return s;if("localhost"==t.host&&(t.host=""),i)return;h=""}a=D}continue}h+=o;break;case D:if(M(t)){if(a=I,"/"!=o&&"\\"!=o)continue}else if(i||"?"!=o)if(i||"#"!=o){if(o!=v&&(a=I,"/"!=o))continue}else t.fragment="",a=R;else t.query="",a=$;break;case I:if(o==v||"/"==o||"\\"==o&&M(t)||!i&&("?"==o||"#"==o)){if(".."===(m=(m=h).toLowerCase())||"%2e."===m||".%2e"===m||"%2e%2e"===m?(dt(t),"/"==o||"\\"==o&&M(t)||t.path.push("")):ft(h)?"/"==o||"\\"==o&&M(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&P(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(o==v||"?"==o||"#"==o))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",a=$):"#"==o&&(t.fragment="",a=R)}else h+=E(o,ct);break;case Mt:"?"==o?(t.query="",a=$):"#"==o?(t.fragment="",a=R):o!=v&&(t.path[0]+=E(o,S));break;case $:i||"#"!=o?o!=v&&("'"==o&&M(t)?t.query+="%27":t.query+="#"==o?"%23":E(o,S)):(t.fragment="",a=R);break;case R:o!=v&&(t.fragment+=E(o,ht))}l++}}function l(t){var e,i,n=B(this,l,"URL"),r=1<arguments.length?arguments[1]:void 0,t=String(t),o=Y(n,{type:"URL"});if(void 0!==r)if(r instanceof l)e=p(r);else if(i=a(e={},String(r)))throw TypeError(i);if(i=a(o,t,null,e))throw TypeError(i);var s=o.searchParams=new q;(r=f(s)).updateSearchParams(o.query),r.updateURL=function(){o.query=String(s)||null},h||(n.href=g.call(n),n.origin=Tt.call(n),n.protocol=Pt.call(n),n.username=Lt.call(n),n.password=Ot.call(n),n.host=Dt.call(n),n.hostname=It.call(n),n.port=$t.call(n),n.pathname=Rt.call(n),n.search=Ft.call(n),n.searchParams=zt.call(n),n.hash=Nt.call(n))}function e(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}}var v,i,n,z=t(2109),h=t(9781),N=t(590),o=t(7854),j=t(6048),s=t(1320),B=t(5787),y=t(6656),u=t(1574),b=t(8457),H=t(8710).codeAt,U=t(3197),W=t(8003),V=t(1637),t=t(9909),d=o.URL,q=V.URLSearchParams,f=V.getState,Y=t.set,p=t.getterFor("URL"),X=Math.floor,G=Math.pow,x="Invalid scheme",_="Invalid host",K="Invalid port",Z=/[A-Za-z]/,Q=/[\d+-.A-Za-z]/,w=/\d/,J=/^(0x|0X)/,tt=/^[0-7]+$/,et=/^\d+$/,it=/^[\dA-Fa-f]+$/,nt=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,rt=/[\u0000\t\u000A\u000D #/:?@[\\]]/,ot=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,st=/[\t\u000A\u000D]/g,k=function(t,e){var i,n,r;if("["==e.charAt(0))return"]"==e.charAt(e.length-1)&&(i=lt(e.slice(1,-1)))?void(t.host=i):_;if(M(t))return e=U(e),nt.test(e)||null===(i=at(e))?_:void(t.host=i);if(rt.test(e))return _;for(i="",n=b(e),r=0;r<n.length;r++)i+=E(n[r],S);t.host=i},at=function(t){var e,i,n,r,o,s,a,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(e=l.length))return t;for(i=[],n=0;n<e;n++){if(""==(r=l[n]))return t;if(o=10,1<r.length&&"0"==r.charAt(0)&&(o=J.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)s=0;else{if(!(10==o?et:8==o?tt:it).test(r))return t;s=parseInt(r,o)}i.push(s)}for(n=0;n<e;n++)if(s=i[n],n==e-1){if(s>=G(256,5-e))return null}else if(255<s)return null;for(a=i.pop(),n=0;n<i.length;n++)a+=i[n]*G(256,3-n);return a},lt=function(t){function e(){return t.charAt(d)}var i,n,r,o,s,a,l,h=[0,0,0,0,0,0,0,0],c=0,u=null,d=0;if(":"==e()){if(":"!=t.charAt(1))return;d+=2,u=++c}for(;e();){if(8==c)return;if(":"!=e()){for(i=n=0;n<4&&it.test(e());)i=16*i+parseInt(e(),16),d++,n++;if("."==e()){if(0==n)return;if(d-=n,6<c)return;for(r=0;e();){if(o=null,0<r){if(!("."==e()&&r<4))return;d++}if(!w.test(e()))return;for(;w.test(e());){if(s=parseInt(e(),10),null===o)o=s;else{if(0==o)return;o=10*o+s}if(255<o)return;d++}h[c]=256*h[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==e()){if(d++,!e())return}else if(e())return;h[c++]=i}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&0<a;)l=h[c],h[c--]=h[u+a-1],h[u+--a]=l;else if(8!=c)return;return h},S={},ht=u({},S,{" ":1,'"':1,"<":1,">":1,"`":1}),ct=u({},ht,{"#":1,"?":1,"{":1,"}":1}),A=u({},ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),E=function(t,e){var i=H(t,0);return 32<i&&i<127&&!y(e,t)?t:encodeURIComponent(t)},C={ftp:21,file:null,http:80,https:443,ws:80,wss:443},M=function(t){return y(C,t.scheme)},T=function(t){return""!=t.username||""!=t.password},P=function(t,e){return 2==t.length&&Z.test(t.charAt(0))&&(":"==(t=t.charAt(1))||!e&&"|"==t)},ut=function(t){return 1<t.length&&P(t.slice(0,2))&&(2==t.length||"/"===(t=t.charAt(2))||"\\"===t||"?"===t||"#"===t)},dt=function(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&P(e[0],!0)||e.pop()},ft=function(t){return"."===t||"%2e"===t.toLowerCase()},pt={},gt={},mt={},vt={},yt={},bt={},xt={},_t={},L={},O={},wt={},kt={},St={},At={},Et={},Ct={},D={},I={},Mt={},$={},R={},o=l.prototype,g=function(){var t=p(this),e=t.scheme,i=t.username,n=t.password,r=t.host,o=t.port,s=t.path,a=t.query,l=t.fragment,h=e+":";return null!==r?(h+="//",T(t)&&(h+=i+(n?":"+n:"")+"@"),h+=c(r),null!==o&&(h+=":"+o)):"file"==e&&(h+="//"),h+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(h+="?"+a),null!==l&&(h+="#"+l),h},Tt=function(){var t=p(this),e=t.scheme,i=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&M(t)?e+"://"+c(t.host)+(null!==i?":"+i:""):"null"},Pt=function(){return p(this).scheme+":"},Lt=function(){return p(this).username},Ot=function(){return p(this).password},Dt=function(){var t=p(this),e=t.host,t=t.port;return null===e?"":null===t?c(e):c(e)+":"+t},It=function(){var t=p(this).host;return null===t?"":c(t)},$t=function(){var t=p(this).port;return null===t?"":String(t)},Rt=function(){var t=p(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ft=function(){var t=p(this).query;return t?"?"+t:""},zt=function(){return p(this).searchParams},Nt=function(){var t=p(this).fragment;return t?"#"+t:""};h&&j(o,{href:e(g,function(t){var e=p(this),t=String(t),t=a(e,t);if(t)throw TypeError(t);f(e.searchParams).updateSearchParams(e.query)}),origin:e(Tt),protocol:e(Pt,function(t){var e=p(this);a(e,String(t)+":",pt)}),username:e(Lt,function(t){var e=p(this),i=b(String(t));if(!r(e)){e.username="";for(var n=0;n<i.length;n++)e.username+=E(i[n],A)}}),password:e(Ot,function(t){var e=p(this),i=b(String(t));if(!r(e)){e.password="";for(var n=0;n<i.length;n++)e.password+=E(i[n],A)}}),host:e(Dt,function(t){var e=p(this);e.cannotBeABaseURL||a(e,String(t),wt)}),hostname:e(It,function(t){var e=p(this);e.cannotBeABaseURL||a(e,String(t),kt)}),port:e($t,function(t){var e=p(this);r(e)||(""==(t=String(t))?e.port=null:a(e,t,St))}),pathname:e(Rt,function(t){var e=p(this);e.cannotBeABaseURL||(e.path=[],a(e,t+"",D))}),search:e(Ft,function(t){var e=p(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",a(e,t,$)),f(e.searchParams).updateSearchParams(e.query)}),searchParams:e(zt),hash:e(Nt,function(t){var e=p(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",a(e,t,R)):e.fragment=null})}),s(o,"toJSON",function(){return g.call(this)},{enumerable:!0}),s(o,"toString",function(){return g.call(this)},{enumerable:!0}),d&&(i=d.createObjectURL,n=d.revokeObjectURL,i&&s(l,"createObjectURL",function(t){return i.apply(d,arguments)}),n)&&s(l,"revokeObjectURL",function(t){return n.apply(d,arguments)}),W(l,"URL"),z({global:!0,forced:!N,sham:!h},{URL:l})}},n={};function r(t){var e;return(n[t]||(e=n[t]={exports:{}},i[t](e,e.exports,r),e)).exports}r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var t={};function a(t,e){var i,n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(t=>{var e;if(t)return"string"==typeof t?l(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,void 0):void 0})(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}(r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t),r.d(t,{Dropzone:function(){return x},default:function(){return R}}),r(2222),r(7327),r(2772),r(6992),r(1249),r(7042),r(561),r(8264),r(8309),r(489),r(1539),r(4916),r(9714),r(8783),r(4723),r(5306),r(3123),r(3210),r(2472),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(4747),r(3948),r(285);var o=(()=>{function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}for(var e=t.prototype,i=[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};for(var e=this._callbacks[t],i=arguments.length,n=new Array(1<i?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(e){var o,s=a(e,!0);try{for(s.s();!(o=s.n()).done;)o.value.apply(this,n)}catch(t){s.e(t)}finally{s.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+t,{args:n})),this}},{key:"makeEvent",value:function(t,e){var i,e={bubbles:!0,cancelable:!0,detail:e};return"function"==typeof window.CustomEvent?new CustomEvent(t,e):((i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i)}},{key:"off",value:function(t,e){if(this._callbacks&&0!==arguments.length){var i=this._callbacks[t];if(i)if(1===arguments.length)delete this._callbacks[t];else for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}}else this._callbacks={};return this}}],n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return t})();function c(t,e){var i,n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(t=>{var e;if(t)return"string"==typeof t?h(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,void 0):void 0})(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var t;this.element.className="".concat(this.element.className," dz-browser-not-supported");var e,i=c(this.element.getElementsByTagName("div"),!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(/(^| )dz-message($| )/.test(n.className)){(t=n).className="dz-message";break}}}catch(t){i.e(t)}finally{i.f()}t||(t=x.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var r=t.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,i,n){var r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},o=t.width/t.height,s=(null==e&&null==i?(e=r.srcWidth,i=r.srcHeight):null==e?e=i*o:null==i&&(i=e/o),(e=Math.min(e,r.srcWidth))/(i=Math.min(i,r.srcHeight)));if(r.srcWidth>e||r.srcHeight>i)if("crop"===n)s<o?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*s):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/s);else{if("contain"!==n)throw new Error("Unknown resizeMethod '".concat(n,"'"));s<o?i=e/o:e=i*o}return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=i,r},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){e.previewElement=x.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);var t,n=c(e.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.textContent=e.name}}catch(e){n.e(e)}finally{n.f()}var o,s=c(e.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(s.s();!(o=s.n()).done;)(r=o.value).innerHTML=this.filesize(e.size)}catch(e){s.e(e)}finally{s.f()}this.options.addRemoveLinks&&(e._removeLink=x.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),e.previewElement.appendChild(e._removeLink));var a,l=function(t){return t.preventDefault(),t.stopPropagation(),e.status===x.UPLOADING?x.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?x.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)},h=c(e.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(h.s();!(a=h.n()).done;)a.value.addEventListener("click",l)}catch(e){h.e(e)}finally{h.f()}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");var i,n=c(t.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(n.s();!(i=n.n()).done;){var r=i.value;r.alt=t.name,r.src=e}}catch(t){n.e(t)}finally{n.f()}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"string"!=typeof e&&e.error&&(e=e.error);var i,n=c(t.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(n.s();!(i=n.n()).done;)i.value.textContent=e}catch(t){n.e(t)}finally{n.f()}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,i){if(t.previewElement){var n,r=c(t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;"PROGRESS"===o.nodeName?o.value=e:o.style.width="".concat(e,"%")}}catch(t){r.e(t)}finally{r.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){var i,n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=(t=>{var e;if(t)return"string"==typeof t?d(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,void 0):void 0})(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,i){e&&p(t.prototype,e),i&&p(t,i)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=(()=>{var t=_,e=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e),i=_,n=(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}})();var i,n,r=function(){var t,e=b(i);return v(this,n?(t=b(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))};function _(t,e){var i;if(f(this,_),(i=r.call(this)).element=t,i.version=_.version,i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");_.instances.push(y(i)),i.element.dropzone=y(i);var t=null!=(t=_.optionsForElement(i.element))?t:{};if(i.options=_.extend({},s,t,null!=e?e:{}),i.options.previewTemplate=i.options.previewTemplate.replace(/\n*/g,""),i.options.forceFallback||!_.isBrowserSupported())return v(i,i.options.fallback.call(y(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(t){return i.options.renameFilename.call(y(i),t.name,t)}),"string"==typeof i.options.method&&(i.options.method=i.options.method.toUpperCase()),(t=i.getExistingFallback())&&t.parentNode&&t.parentNode.removeChild(t),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=_.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=_.getElements(i.options.clickable,"clickable")),i.init(),i}return g(_,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(t){return t.accepted}).map(function(t){return t})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(t){return!t.accepted}).map(function(t){return t})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(_.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(_.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(_.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(t){return t.status===_.UPLOADING||t.status===_.QUEUED}).map(function(t){return t})}},{key:"init",value:function(){var o=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(_.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function r(){o.hiddenFileInput&&o.hiddenFileInput.parentNode.removeChild(o.hiddenFileInput),o.hiddenFileInput=document.createElement("input"),o.hiddenFileInput.setAttribute("type","file"),(null===o.options.maxFiles||1<o.options.maxFiles)&&o.hiddenFileInput.setAttribute("multiple","multiple"),o.hiddenFileInput.className="dz-hidden-input",null!==o.options.acceptedFiles&&o.hiddenFileInput.setAttribute("accept",o.options.acceptedFiles),null!==o.options.capture&&o.hiddenFileInput.setAttribute("capture",o.options.capture),o.hiddenFileInput.setAttribute("tabindex","-1"),o.hiddenFileInput.style.visibility="hidden",o.hiddenFileInput.style.position="absolute",o.hiddenFileInput.style.top="0",o.hiddenFileInput.style.left="0",o.hiddenFileInput.style.height="0",o.hiddenFileInput.style.width="0",_.getElement(o.options.hiddenInputContainer,"hiddenInputContainer").appendChild(o.hiddenFileInput),o.hiddenFileInput.addEventListener("change",function(){var t=o.hiddenFileInput.files;if(t.length){var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;o.addFile(n)}}catch(t){i.e(t)}finally{i.f()}}o.emit("addedfiles",t),r()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var t,e=w(this.events,!0);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.on(i,this.options[i])}}catch(o){e.e(o)}finally{e.f()}this.on("uploadprogress",function(){return o.updateTotalUploadProgress()}),this.on("removedfile",function(){return o.updateTotalUploadProgress()}),this.on("canceled",function(t){return o.emit("complete",t)}),this.on("complete",function(t){if(0===o.getAddedFiles().length&&0===o.getUploadingFiles().length&&0===o.getQueuedFiles().length)return setTimeout(function(){return o.emit("queuecomplete")},0)});function n(t){if((t=>{if(t.dataTransfer.types)for(var e=0;e<t.dataTransfer.types.length;e++)if("Files"===t.dataTransfer.types[e])return 1})(t))t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1}return this.listeners=[{element:this.element,events:{dragstart:function(t){return o.emit("dragstart",t)},dragenter:function(t){return n(t),o.emit("dragenter",t)},dragover:function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",n(t),o.emit("dragover",t)},dragleave:function(t){return o.emit("dragleave",t)},drop:function(t){return n(t),o.drop(t)},dragend:function(t){return o.emit("dragend",t)}}}],this.clickableElements.forEach(function(e){return o.listeners.push({element:e,events:{click:function(t){return e===o.element&&t.target!==o.element&&!_.elementInside(t.target,o.element.querySelector(".dz-message"))||o.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),null!=this.hiddenFileInput&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,_.instances.splice(_.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t,e=0,i=0;if(this.getActiveFiles().length){var n,r=w(this.getActiveFiles(),!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;e+=o.upload.bytesSent,i+=o.upload.total}}catch(t){r.e(t)}finally{r.f()}t=100*e/i}else t=100;return this.emit("totaluploadprogress",t,i,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(t,"]"):"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var t,e;return(e=this.getExistingFallback())||(e='<div class="dz-fallback">',this.options.dictFallbackText&&(e+="<p>".concat(this.options.dictFallbackText,"</p>")),e+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>'),e=_.createElement(e),"FORM"!==this.element.tagName?(t=_.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:e)}},{key:"getExistingFallback",value:function(){for(var t,e=0,i=["div","form"];e<i.length;e++)if(t=(t=>{var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(/(^| )fallback($| )/.test(n.className))return n}}catch(t){i.e(t)}finally{i.f()}})(this.element.getElementsByTagName(i[e])))return t}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(t){var e,i=[];for(e in t.events){var n=t.events[e];i.push(t.element.addEventListener(e,n,!1))}return i})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(t){var e,i=[];for(e in t.events){var n=t.events[e];i.push(t.element.removeEventListener(e,n,!1))}return i})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,i="b";if(0<t){for(var n=["tb","gb","mb","kb","b"],r=0;r<n.length;r++){var o=n[r];if(t>=Math.pow(this.options.filesizeBase,4-r)/10){e=t/Math.pow(this.options.filesizeBase,4-r),i=o;break}}e=Math.round(10*e)/10}return"<strong>".concat(e,"</strong> ").concat(this.options.dictFileSizeUnits[i])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e,i=[],n=0;n<t.dataTransfer.files.length;n++)i[n]=t.dataTransfer.files[n];i.length&&((e=t.dataTransfer.items)&&e.length&&null!=e[0].webkitGetAsEntry?this._addFilesFromItems(e):this.handleFiles(i)),this.emit("addedfiles",i)}}},{key:"paste",value:function(t){var e;if(null!=(null!=(e=null!=t?t.clipboardData:void 0)?e.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0}},{key:"handleFiles",value:function(t){var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.addFile(n)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_addFilesFromItems",value:function(t){var e,i=this,n=[],r=w(t,!0);try{for(r.s();!(e=r.n()).done;){var o,s=e.value;null!=s.webkitGetAsEntry&&(o=s.webkitGetAsEntry())?o.isFile?n.push(i.addFile(s.getAsFile())):o.isDirectory?n.push(i._addFilesFromDirectory(o,o.name)):n.push(void 0):null==s.getAsFile||null!=s.kind&&"file"!==s.kind?n.push(void 0):n.push(i.addFile(s.getAsFile()))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"_addFilesFromDirectory",value:function(t,o){function e(t){var e;if(null!=(e=console)&&"function"==typeof e.log)return e.log(t)}var s=this,i=t.createReader();return function r(){return i.readEntries(function(t){if(0<t.length){var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.isFile?n.file(function(t){if(!s.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath="".concat(o,"/").concat(t.name),s.addFile(t)}):n.isDirectory&&s._addFilesFromDirectory(n,"".concat(o,"/").concat(n.name))}}catch(t){i.e(t)}finally{i.f()}r()}return null},e)}()}},{key:"accept",value:function(t,e){this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):_.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var i=this;e.upload={uuid:_.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=_.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(t){var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.enqueueFile(n)}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"enqueueFile",value:function(t){var e=this;if(t.status!==_.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=_.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return e.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(){return e._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e,i=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,e=this._thumbnailQueue.shift(),this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(t){return i.emit("thumbnail",e,t),i._processingThumbnail=!1,i._processThumbnailQueue()})}},{key:"removeFile",value:function(t){if(t.status===_.UPLOADING&&this.cancelUpload(t),this.files=k(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);var e,i=w(this.files.slice(),!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.status===_.UPLOADING&&!t||this.removeFile(n)}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"resizeImage",value:function(n,t,e,i,r){var o=this;return this.createThumbnail(n,t,e,i,!0,function(t,e){var i;return null==e?r(n):(null==(i=o.options.resizeMimeType)&&(i=n.type),e=e.toDataURL(i,o.options.resizeQuality),"image/jpeg"!==i&&"image/jpg"!==i||(e=A.restore(n.dataURL,e)),r(_.dataURItoBlob(e)))})}},{key:"createThumbnail",value:function(t,e,i,n,r,o){var s=this,a=new FileReader;a.onload=function(){t.dataURL=a.result,"image/svg+xml"!==t.type?s.createThumbnailFromUrl(t,e,i,n,r,o):null!=o&&o(a.result)},a.readAsDataURL(t)}},{key:"displayExistingFile",value:function(e,t,i,n){var r=this,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];this.emit("addedfile",e),this.emit("complete",e),o?(e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,function(t){r.emit("thumbnail",e,t),i&&i()},n)):(this.emit("thumbnail",e,t),i&&i())}},{key:"createThumbnailFromUrl",value:function(r,o,s,a,e,l,t){var h=this,c=document.createElement("img");return t&&(c.crossOrigin=t),e="from-image"!=getComputedStyle(document.body).imageOrientation&&e,c.onload=function(){var t=function(t){return t(1)};return(t="undefined"!=typeof EXIF&&null!==EXIF&&e?function(t){return EXIF.getData(c,function(){return t(EXIF.getTag(this,"Orientation"))})}:t)(function(t){r.width=c.width,r.height=c.height;var e=h.options.resize.call(h,r,o,s,a),i=document.createElement("canvas"),n=i.getContext("2d");switch(i.width=e.trgWidth,i.height=e.trgHeight,4<t&&(i.width=e.trgHeight,i.height=e.trgWidth),t){case 2:n.translate(i.width,0),n.scale(-1,1);break;case 3:n.translate(i.width,i.height),n.rotate(Math.PI);break;case 4:n.translate(0,i.height),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i.width);break;case 7:n.rotate(.5*Math.PI),n.translate(i.height,-i.width),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-i.height,0)}S(n,c,null!=e.srcX?e.srcX:0,null!=e.srcY?e.srcY:0,e.srcWidth,e.srcHeight,null!=e.trgX?e.trgX:0,null!=e.trgY?e.trgY:0,e.trgWidth,e.trgHeight);t=i.toDataURL("image/png");if(null!=l)return l(t,i)})},null!=l&&(c.onerror=l),c.src=r.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,i=e;if(!(t<=e)){var n=this.getQueuedFiles();if(0<n.length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-e));for(;i<t;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){var e,i=w(t,!0);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.processing=!0,n.status=_.UPLOADING,this.emit("processing",n)}}catch(t){i.e(t)}finally{i.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(t){return t})}},{key:"cancelUpload",value:function(t){if(t.status===_.UPLOADING){var e,i=this._getFilesWithXhr(t.xhr),n=w(i,!0);try{for(n.s();!(e=n.n()).done;)e.value.status=_.CANCELED}catch(t){n.e(t)}finally{n.f()}void 0!==t.xhr&&t.xhr.abort();var r,o=w(i,!0);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.emit("canceled",s)}}catch(t){o.e(t)}finally{o.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else t.status!==_.ADDED&&t.status!==_.QUEUED||(t.status=_.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"!=typeof t)return t;for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.apply(this,i)}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(l){var h=this;this._transformFiles(l,function(t){var e;if(h.options.chunking&&(e=t[0],l[0].upload.chunked=h.options.chunking&&(h.options.forceChunking||e.size>h.options.chunkSize),l[0].upload.totalChunkCount=Math.ceil(e.size/h.options.chunkSize)),l[0].upload.chunked){var r=l[0],n=t[0],o=(r.upload.chunks=[],function(){for(var t,e,i=0;void 0!==r.upload.chunks[i];)i++;i>=r.upload.totalChunkCount||(e=i*h.options.chunkSize,t=Math.min(e+h.options.chunkSize,n.size),e={name:h._getParamName(0),data:n.webkitSlice?n.webkitSlice(e,t):n.slice(e,t),filename:r.upload.filename,chunkIndex:i},r.upload.chunks[i]={file:r,index:i,dataBlock:e,status:_.UPLOADING,progress:0,retries:0},h._uploadData(l,[e]))});if(r.upload.finishedChunkUpload=function(t,e){var i=!0;t.status=_.SUCCESS,t.dataBlock=null,t.xhr=null;for(var n=0;n<r.upload.totalChunkCount;n++){if(void 0===r.upload.chunks[n])return o();r.upload.chunks[n].status!==_.SUCCESS&&(i=!1)}i&&h.options.chunksUploaded(r,function(){h._finished(l,e,null)})},h.options.parallelChunkUploads)for(var i=0;i<r.upload.totalChunkCount;i++)o();else o()}else{for(var s=[],a=0;a<l.length;a++)s[a]={name:h._getParamName(a),data:t[a],filename:l[a].upload.filename};h._uploadData(l,s)}})}},{key:"_getChunk",value:function(t,e){for(var i=0;i<t.upload.totalChunkCount;i++)if(void 0!==t.upload.chunks[i]&&t.upload.chunks[i].xhr===e)return t.upload.chunks[i]}},{key:"_uploadData",value:function(e,t){var i,n=this,r=new XMLHttpRequest,o=w(e,!0);try{for(o.s();!(i=o.n()).done;)i.value.xhr=r}catch(e){o.e(e)}finally{o.f()}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var s,a=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e),h=(r.open(a,l,!0),this.resolveOption(this.options.timeout,e)&&(r.timeout=this.resolveOption(this.options.timeout,e)),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){n._finishedUploading(e,r,t)},r.ontimeout=function(){n._handleUploadError(e,r,"Request timedout after ".concat(n.options.timeout/1e3," seconds"))},r.onerror=function(){n._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return n._updateFilesUploadProgress(e,r,t)},{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"});for(s in this.options.headers&&_.extend(h,this.options.headers),h){var c=h[s];c&&r.setRequestHeader(s,c)}var u=new FormData;if(this.options.params){var d,f=this.options.params;for(d in f="function"==typeof f?f.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null):f){var p=f[d];if(Array.isArray(p))for(var g=0;g<p.length;g++)u.append(d,p[g]);else u.append(d,p)}}var m,v=w(e,!0);try{for(v.s();!(m=v.n()).done;){var y=m.value;this.emit("sending",y,r,u)}}catch(e){v.e(e)}finally{v.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,u),this._addFormElementData(u);for(var b=0;b<t.length;b++){var x=t[b];u.append(x.name,x.data,x.filename)}this.submitRequest(r,u,e)}},{key:"_transformFiles",value:function(i,n){for(var t=this,r=[],o=0,e=0;e<i.length;e++)(e=>{t.options.transformFile.call(t,i[e],function(t){r[e]=t,++o===i.length&&n(r)})})(e)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName){var e,i=w(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(i.s();!(e=i.n()).done;){var n=e.value,r=n.getAttribute("name"),o=(o=n.getAttribute("type"))&&o.toLowerCase();if(null!=r)if("SELECT"===n.tagName&&n.hasAttribute("multiple")){var s,a=w(n.options,!0);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.selected&&t.append(r,l.value)}}catch(t){a.e(t)}finally{a.f()}}else(!o||"checkbox"!==o&&"radio"!==o||n.checked)&&t.append(r,n.value)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"_updateFilesUploadProgress",value:function(t,e,i){if(t[0].upload.chunked){var n=t[0],e=this._getChunk(n,e);i?(e.progress=100*i.loaded/i.total,e.total=i.total,e.bytesSent=i.loaded):(e.progress=100,e.bytesSent=e.total),n.upload.progress=0,n.upload.total=0;for(var r=n.upload.bytesSent=0;r<n.upload.totalChunkCount;r++)n.upload.chunks[r]&&void 0!==n.upload.chunks[r].progress&&(n.upload.progress+=n.upload.chunks[r].progress,n.upload.total+=n.upload.chunks[r].total,n.upload.bytesSent+=n.upload.chunks[r].bytesSent);n.upload.progress=n.upload.progress/n.upload.totalChunkCount,this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent)}else{var o,s=w(t,!0);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.upload.total&&a.upload.bytesSent&&a.upload.bytesSent==a.upload.total||(i?(a.upload.progress=100*i.loaded/i.total,a.upload.total=i.total,a.upload.bytesSent=i.loaded):(a.upload.progress=100,a.upload.bytesSent=a.upload.total),this.emit("uploadprogress",a,a.upload.progress,a.upload.bytesSent))}}catch(t){s.e(t)}finally{s.f()}}}},{key:"_finishedUploading",value:function(t,e,i){var n;if(t[0].status!==_.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(n=e.responseText,e.getResponseHeader("content-type"))&&~e.getResponseHeader("content-type").indexOf("application/json"))try{n=JSON.parse(n)}catch(t){i=t,n="Invalid JSON response from server."}this._updateFilesUploadProgress(t,e),200<=e.status&&e.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e),n):this._finished(t,n,i):this._handleUploadError(t,e,n)}}},{key:"_handleUploadError",value:function(t,e,i){if(t[0].status!==_.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var n=this._getChunk(t[0],e);if(n.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[n.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}},{key:"submitRequest",value:function(t,e,i){1==t.readyState?t.send(e):console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(t,e,i){var n,r=w(t,!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.status=_.SUCCESS,this.emit("success",o,e,i),this.emit("complete",o)}}catch(t){r.e(t)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,e,i){var n,r=w(t,!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.status=_.ERROR,this.emit("error",o,e,i),this.emit("complete",o)}}catch(t){r.e(t)}finally{r.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=o,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0,o=i;r<o.length;r++){var s,a=o[r];for(s in a){var l=a[s];t[s]=l}}return t}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}}]),_})(),k=(x.initClass(),x.version="5.9.3",x.options={},x.optionsForElement=function(t){return t.getAttribute("id")?x.options[e(t.getAttribute("id"))]:void 0},x.instances=[],x.forElement=function(t){if(null==(null!=(t="string"==typeof t?document.querySelector(t):t)?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},x.autoDiscover=!0,x.discover=function(){var o,t;document.querySelectorAll?o=document.querySelectorAll(".dropzone"):(o=[],(t=function(t){var e,i=[],n=w(t,!0);try{for(n.s();!(e=n.n()).done;){var r=e.value;/(^| )dropzone($| )/.test(r.className)?i.push(o.push(r)):i.push(void 0)}}catch(t){n.e(t)}finally{n.f()}return i})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form")));var e,i=[],n=w(o,!0);try{for(n.s();!(e=n.n()).done;){var r=e.value;!1!==x.optionsForElement(r)?i.push(new x(r)):i.push(void 0)}}catch(t){n.e(t)}finally{n.f()}return i},x.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],x.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==x.blacklistedBrowsers&&(x.blockedBrowsers=x.blacklistedBrowsers);var e,i=w(x.blockedBrowsers,!0);try{for(i.s();!(e=i.n()).done;)e.value.test(navigator.userAgent)&&(t=!1)}catch(t){i.e(t)}finally{i.f()}}else t=!1;else t=!1;return t},x.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),t=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),n=new Uint8Array(i),r=0,o=e.length,s=0<=o;s?r<=o:o<=r;s?r++:r--)n[r]=e.charCodeAt(r);return new Blob([i],{type:t})},function(t,e){return t.filter(function(t){return t!==e}).map(function(t){return t})}),e=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},S=(x.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},x.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},x.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector or a plain HTML element."));return i},x.getElements=function(t,e){var i;if(t instanceof Array){s=[];try{var n,r=w(t,!0);try{for(r.s();!(n=r.n()).done;)i=n.value,s.push(this.getElement(i,e))}catch(t){r.e(t)}finally{r.f()}}catch(t){s=null}}else if("string"==typeof t){var o,s=[],a=w(document.querySelectorAll(t),!0);try{for(a.s();!(o=a.n()).done;)i=o.value,s.push(i)}catch(t){a.e(t)}finally{a.f()}}else null!=t.nodeType&&(s=[t]);if(null!=s&&s.length)return s;throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."))},x.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},x.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");var i,n=t.type,r=n.replace(/\/.*$/,""),o=w(e,!0);try{for(o.s();!(i=o.n()).done;){var s=i.value;if("."===(s=s.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(r===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0}}catch(t){o.e(t)}finally{o.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new x(this,t)})}),x.ADDED="added",x.QUEUED="queued",x.ACCEPTED=x.QUEUED,x.UPLOADING="uploading",x.PROCESSING=x.UPLOADING,x.CANCELED="canceled",x.ERROR="error",x.SUCCESS="success",function(t,e,i,n,r,o,s,a,l,h){var c=(t=>{t.naturalWidth;var e=t.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=e,(i=i.getContext("2d")).drawImage(t,0,0);for(var n=i.getImageData(1,0,1,e).data,r=0,o=e,s=e;r<s;)0===n[4*(s-1)+3]?o=s:r=s,s=o+r>>1;return 0==(t=s/e)?1:t})(e);return t.drawImage(e,i,n,r,o,s,a,l,h/c)}),A=(g(_,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e,i,n,r,o="",s=void 0,a="",l=0;n=(e=t[l++])>>2,r=(3&e)<<4|(e=t[l++])>>4,s=(15&e)<<2|(i=t[l++])>>6,a=63&i,isNaN(e)?s=a=64:isNaN(i)&&(a=64),o=o+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a),s=a="",l<t.length;);return o}},{key:"restore",value:function(t,e){return t.match("data:image/jpeg;base64,")?(t=this.decode64(t.replace("data:image/jpeg;base64,","")),t=this.slice2Segments(t),t=this.exifManipulation(e,t),"data:image/jpeg;base64,".concat(this.encode64(t))):e}},{key:"exifManipulation",value:function(t,e){e=this.getExifArray(e),t=this.insertExif(t,e);return new Uint8Array(t)}},{key:"getExifArray",value:function(t){for(var e,i=0;i<t.length;){if(255===(e=t[i])[0]&225===e[1])return e;i++}return[]}},{key:"insertExif",value:function(t,e){var t=t.replace("data:image/jpeg;base64,",""),t=this.decode64(t),i=t.indexOf(255,3),n=t.slice(0,i),t=t.slice(i);return n.concat(e).concat(t)}},{key:"slice2Segments",value:function(t){for(var e,i,n=0,r=[];!(255===t[n]&218===t[n+1]);)if(255===t[n]&216===t[n+1]?n+=2:(e=n+(256*t[n+2]+t[n+3])+2,i=t.slice(n,e),r.push(i),n=e),t.length<n)break;return r}},{key:"decode64",value:function(t){var e,i,n,r,o,s=0,a=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(s++))<<2|(r=this.KEY_STR.indexOf(t.charAt(s++)))>>4,i=(15&r)<<4|(r=this.KEY_STR.indexOf(t.charAt(s++)))>>2,n=(3&r)<<6|(o=this.KEY_STR.indexOf(t.charAt(s++))),a.push(e),64!==r&&a.push(i),64!==o&&a.push(n),s<t.length;);return a}}]),_);function _(){f(this,_)}A.initClass(),x._autoDiscoverFunction=function(){if(x.autoDiscover)return x.discover()};var E=window,C=x._autoDiscoverFunction;function M(t){if("readystatechange"!==t.type||"complete"===L.readyState)return("load"===t.type?E:L)[I]($+t.type,M,!1),!T&&(T=!0)?C.call(E,t.type||t):void 0}var T=!1,P=!0,L=E.document,O=L.documentElement,D=L.addEventListener?"addEventListener":"attachEvent",I=L.addEventListener?"removeEventListener":"detachEvent",$=L.addEventListener?"":"on";if("complete"!==L.readyState){if(L.createEventObject&&O.doScroll){try{P=!E.frameElement}catch(E){}P&&function e(){try{O.doScroll("left")}catch(t){return void setTimeout(e,50)}return M("poll")}()}L[D]($+"DOMContentLoaded",M,!1),L[D]($+"readystatechange",M,!1),E[D]($+"load",M,!1)}var R=window.Dropzone=x;return t}),((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})})(this,function(t){function R(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function y(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){var e,i;e=n,i=r[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,i){e&&F(t.prototype,e),i&&F(t,i)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(i){var n=(()=>{if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}})();return function(){var t,e=r(i),e=(t=n?(t=r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}}function h(t,e){return(t=>{if(Array.isArray(t))return t})(t)||((t,e)=>{var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o=[],s=!0,a=!1;try{for(i=i.call(t);!(s=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{s||null==i.return||i.return()}finally{if(a)throw r}}return o}})(t,e)||l(t,e)||(()=>{throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function b(t){return(t=>{if(Array.isArray(t))return o(t)})(t)||(()=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})()||l(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function l(t,e){var i;if(t)return"string"==typeof t?o(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function w(t,e){var i,n,r,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return r=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){r=!0,i=t},f:function(){try{n||null==s.return||s.return()}finally{if(r)throw i}}};if(Array.isArray(t)||(s=l(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:e=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(){for(var t=!1,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];"boolean"==typeof i[0]&&(t=i.shift());var r=i[0];if(!r||"object"!==d(r))throw new Error("extendee must be an object");for(var o=i.slice(1),s=o.length,a=0;a<s;a++){var l,h,c,u=o[a];for(l in u)u.hasOwnProperty(l)&&(h=u[l],t&&(Array.isArray(h)||g(h))?(c=Array.isArray(h)?[]:{},r[l]=p(!0,r.hasOwnProperty(l)?r[l]:c,h)):r[l]=h)}return r}function x(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e4;return t=parseFloat(t)||0,Math.round((t+Number.EPSILON)*e)/e}function c(t){a(this,c),this.id=-1,this.id=t.pointerId||t.identifier||-1,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.nativePointer=t}var g=function(t){return"object"===d(t)&&null!==t&&t.constructor===Object&&"[object Object]"===Object.prototype.toString.call(t)},N="undefined"!=typeof window&&window.ResizeObserver||(e(u,[{key:"observe",value:function(e){var t;this.observables.some(function(t){return t.el===e})||(t={el:e,size:{height:e.clientHeight,width:e.clientWidth}},this.observables.push(t))}},{key:"unobserve",value:function(e){this.observables=this.observables.filter(function(t){return t.el!==e})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var t=this.observables.filter(function(t){var e=t.el.clientHeight,i=t.el.clientWidth;if(t.size.height!==e||t.size.width!==i)return t.size.height=e,t.size.width=i,!0}).map(function(t){return t.el});0<t.length&&this.callback(t),window.requestAnimationFrame(this.boundCheck)}}]),u);function u(t){a(this,u),this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=t}function j(t,e){return e?Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2)):0}function f(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}function m(t){return!!(t&&"object"===d(t)&&t instanceof Element&&t!==document.body)&&(e=t,i=getComputedStyle(e)["overflow-y"],n=getComputedStyle(e)["overflow-x"],i=("scroll"===i||"auto"===i)&&1<Math.abs(e.scrollHeight-e.clientHeight),n=("scroll"===n||"auto"===n)&&1<Math.abs(e.scrollWidth-e.clientWidth),i||n?t:m(t.parentNode));var e,i,n}e(A,[{key:"stop",value:function(){this.element.removeEventListener("pointerdown",this.onStart),this.element.removeEventListener("pointermove",this.onMove),this.element.removeEventListener("pointerup",this.onEnd),this.element.removeEventListener("pointercancel",this.onEnd)}}]);var B,H=A,v=(e(S,[{key:"option",value:function(t,e){t=String(t);t=t,i=this.options;var i,t=t.split(".").reduce(function(t,e){return t&&t[e]},i);if("function"==typeof t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t=t.call.apply(t,[this,this].concat(r))}return void 0===t?e:t}},{key:"localize",value:function(t){var o=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(t,e,i){var n=!1;if(!(n=i?o.option("".concat(e[0]+e.toLowerCase().substring(1),".l10n.").concat(i)):o.option("l10n.".concat(e))))return e;for(var r=0;r<s.length;r++)n=n.split(s[r][0]).join(s[r][1]);return n})}},{key:"on",value:function(t,e){var i=this;if(g(t))for(var n=0,r=Object.entries(t);n<r.length;n++){var o=r[n];this.on.apply(this,b(o))}else String(t).split(" ").forEach(function(t){t=i.events[t]=i.events[t]||[];-1==t.indexOf(e)&&t.push(e)});return this}},{key:"once",value:function(t,o){var s=this;if(g(t))for(var e=0,i=Object.entries(t);e<i.length;e++){var n=i[e];this.once.apply(this,b(n))}else String(t).split(" ").forEach(function(n){function r(){s.off(n,r);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o.call.apply(o,[s,s].concat(e))}r._=o,s.on(n,r)});return this}},{key:"off",value:function(t,s){var a=this;if(!g(t))return t.split(" ").forEach(function(t){var e=a.events[t];if(!e||!e.length)return a;for(var i=-1,n=0,r=e.length;n<r;n++){var o=e[n];if(o&&(o===s||o._===s)){i=n;break}}-1!=i&&e.splice(i,1)}),this;for(var e=0,i=Object.entries(t);e<i.length;e++){var n=i[e];this.off.apply(this,b(n))}}},{key:"trigger",value:function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r,o=w(b(this.events[t]||[]).slice());try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s&&!1===s.call.apply(s,[this,this].concat(i)))return!1}}catch(t){o.e(t)}finally{o.f()}var a,l=w(b(this.events["*"]||[]).slice());try{for(l.s();!(a=l.n()).done;){var h=a.value;if(h&&!1===h.call.apply(h,[this,t,this].concat(i)))return!1}}catch(t){l.e(t)}finally{l.f()}return!0}},{key:"attachPlugins",value:function(t){for(var e={},i=0,n=Object.entries(t||{});i<n.length;i++){var r=h(n[i],2),o=r[0],r=r[1];!1===this.options[o]||this.plugins[o]||(this.options[o]=p({},r.defaults||{},this.options[o]),e[o]=new r(this))}for(var s=0,a=Object.entries(e);s<a.length;s++){var l=h(a[s],2);l[0],l[1].attach(this)}return this.plugins=Object.assign({},this.plugins,e),this}},{key:"detachPlugins",value:function(){for(var t in this.plugins){var e=void 0;(e=this.plugins[t])&&"function"==typeof e.detach&&e.detach(this)}return this.plugins={},this}}]),S),U={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},_=(i(k,v),B=n(k),e(k,[{key:"initLayout",value:function(){var t=this.$container;if(!(t instanceof HTMLElement))throw new Error("Panzoom: Container not found");var e=this.option("content")||t.querySelector(".panzoom__content");if(!e)throw new Error("Panzoom: Content not found");this.$content=e;var i=this.option("viewport")||t.querySelector(".panzoom__viewport");i||!1===this.option("wrapInner")||((i=document.createElement("div")).classList.add("panzoom__viewport"),i.append.apply(i,b(t.childNodes)),t.appendChild(i)),this.$viewport=i||e.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origHeight:0,origWidth:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}},{key:"onLoad",value:function(t){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",t)}},{key:"onClick",value:function(t){var e;t.defaultPrevented||(this.option("textSelection")&&window.getSelection().toString().length?t.stopPropagation():(e=this.$content.getClientRects()[0],"ready"!==this.state&&(this.dragPosition.midPoint||1<Math.abs(e.top-this.dragStart.rect.top)||1<Math.abs(e.left-this.dragStart.rect.left))?(t.preventDefault(),t.stopPropagation()):!1!==this.trigger("click",t)&&this.option("zoom")&&"toggleZoom"===this.option("click")&&(t.preventDefault(),t.stopPropagation(),this.zoomWithClick(t))))}},{key:"onWheel",value:function(t){!1!==this.trigger("wheel",t)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(t)}},{key:"zoomWithWheel",value:function(t){void 0===this.changedDelta&&(this.changedDelta=0);var e=Math.max(-1,Math.min(1,-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)),i=this.content.scale,n=i*(100+e*this.option("wheelFactor"))/100,n=e<0&&Math.abs(i-this.option("minScale"))<.01||0<e&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(e),i):(this.changedDelta=0,Math.max(Math.min(n,this.option("maxScale")),this.option("minScale")));this.changedDelta>this.option("wheelLimit")||(t.preventDefault(),n===i)||(e=this.$content.getBoundingClientRect(),i=t.clientX-e.left,this.zoomTo(n,{x:i,y:t.clientY-e.top}))}},{key:"zoomWithClick",value:function(t){var e=this.$content.getClientRects()[0],i=t.clientX-e.left;this.toggleZoom({x:i,y:t.clientY-e.top})}},{key:"attachEvents",value:function(){var a=this,l=(this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver(),new H(this.$container,{start:function(t,e){if(!a.option("touch"))return!1;if(!(a.velocity.scale<0)){if(!l.currentPointers.length){if(-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(e.target.nodeName))return!1;if(a.option("textSelection")&&((t,e,i)=>{for(var n=t.childNodes,r=document.createRange(),o=0;o<n.length;o++){var s=n[o];if(s.nodeType===Node.TEXT_NODE){r.selectNodeContents(s);var a=r.getBoundingClientRect();if(e>=a.left&&i>=a.top&&e<=a.right&&i<=a.bottom)return s}}})(e.target,e.clientX,e.clientY))return!1;if(m(e.target))return!1}return!1!==a.trigger("touchStart",e)&&(a.state="pointerdown",a.resetDragPosition(),a.dragPosition.midPoint=null,a.dragPosition.time=Date.now(),!0)}},move:function(t,e,i){if("pointerdown"===a.state)if(0!=a.trigger("touchMove",i)){if(!(e.length<2&&1==a.option("panOnlyZoomed")&&a.content.width<=a.viewport.width&&a.content.height<=a.viewport.height&&a.transform.scale<=a.option("baseScale"))&&(!(1<e.length)||a.option("zoom")&&!1!==a.option("pinchToZoom"))){i.preventDefault(),i.stopPropagation();var n=f(t[0],t[1]),r=f(e[0],e[1]),o=r.clientX-n.clientX,n=r.clientY-n.clientY,t=j(t[0],t[1]),s=j(e[0],e[1]),s=t?s/t:1,t=(a.dragOffset.x+=o,a.dragOffset.y+=n,a.dragOffset.scale*=s,a.dragOffset.time=Date.now()-a.dragPosition.time,1===a.dragStart.scale&&a.option("lockAxis"));if(t&&!a.lockAxis){if(Math.abs(a.dragOffset.x)<6&&Math.abs(a.dragOffset.y)<6)return;"xy"===t?(o=Math.abs(180*Math.atan2(a.dragOffset.y,a.dragOffset.x)/Math.PI),a.lockAxis=45<o&&o<135?"y":"x"):a.lockAxis=t}a.lockAxis&&(a.dragOffset["x"===a.lockAxis?"y":"x"]=0),a.$container.classList.add(a.option("draggingClass")),a.transform.scale===a.option("baseScale")&&"y"===a.lockAxis||(a.dragPosition.x=a.dragStart.x+a.dragOffset.x),a.transform.scale===a.option("baseScale")&&"x"===a.lockAxis||(a.dragPosition.y=a.dragStart.y+a.dragOffset.y),a.dragPosition.scale=a.dragStart.scale*a.dragOffset.scale,1<e.length?(s=(n=f(l.startPointers[0],l.startPointers[1])).clientX-a.dragStart.rect.x,o=n.clientY-a.dragStart.rect.y,e=(t=a.getZoomDelta(a.content.scale*a.dragOffset.scale,s,o)).deltaX,n=t.deltaY,a.dragPosition.x-=e,a.dragPosition.y-=n,a.dragPosition.midPoint=r):a.setDragResistance(),a.transform={x:a.dragPosition.x,y:a.dragPosition.y,scale:a.dragPosition.scale},a.startAnimation()}}else i.preventDefault()},end:function(t,e){var i;"pointerdown"===a.state&&(a._dragOffset=y({},a.dragOffset),l.currentPointers.length?a.resetDragPosition():(a.state="decel",a.friction=a.option("decelFriction"),a.recalculateTransform(),a.$container.classList.remove(a.option("draggingClass")),!1!==a.trigger("touchEnd",e)&&"decel"===a.state&&(e=a.option("minScale"),a.transform.scale<e?a.zoomTo(e,{friction:.64}):(e=a.option("maxScale"),.01<a.transform.scale-e&&(t=a.dragPosition.midPoint||t,i=a.$content.getClientRects()[0],a.zoomTo(e,{friction:.64,x:t.clientX-i.left,y:t.clientY-i.top}))))))}}));this.pointerTracker=l}},{key:"initObserver",value:function(){var e=this;this.resizeObserver||(this.resizeObserver=new N(function(){e.updateTimer||(e.updateTimer=setTimeout(function(){var t=e.$container.getBoundingClientRect();t.width&&t.height&&(1<Math.abs(t.width-e.container.width)||1<Math.abs(t.height-e.container.height))&&(e.isAnimating()&&e.endAnimation(),e.updateMetrics(),e.panTo({x:e.content.x,y:e.content.y,scale:e.option("baseScale"),friction:0})),e.updateTimer=null},e.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};var t=this.content,e=t.x,i=t.y,t=t.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:e,y:i,scale:t},this.dragPosition=y(y({},this.dragPosition),{},{x:e,y:i,scale:t}),this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(t){!0!==t&&this.trigger("beforeUpdate");var e,i=this.$container,n=this.$content,r=this.$viewport,o=this.$content instanceof HTMLImageElement,s=this.option("zoom"),a=this.option("resizeParent",s),l=(l=this.$content,Math.max(parseFloat(l.naturalWidth||0),parseFloat(l.width&&l.width.baseVal&&l.width.baseVal.value||0),parseFloat(l.offsetWidth||0),parseFloat(l.scrollWidth||0))),h=(h=this.$content,Math.max(parseFloat(h.naturalHeight||0),parseFloat(h.height&&h.height.baseVal&&h.height.baseVal.value||0),parseFloat(h.offsetHeight||0),parseFloat(h.scrollHeight||0))),c=(Object.assign(n.style,{width:"",height:"",maxWidth:"",maxHeight:""}),a&&Object.assign(r.style,{width:"",height:""}),this.option("ratio")),u=l=x(l*c),c=h=x(h*c),d=n.getBoundingClientRect(),f=r.getBoundingClientRect(),i=r==i?f:i.getBoundingClientRect(),p=Math.max(r.offsetWidth,x(f.width)),f=Math.max(r.offsetHeight,x(f.height)),g=window.getComputedStyle(r);p-=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight),f-=parseFloat(g.paddingTop)+parseFloat(g.paddingBottom),this.viewport.width=p,this.viewport.height=f,s&&((.1<Math.abs(l-d.width)||.1<Math.abs(h-d.height))&&(g=((t,e,i,n)=>(i=Math.min(i/t||0,n/e),{width:t*i||0,height:e*i||0}))(l,h,Math.min(l,d.width),Math.min(h,d.height)),u=x(g.width),c=x(g.height)),Object.assign(n.style,{width:"".concat(u,"px"),height:"".concat(c,"px"),transform:""})),a&&(Object.assign(r.style,{width:"".concat(u,"px"),height:"".concat(c,"px")}),this.viewport=y(y({},this.viewport),{},{width:u,height:c})),o&&s&&"function"!=typeof this.options.maxScale&&(e=this.option("maxScale"),this.options.maxScale=function(){return 0<this.content.origWidth&&0<this.content.fitWidth?this.content.origWidth/this.content.fitWidth:e}),this.content=y(y({},this.content),{},{origWidth:l,origHeight:h,fitWidth:u,fitHeight:c,width:u,height:c,scale:1,isZoomable:s}),this.container={width:i.width,height:i.height},!0!==t&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(t){this.zoomTo(this.content.scale+(t||this.option("step")))}},{key:"zoomOut",value:function(t){this.zoomTo(this.content.scale-(t||this.option("step")))}},{key:"toggleZoom",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.option("maxScale"),i=this.option("baseScale"),i=this.content.scale>i+.5*(e-i)?i:e;this.zoomTo(i,t)}},{key:"zoomTo",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.x,i=void 0===i?null:i,e=e.y,e=void 0===e?null:e,t=Math.max(Math.min(t,this.option("maxScale")),this.option("minScale")),n=x(this.content.scale/(this.content.width/this.content.fitWidth),1e7),n=(null===i&&(i=this.content.width*n*.5),null===e&&(e=this.content.height*n*.5),this.getZoomDelta(t,i,e)),r=n.deltaX,i=this.content.x-r,e=this.content.y-n.deltaY;this.panTo({x:i,y:e,scale:t,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this.content.fitWidth*this.content.scale,r=this.content.fitHeight*this.content.scale;return{deltaX:(this.content.fitWidth*t-n)*(0<e&&n?e/n:0),deltaY:(this.content.fitHeight*t-r)*(0<i&&r?i/r:0)}}},{key:"panTo",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=e.x,i=void 0===i?this.content.x:i,n=e.y,n=void 0===n?this.content.y:n,r=e.scale,o=e.friction,o=void 0===o?this.option("friction"):o,e=e.ignoreBounds,r=r||this.content.scale||1;void 0!==e&&e||(t=(e=this.getBounds(r)).boundX,e=e.boundY,t&&(i=Math.max(Math.min(i,t.to),t.from)),e&&(n=Math.max(Math.min(n,e.to),e.from))),this.friction=o,this.transform=y(y({},this.transform),{},{x:i,y:n,scale:r}),o?(this.state="panning",this.velocity={x:(1/this.friction-1)*(i-this.content.x),y:(1/this.friction-1)*(n-this.content.y),scale:(1/this.friction-1)*(r-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var t=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(function(){return t.animate()})}},{key:"animate",value:function(){var t=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return this.endAnimation(),void this.trigger("endAnimation");this.rAF=requestAnimationFrame(function(){return t.animate()})}},{key:"getBounds",value:function(t){var e,i,n,r,o,s,a=this.boundX,l=this.boundY;return void 0!==a&&void 0!==l||(a={from:0,to:0},l={from:0,to:0},t=t||this.transform.scale,i=(s=this.content.fitWidth)*t,t=(e=this.content.fitHeight)*t,n=this.viewport.width,r=this.viewport.height,s<=n?(a.from=x((o=.5*(n-i))-(s=.5*(i-s))),a.to=x(o+s)):a.from=x(n-i),e<=r?(l.from=x((o=.5*(r-t))-(s=.5*(t-e))),l.to=x(o+s)):l.from=x(r-i)),{boundX:a,boundY:l}}},{key:"setEdgeForce",value:function(){var t,e,i,n,r,o,s;"decel"===this.state&&(i=this.option("bounceForce"),(s=(n=this.getBounds(Math.max(this.transform.scale,this.content.scale))).boundX)&&(o=this.content.x<s.from,r=this.content.x>s.to),(n=n.boundY)&&(t=this.content.y<n.from,e=this.content.y>n.to),(o||r)&&(r=((o?s.from:s.to)-this.content.x)*i,(o=this.content.x+(this.velocity.x+r)/this.friction)>=s.from&&o<=s.to&&(r+=this.velocity.x),this.velocity.x=r,this.recalculateTransform()),t||e)&&(o=((t?n.from:n.to)-this.content.y)*i,(s=this.content.y+(o+this.velocity.y)/this.friction)>=n.from&&s<=n.to&&(o+=this.velocity.y),this.velocity.y=o,this.recalculateTransform())}},{key:"setDragResistance",value:function(){var t,e,i,n,r,o;"pointerdown"===this.state&&((r=(i=this.getBounds(this.dragPosition.scale)).boundX)&&(n=this.dragPosition.x<r.from,o=this.dragPosition.x>r.to),(i=i.boundY)&&(t=this.dragPosition.y<i.from,e=this.dragPosition.y>i.to),!n&&!o||n&&o||(n=(o=n?r.from:r.to)-this.dragPosition.x,this.dragPosition.x=o-.3*n),!t&&!e||t&&e||(o=(r=t?i.from:i.to)-this.dragPosition.y,this.dragPosition.y=r-.3*o))}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(.05<Math.abs(this.velocity.x)||.05<Math.abs(this.velocity.y)||.05<Math.abs(this.velocity.scale)))}},{key:"setTransform",value:function(t){var e,i,n,r;t?(e=x(this.transform.x),i=x(this.transform.y),n=this.transform.scale,this.content=y(y({},this.content),{},{x:e,y:i,scale:n})):(e=x(this.content.x),i=x(this.content.y),n=this.content.scale/(this.content.width/this.content.fitWidth),this.content=y(y({},this.content),{},{x:e,y:i})),this.trigger("beforeTransform"),e=x(this.content.x),i=x(this.content.y),t&&this.option("zoom")?(t=x(this.content.fitWidth*n),r=x(this.content.fitHeight*n),this.content.width=t,this.content.height=r,this.transform=y(y({},this.transform),{},{width:t,height:r,scale:n}),Object.assign(this.$content.style,{width:"".concat(t,"px"),height:"".concat(r,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(e,"px, ").concat(i,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(e,"px, ").concat(i,"px, 0) scale(").concat(n,")"),this.trigger("afterTransform")}},{key:"endAnimation",value:function(){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor()}},{key:"handleCursor",value:function(){var t=this.option("draggableClass");t&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(t):this.$container.classList.add(t))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),k);function k(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,k),(e=B.call(this,p(!0,{},U,i))).state="init",e.$container=t;for(var n=0,r=["onLoad","onWheel","onClick"];n<r.length;n++){var o=r[n];e[o]=e[o].bind(s(e))}return e.initLayout(),e.resetValues(),e.attachPlugins(k.Plugins),e.trigger("init"),e.updateMetrics(),e.attachEvents(),e.trigger("ready"),!1===e.option("centerOnStart")?e.state="ready":e.panTo({friction:0}),e}function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,S),this.options=p(!0,{},t),this.plugins=[],this.events={};for(var e=0,i=["on","once"];e<i.length;e++)for(var n=i[e],r=0,o=Object.entries(this.options[n]||{});r<o.length;r++){var s=o[r];this[n].apply(this,b(s))}}function A(t){var o=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.start,i=void 0===i?function(){return!0}:i,n=e.move,n=void 0===n?function(){}:n,e=e.end,e=void 0===e?function(){}:e;a(this,A),this.element=t,this.startPointers=[],this.currentPointers=[],this.startCallback=i,this.moveCallback=n,this.endCallback=e,this.onStart=function(t){if(!t.button||0===t.button){var e=new c(t);if(!1===o.startCallback(e,t))return!1;t.preventDefault(),(i=window.getSelection?window.getSelection():document.selection)&&i.rangeCount&&i.getRangeAt(0).getClientRects().length&&(i.removeAllRanges?i.removeAllRanges():i.empty&&i.empty()),o.currentPointers.push(e),o.startPointers.push(e),(t.target&&"setPointerCapture"in t.target?t.target:o.element).setPointerCapture(t.pointerId),o.element.addEventListener("pointermove",o.onMove),o.element.addEventListener("pointerup",o.onEnd),o.element.addEventListener("pointercancel",o.onEnd)}var i},this.onMove=function(t){for(var e=o.currentPointers.slice(),i=[],n=0,r=[new c(t)];n<r.length;n++)(()=>{var e=r[n],t=o.currentPointers.findIndex(function(t){return t.id===e.id});if(t<0)return;i.push(e),o.currentPointers[t]=e})();i.length&&o.moveCallback(e,o.currentPointers,t)},this.onEnd=function(t){var e=new c(t),i=o.currentPointers.findIndex(function(t){return t.id===e.id});if(-1===i)return!1;o.currentPointers.splice(i,1),o.startPointers.splice(i,1),o.endCallback(e,t),o.currentPointers.length||(o.element.removeEventListener("pointermove",o.onMove),o.element.removeEventListener("pointerup",o.onEnd),o.element.removeEventListener("pointercancel",o.onEnd))},this.element.addEventListener("pointerdown",this.onStart)}_.version="4.0.4",_.Plugins={};function W(e,i){var n=0;return function(){var t=(new Date).getTime();if(!(t-n<i))return n=t,e.apply(void 0,arguments)}}e(V,[{key:"option",value:function(t){return this.carousel.option("Navigation.".concat(t))}},{key:"createButton",value:function(e){var t,i=this,n=document.createElement("button"),r=(n.setAttribute("title",this.carousel.localize("{{".concat(e.toUpperCase(),"}}"))),this.option("classNames.button")+" "+this.option("classNames.".concat(e)));return(t=n.classList).add.apply(t,b(r.split(" "))),n.setAttribute("tabindex","0"),n.innerHTML=this.carousel.localize(this.option("".concat(e,"Tpl"))),n.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i.carousel["slide".concat("next"===e?"Next":"Prev")]()}),n}},{key:"build",value:function(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(this.option("classNames.main")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var t=this.carousel.pages.length;t<=1||1<t&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=t-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}]);var E=V;function V(t){a(this,V),this.$container=null,this.$prev=null,this.$next=null,this.carousel=t,this.onRefresh=this.onRefresh.bind(this)}E.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};e(X,[{key:"buildList",value:function(){var t,i=this;if(!(this.carousel.pages.length<2))return(t=document.createElement("ol")).classList.add("carousel__dots"),t.addEventListener("click",function(t){var e;"page"in t.target.dataset&&(t.preventDefault(),t.stopPropagation(),(t=parseInt(t.target.dataset.page,10))!==(e=i.carousel).page)&&(e.pages.length<3&&e.option("infinite")?e[0==t?"slidePrev":"slideNext"]():e.slideTo(t))}),this.$list=t,this.carousel.$container.appendChild(t),this.carousel.$container.classList.add("has-dots"),t}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var e=this,t=!!this.$list,i=this.carousel.pages.length;if(i<2)t&&this.removeList();else{t||this.buildList();var n=this.$list.children.length;if(i<n)for(var r=i;r<n;r++)this.$list.removeChild(this.$list.lastChild);else{for(var o=n;o<i;o++)(t=>{var i=document.createElement("li");i.classList.add("carousel__dot"),i.dataset.page=t,i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("title",e.carousel.localize("{{GOTO}}",[["%d",t+1]])),i.addEventListener("keydown",function(t){var e,t=t.code;"Enter"===t||"NumpadEnter"===t?e=i:"ArrowRight"===t?e=i.nextSibling:"ArrowLeft"===t&&(e=i.previousSibling),e&&e.click()}),e.$list.appendChild(i)})(o);this.setActiveDot()}}}},{key:"setActiveDot",value:function(){var t;this.$list&&(this.$list.childNodes.forEach(function(t){t.classList.remove("is-selected")}),t=this.$list.childNodes[this.carousel.page])&&t.classList.add("is-selected")}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList(),this.carousel.off(this.events),this.carousel=null}}]);var q=X,C=(e(Y,[{key:"addAsTargetFor",value:function(t){this.target=this.carousel,this.nav=t,this.attachEvents()}},{key:"addAsNavFor",value:function(t){this.target=t,this.nav=this.carousel,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(t,e,i){var n=i.target.closest(".carousel__slide");n&&(i.stopPropagation(),i=parseInt(n.dataset.index,10),n=this.target.findPageForSlide(i),this.target.page!==n&&this.target.slideTo(n,{friction:this.friction}),this.markSelectedSlide(i))}},{key:"onNavCreateSlide",value:function(t,e){e.index===this.selectedIndex&&this.markSelectedSlide(e.index)}},{key:"onTargetChange",value:function(){var t=this.target.pages[this.target.page].indexes[0],e=this.nav.findPageForSlide(t);this.nav.slideTo(e),this.markSelectedSlide(t)}},{key:"markSelectedSlide",value:function(t){this.selectedIndex=t,b(this.nav.slides).filter(function(t){return t.$el&&t.$el.classList.remove("is-nav-selected")});t=this.nav.slides[t];t&&t.$el&&t.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(t){t=t.options.Sync;(t.target||t.nav)&&(t.target?this.addAsNavFor(t.target):t.nav&&this.addAsTargetFor(t.nav),this.friction=t.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),Y);function Y(t){a(this,Y),this.carousel=t,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}function X(t){a(this,X),this.carousel=t,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}C.defaults={friction:.92};var G,E={Navigation:E,Dots:q,Sync:C},K={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},M=(i(T,v),G=n(T),e(T,[{key:"init",value:function(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(T.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)")),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}},{key:"initLayout",value:function(){var t,e=this.option("prefix"),i=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(".".concat(e).concat(i.viewport)),this.$viewport||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(e+i.viewport),(t=this.$viewport).append.apply(t,b(this.$container.childNodes)),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(".".concat(e).concat(i.track)),this.$track||(this.$track=document.createElement("div"),this.$track.classList.add(e+i.track),(t=this.$track).append.apply(t,b(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var e=this;this.slides=[],this.$viewport.querySelectorAll(".".concat(this.option("prefix")).concat(this.option("classNames.slide"))).forEach(function(t){t={$el:t,isDom:!0};e.slides.push(t),e.trigger("createSlide",t,e.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=p(!0,b(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var n,r=this,o=0,s=[],i=(this.slides.forEach(function(t,e){var i=t.$el,i=t.isDom||!n?r.getSlideMetrics(i):n;t.index=e,t.width=i,t.left=o,o+=n=i,s.push(e)}),Math.max(this.$track.offsetWidth,x(this.$track.getBoundingClientRect().width))),t=getComputedStyle(this.$track),e=(i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),this.contentWidth=o,this.viewportWidth=i,[]),a=this.option("slidesPerPage");if(Number.isInteger(a)&&i<o)for(var l=0;l<this.slides.length;l+=a)e.push({indexes:s.slice(l,l+a),slides:this.slides.slice(l,l+a)});else for(var h=0,c=0,u=0;u<this.slides.length;u+=1){var d=this.slides[u];(!e.length||c+d.width>i)&&(e.push({indexes:[],slides:[]}),h=e.length-1,c=0),c+=d.width,e[h].indexes.push(u),e[h].slides.push(d)}var f=this.option("center"),p=this.option("fill");e.forEach(function(t,e){t.index=e,t.width=t.slides.reduce(function(t,e){return t+e.width},0),t.left=t.slides[0].left,f&&(t.left+=.5*(i-t.width)*-1),p&&!r.option("infiniteX",r.option("infinite"))&&i<o&&(t.left=Math.max(t.left,0),t.left=Math.min(t.left,o-i))});var g,m,v=[],t=(e.forEach(function(t){t=y({},t);g&&t.left===g.left?(g.width+=t.width,g.slides=[].concat(b(g.slides),b(t.slides)),g.indexes=[].concat(b(g.indexes),b(t.indexes))):(t.index=v.length,g=t,v.push(t))}),this.pages=v,this.page);null===t&&(t=null!==(m=this.option("initialSlide"))?this.findPageForSlide(m):this.option("initialPage",0),v[t]||(t=v.length&&v.length<t?v[v.length-1].index:0),this.page=t,this.pageIndex=t),this.updatePanzoom(),this.trigger("refresh")}},{key:"getSlideMetrics",value:function(t){t||(i=this.slides[0],(t=document.createElement("div")).dataset.isTestEl=1,t.style.visibility="hidden",t.classList.add(this.option("prefix")+this.option("classNames.slide")),i.customClass&&(e=t.classList).add.apply(e,b(i.customClass.split(" "))),this.$track.prepend(t));var e=Math.max(t.offsetWidth,x(t.getBoundingClientRect().width)),i=t.currentStyle||window.getComputedStyle(t),e=e+(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0);return t.dataset.isTestEl&&t.remove(),e}},{key:"findPageForSlide",value:function(e){var t=this.pages.find(function(t){return-1<t.indexes.indexOf(e)});return t?t.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.x,t=void 0===i?-1*this.setPage(t,!0):i,i=e.y,i=void 0===i?0:i,e=e.friction,e=void 0===e?this.option("friction"):e;this.Panzoom.content.x===t&&!this.Panzoom.velocity.x&&e||(this.Panzoom.panTo({x:t,y:i,friction:e,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var r=this,t=(this.Panzoom&&this.Panzoom.destroy(),p(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:function(){return r.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom")));this.Panzoom=new _(this.$container,t),this.Panzoom.on({"*":function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return r.trigger.apply(r,["Panzoom.".concat(t)].concat(i))},afterUpdate:function(){r.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){r.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=y(y({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),1<this.pages.length&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var s=this,a=this.contentWidth,l=this.viewportWidth,h=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0,c=this.option("preload"),u=this.option("infiniteX",this.option("infinite")),d=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),f=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right")),n=(this.slides.forEach(function(t){var e=0,i=h-d,n=h+l+f,r=(n+=c*(l+d+f),t.left+t.width>(i-=c*(l+d+f))&&t.left<n),o=(i=h+a-d,n=h+a+l+f,i-=c*(l+d+f),u&&t.left+t.width>i&&t.left<n),i=(i=h-a-d,n=h-a+l+f,i-=c*(l+d+f),u&&t.left+t.width>i&&t.left<n);o||r||i?(s.createSlideEl(t),r&&(e=0),o&&(e=-1),i&&(e=1),t.left+t.width>h&&t.left<=h+l+f&&(e=0)):s.removeSlideEl(t),t.hasDiff=e}),0),r=0;this.slides.forEach(function(t,e){var i=0;t.$el?(e!==n||t.hasDiff?i=r+t.hasDiff*a:r=0,t.$el.style.left=.1<Math.abs(i)?"".concat(r+t.hasDiff*a,"px"):"",n++):r+=t.width}),this.markSelectedSlides()}},{key:"createSlideEl",value:function(t){if(t){var e,i,n,r,o;if(!t.$el)return(e=document.createElement("div")).dataset.index=t.index,e.classList.add(this.option("prefix")+this.option("classNames.slide")),t.customClass&&(r=e.classList).add.apply(r,b(t.customClass.split(" "))),t.html&&(e.innerHTML=t.html),i=[],this.slides.forEach(function(t,e){t.$el&&i.push(e)}),n=t.index,r=null,i.length&&(o=i.reduce(function(t,e){return Math.abs(e-n)<Math.abs(t-n)?e:t}),r=this.slides[o]),this.$track.insertBefore(e,r&&r.$el?r.index<t.index?r.$el.nextSibling:r.$el:null),t.$el=e,this.trigger("createSlide",t,n),t;parseInt(t.$el.dataset.index,10)!==t.index&&(t.$el.dataset.index=t.index,t.$el.querySelectorAll("[data-lazy-src]").forEach(function(t){var e=t.dataset.lazySrc;t instanceof HTMLImageElement?t.src=e:t.style.backgroundImage="url('".concat(e,"')")}),(o=t.$el.dataset.lazySrc)&&(t.$el.style.backgroundImage="url('".concat(o,"')")),t.state="ready")}}},{key:"removeSlideEl",value:function(t){t.$el&&!t.isDom&&(this.trigger("removeSlide",t),t.$el.remove(),t.$el=null)}},{key:"markSelectedSlides",value:function(){var r=this,o=this.option("classNames.slideSelected"),s="aria-hidden";this.slides.forEach(function(t,e){var i,n=t.$el;n&&((i=r.pages[r.page])&&i.indexes&&-1<i.indexes.indexOf(e)?(o&&!n.classList.contains(o)&&(n.classList.add(o),r.trigger("selectSlide",t)),n.removeAttribute(s)):(o&&n.classList.contains(o)&&(n.classList.remove(o),r.trigger("unselectSlide",t)),n.setAttribute(s,!0)))})}},{key:"updatePage",value:function(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var t,e,i=this.contentWidth,n=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||i<n))return e=!1,(t=this.Panzoom).content.x<-1*(i-n)&&(t.content.x+=i,this.pageIndex=this.pageIndex-this.pages.length,e=!0),t.content.x>n&&(t.content.x-=i,this.pageIndex=this.pageIndex+this.pages.length,e=!0),e&&"pointerdown"===t.state&&t.resetDragPosition(),e}},{key:"onTouchEnd",value:function(t,e){var i=this.option("dragFree");!i&&1<this.pages.length&&t.dragOffset.time<350&&Math.abs(t.dragOffset.y)<1&&5<Math.abs(t.dragOffset.x)?this[t.dragOffset.x<0?"slideNext":"slidePrev"]():i?(i=h(this.getPageFromPosition(-1*t.transform.x),2)[1],this.setPage(i)):this.slideToClosest()}},{key:"slideToClosest",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=h(this.getPageFromPosition(-1*this.Panzoom.content.x),2)[1];this.slideTo(e,t)}},{key:"getPageFromPosition",value:function(e){var t=this.pages.length,i=(this.option("center")&&(e+=.5*this.viewportWidth),Math.floor(e/this.contentWidth)),n=(e-=i*this.contentWidth,this.slides.find(function(t){return t.left<=e&&t.left+t.width>e}));return n?[n=this.findPageForSlide(n.index),n+i*t]:[0,0]}},{key:"setPage",value:function(t,e){var i,n,r=0,o=parseInt(t,10)||0,s=this.page,a=this.pageIndex,l=this.pages.length,h=this.contentWidth,c=this.viewportWidth;return t=(o%l+l)%l,this.option("infiniteX",this.option("infinite"))&&c<h?(c=Math.floor(o/l)||0,r=this.pages[t].left+c*h,!0===e&&2<l&&(c=-1*this.Panzoom.content.x,e=r-h,h=r+h,i=Math.abs(c-r),n=Math.abs(c-e),(c=Math.abs(c-h))<i&&c<=n?(r=h,o+=l):n<i&&n<c&&(r=e,o-=l))):(t=o=Math.max(0,Math.min(o,l-1)),r=this.pages.length?this.pages[t].left:0),this.page=t,this.pageIndex=o,null!==s&&t!==s&&(this.prevPage=s,this.prevPageIndex=a,this.trigger("change",t,s)),r}},{key:"destroy",value:function(){var e=this;this.state="destroy",this.slides.forEach(function(t){e.removeSlideEl(t)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}]),T);function T(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a(this,T),e=p(!0,{},K,e),(e=G.call(this,e)).state="init",e.$container=t,e.$container instanceof HTMLElement)return e.slideNext=W(e.slideNext.bind(s(e)),250),e.slidePrev=W(e.slidePrev.bind(s(e)),250),e.init(),e;throw new Error("No root element provided")}M.version="4.0.4",M.Plugins=E;var Z=!("undefined"==typeof window||!window.document||!window.document.createElement),q=(e(J,[{key:"onReady",value:function(){var t=window.visualViewport;t&&(this.viewport=t,this.startY=0,t.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var t,e,i,n=this.fancybox,r=this.viewport,o=r.scale||1,n=n.$container;n&&(i=e=t="",.1<o-1&&(t="".concat(r.width*o,"px"),e="".concat(r.height*o,"px"),i="translate3d(".concat(r.offsetLeft,"px, ").concat(r.offsetTop,"px, 0) scale(").concat(1/o,")")),n.style.width=t,n.style.height=e,n.style.transform=i)}},{key:"onTouchstart",value:function(t){this.startY=(t.touches?t.touches[0]:t).screenY}},{key:"onTouchmove",value:function(t){var e,i,n,r=this.startY,o=window.innerWidth/window.document.documentElement.clientWidth;1<t.touches.length||1!=o||(o=t.target,(o=m(o))&&(e=window.getComputedStyle(o),e=parseInt(e.getPropertyValue("height"),10),i=r<=(n=(t.touches?t.touches[0]:t).screenY)&&0===o.scrollTop,n=n<=r&&o.scrollHeight-o.scrollTop===e,!i)&&!n)||t.preventDefault()}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var t=this.viewport;t&&(t.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1)}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}}]),J),C=(e(Q,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(t,e){e===t.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var t,i=this;this.$container||((t=document.createElement("div")).classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(t,this.fancybox.$carousel.nextSibling),this.Carousel=new M(t,p(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",function(t,e){e.preventDefault(),i.fancybox[e.deltaY<0?"prev":"next"]()}),this.$container=t,this.state="visible")}},{key:"getSlides",value:function(){var t,e=[],i=w(this.fancybox.items);try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.thumb;r&&e.push({html:'<div class="fancybox__thumb" style="background-image:url(\''.concat(r,"')\"></div>"),customClass:"has-thumb has-".concat(n.type||"image")})}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"toggle",value:function(){return"visible"===this.state?(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",void(this.state="hidden")):"hidden"===this.state?(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),void(this.state="visible")):void this.build()}},{key:"show",value:function(){this.state="hidden",this.toggle()}},{key:"hide",value:function(){this.state="visible",this.toggle()}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),Q);function Q(t){a(this,Q),this.fancybox=t,this.$container=null,this.state="init";for(var e=0,i=["onPrepare","onClosing","onKeydown"];e<i.length;e++){var n=i[e];this[n]=this[n].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}function J(t){a(this,J),this.fancybox=t,this.viewport=null,this.pendingUpdate=null;for(var e=0,i=["onReady","onResize","onTouchstart","onTouchmove"];e<i.length;e++){var n=i[e];this[n]=this[n].bind(this)}}C.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{}};function tt(t){return Object.entries(t).map(function(t){return t.map(encodeURIComponent).join("=")}).join("&")}var et={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',format:""}},E=(e(it,[{key:"onInit",value:function(){var t,e=w(this.fancybox.items);try{for(e.s();!(t=e.n()).done;){var i=t.value;this.processType(i)}}catch(t){e.e(t)}finally{e.f()}}},{key:"processType",value:function(t){var e,i,n,r,o;t.html?(t.src=t.html,t.type="html",delete t.html):(i=t.type||this.fancybox.options.type,n=null,(e=t.src||"")&&"string"!=typeof e||((n=e.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i))?(r=tt(this.fancybox.option("Html.youtube")),o=encodeURIComponent(n[1]),t.videoId=o,t.src="https://www.youtube-nocookie.com/embed/".concat(o,"?").concat(r),t.thumb=t.thumb||"https://i.ytimg.com/vi/".concat(o,"/mqdefault.jpg"),t.vendor="youtube",i="video"):(n=e.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/))?(r=tt(this.fancybox.option("Html.vimeo")),o=encodeURIComponent(n[1]),t.videoId=o,t.src="https://player.vimeo.com/video/".concat(o,"?").concat(r),t.vendor="vimeo",i="video"):(n=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(t.src="//maps.google.".concat(n[1],"/?ll=").concat((n[2]?n[2]+"&z="+Math.floor(n[3])+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&"),"&output=").concat(n[4]&&0<n[4].indexOf("layer=c")?"svembed":"embed"),i="map"):(n=e.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(t.src="//maps.google.".concat(n[1],"/maps?q=").concat(n[2].replace("query=","q=").replace("api=1",""),"&output=embed"),i="map"),i||("#"===e.charAt(0)?i="inline":(n=e.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",t.format=t.format||"video/"+("ogv"===n[1]?"ogg":n[1])):e.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":e.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),t.type=i||this.fancybox.option("defaultType","image"),"html5video"!==i&&"video"!==i)||(t.video=p({},this.fancybox.option("Html.video"),t.video),t._width&&t._height?t.ratio=parseFloat(t._width)/parseFloat(t._height):t.ratio=t.ratio||t.video.ratio||et.video.ratio))}},{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(t){t.$el&&(e.setContent(t),t.index===e.fancybox.getSlide().index)&&e.playVideo(t)})}},{key:"onCreateSlide",value:function(t,e,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"loadInlineContent",value:function(t){var e,i;t.src instanceof HTMLElement?e=t.src:"string"==typeof t.src&&(i=2===(i=t.src.split("#",2)).length&&""===i[0]?i[1]:i[0],e=document.getElementById(i)),e?("clone"===t.type||e.$placeHolder?(i=(i=(e=e.cloneNode(!0)).getAttribute("id"))?"".concat(i,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(t.index),e.setAttribute("id",i)):((i=document.createElement("div")).classList.add("fancybox-placeholder"),e.parentNode.insertBefore(i,e),e.$placeHolder=i),this.fancybox.setContent(t,e)):this.fancybox.setError(t,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(t){var e=this.fancybox,i=new XMLHttpRequest;e.showLoading(t),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&"ready"===e.state&&(e.hideLoading(t),200===i.status?e.setContent(t,i.responseText):e.setError(t,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))},i.open("GET",t.src),i.send(t.ajax||null),t.xhr=i}},{key:"loadIframeContent",value:function(e){var t,i=this,n=this.fancybox,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id","fancybox__iframe_".concat(n.id,"_").concat(e.index)),r.setAttribute("allow","autoplay; fullscreen"),r.setAttribute("scrolling","auto"),e.$iframe=r,"iframe"!==e.type||!1===e.preload?(r.setAttribute("src",e.src),this.fancybox.setContent(e,r)):(n.showLoading(e),(t=document.createElement("div")).style.visibility="hidden",this.fancybox.setContent(e,t),t.appendChild(r),r.onerror=function(){n.setError(e,"{{IFRAME_ERROR}}")},r.onload=function(){n.hideLoading(e);var t=!1;"yes"!==r.dataset.ready&&(r.dataset.ready="yes",t=!0),r.src.length&&(r.parentNode.style.visibility="",!1!==e.autoSize&&i.autoSizeIframe(r),t)&&n.revealContent(e)},r.setAttribute("src",e.src))}},{key:"setAspectRatio",value:function(t){var e,i,n,r=t.$content,o=t.ratio;r&&(e=t._width,t=t._height,o||e&&t)&&(Object.assign(r.style,{width:e&&t?"100%":"",height:e&&t?"100%":"",maxWidth:"",maxHeight:""}),n=r.offsetWidth,i=r.offsetHeight,t=t||i,((e=e||n)>n||i<t)&&(e*=n=Math.min(n/e,i/t),t*=n),.01<Math.abs(e/t-o)&&(o<e/t?e=t*o:t=e/o),Object.assign(r.style,{width:"".concat(e,"px"),height:"".concat(t,"px")}))}},{key:"autoSizeIframe",value:function(t){if(t.dataset&&"yes"===t.dataset.ready){var e=t.parentNode.style;e.flex="1 1 auto",e.width="",e.height="";try{var i=t.contentWindow.document,n=i.getElementsByTagName("html")[0],r=i.body,o=window.getComputedStyle(t.parentNode),s=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),a=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),l=(r.style.overflow="hidden",n.scrollWidth),h=(e.width="".concat(l+s,"px"),r.style.overflow="",e.flex="",e.flexShrink="0",e.height="".concat(r.scrollHeight,"px"),n.scrollHeight);e.height="".concat(h+a,"px")}catch(t){}}}},{key:"onRefresh",value:function(t,e){var i=this;e.slides.forEach(function(t){t.$el&&(t.$iframe&&!1!==t.autoSize&&i.autoSizeIframe(t.$iframe),t.ratio)&&i.setAspectRatio(t)})}},{key:"setContent",value:function(t){if(t&&!t.isDom){switch(t.type){case"html":this.fancybox.setContent(t,t.src);break;case"html5video":this.fancybox.setContent(t,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.format||t.html5video&&t.html5video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":case"clone":this.loadInlineContent(t);break;case"ajax":this.loadAjaxContent(t);break;case"iframe":case"pdf":case"video":case"map":this.loadIframeContent(t)}t.ratio&&this.setAspectRatio(t)}}},{key:"onSelectSlide",value:function(t,e,i){"ready"===t.state&&this.playVideo(i)}},{key:"playVideo",value:function(i){if("html5video"===i.type&&i.video.autoplay)try{var t,e=i.$el.querySelector("video");e&&void 0!==(t=e.play())&&t.then(function(){}).catch(function(t){e.muted=!0,e.play()})}catch(i){}"video"===i.type&&i.$iframe&&i.$iframe.contentWindow&&!function t(){if("done"===i.state&&i.$iframe&&i.$iframe.contentWindow){var e;if(i.$iframe.isReady)return void((e=i.video&&i.video.autoplay?"youtube"==i.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}:e)&&i.$iframe.contentWindow.postMessage(JSON.stringify(e),"*"));"youtube"===i.vendor&&(e={event:"listening",id:i.$iframe.getAttribute("id")},i.$iframe.contentWindow.postMessage(JSON.stringify(e),"*"))}i.poller=setTimeout(t,250)}()}},{key:"onUnselectSlide",value:function(t,e,i){if("html5video"!==i.type){var n=!1;"vimeo"==i.vendor?n={method:"pause",value:"true"}:"youtube"===i.vendor&&(n={event:"command",func:"pauseVideo"}),n&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(n),"*"),clearTimeout(i.poller)}else try{i.$el.querySelector("video").pause()}catch(t){}}},{key:"onRemoveSlide",value:function(t,e,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);var n=i.$content,i=("inline"===i.type&&n&&(n.classList.remove("fancybox__content"),"none"!==n.style.display&&(n.style.display="none"),i.$closeButton)&&(i.$closeButton.remove(),i.$closeButton=null),n&&n.$placeHolder);i&&(i.parentNode.insertBefore(n,i),i.remove(),n.$placeHolder=null)}},{key:"onMessage",value:function(t){try{var e=JSON.parse(t.data);if("https://player.vimeo.com"===t.origin){if("ready"===e.event){var i,n=w(document.getElementsByClassName("fancybox__iframe"));try{for(n.s();!(i=n.n()).done;){var r=i.value;r.contentWindow===t.source&&(r.isReady=1)}}catch(t){n.e(t)}finally{n.f()}}}else"https://www.youtube-nocookie.com"===t.origin&&"onReady"===e.event&&(document.getElementById(e.id).isReady=1)}catch(t){}}},{key:"attach",value:function(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}]),it);function it(t){a(this,it),this.fancybox=t;for(var e=0,i=["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"];e<i.length;e++){var n=i[e];this[n]=this[n].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}E.defaults=et;e(rt,[{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(t){t.$el&&e.setContent(t)})}},{key:"onDone",value:function(t,e){this.handleCursor(e)}},{key:"onClosing",value:function(t){clearTimeout(this.clickTimer),this.clickTimer=null,t.Carousel.slides.forEach(function(t){t.$image&&(t.state="destroy"),t.Panzoom&&t.Panzoom.detachEvents()}),"closing"===this.fancybox.state&&this.canZoom(t.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(t,e,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"onRemoveSlide",value:function(t,e,i){i.$image&&(i.$el.classList.remove(t.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}},{key:"setContent",value:function(e){var t,i,n,r,o=this;e.isDom||e.html||e.type&&"image"!==e.type||e.$image||(e.type="image",e.state="loading",(t=document.createElement("div")).style.visibility="hidden",(i=document.createElement("img")).addEventListener("load",function(t){t.stopImmediatePropagation(),o.onImageStatusChange(e)}),i.addEventListener("error",function(){o.onImageStatusChange(e)}),i.src=e.src,i.alt="",i.draggable=!1,i.classList.add("fancybox__image"),e.srcset&&i.setAttribute("srcset",e.srcset),e.sizes&&i.setAttribute("sizes",e.sizes),e.$image=i,(n=this.fancybox.option("Image.wrap"))?((r=document.createElement("div")).classList.add("string"==typeof n?n:"fancybox__image-wrap"),r.appendChild(i),t.appendChild(r),e.$wrap=r):t.appendChild(i),e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,t),i.complete||i.error?this.onImageStatusChange(e):this.fancybox.showLoading(e))}},{key:"onImageStatusChange",value:function(e){var i=this,t=e.$image;t&&"loading"===e.state&&(t.complete&&t.naturalWidth&&t.naturalHeight?(this.fancybox.hideLoading(e),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",function(t){return i.onWheel(e,t)},{passive:!1}),e.$content.addEventListener("click",function(t){return i.onClick(e,t)},{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(t){var e=this;t.Panzoom||(t.Panzoom=new _(t.$el,p(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:t.$wrap,content:t.$image,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),t.Panzoom.on("startAnimation",function(){e.fancybox.trigger("Image.startAnimation",t)}),t.Panzoom.on("endAnimation",function(){"zoomIn"===t.state&&e.fancybox.done(t),e.handleCursor(t),e.fancybox.trigger("Image.endAnimation",t)}),t.Panzoom.on("afterUpdate",function(){e.handleCursor(t),e.fancybox.trigger("Image.afterUpdate",t)}))}},{key:"revealContent",value:function(t){null===this.fancybox.Carousel.prevPage&&t.index===this.fancybox.options.startIndex&&this.canZoom(t)?this.zoomIn():this.fancybox.revealContent(t)}},{key:"getZoomInfo",value:function(t){var e=t.$thumb.getBoundingClientRect(),i=e.width,n=e.height,t=t.$content.getBoundingClientRect(),r=t.width,o=t.height,s=t.top-e.top,t=t.left-e.left,a=this.fancybox.option("Image.zoomOpacity");return"auto"===a&&(a=.1<Math.abs(i/n-r/o)),{top:s,left:t,scale:e.width/r,opacity:a}}},{key:"canZoom",value:function(t){var e=this.fancybox,i=e.$container;if(window.visualViewport&&1!==window.visualViewport.scale)return!1;if(!e.option("Image.zoom")||"contain"!==e.option("Image.fit"))return!1;e=t.$thumb;if(!e||"loading"===t.state)return!1;i.classList.add("fancybox__no-click");var n,r,t=e.getBoundingClientRect();return r=this.fancybox.option("Image.ignoreCoveredThumbnail")?(r=document.elementFromPoint(t.left+1,t.top+1)===e,n=document.elementFromPoint(t.right-1,t.bottom-1)===e,r&&n):document.elementFromPoint(t.left+.5*t.width,t.top+.5*t.height)===e,i.classList.remove("fancybox__no-click"),r}},{key:"zoomIn",value:function(){var t=this.fancybox,e=t.getSlide(),i=e.Panzoom,n=this.getZoomInfo(e),r=n.top,o=n.left,s=n.scale,n=n.opacity;e.state="zoomIn",t.trigger("reveal",e),i.panTo({x:-1*o,y:-1*r,scale:s,friction:0,ignoreBounds:!0}),!(e.$content.style.visibility="")===n&&i.on("afterTransform",function(t){"zoomIn"!==e.state&&"zoomOut"!==e.state||(t.$content.style.opacity=Math.min(1,1-(1-t.content.scale)/(1-s)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var n,t,r=this,e=this.fancybox,o=e.getSlide(),s=o.Panzoom;s&&(o.state="zoomOut",e.state="customClosing",o.$caption&&(o.$caption.style.visibility="hidden"),n=this.fancybox.option("Image.zoomFriction"),t=function(t){var e=r.getZoomInfo(o),i=e.top;t||e.opacity||(n*=.82),s.panTo({x:-1*e.left,y:-1*i,scale:e.scale,friction:n,ignoreBounds:!0}),n*=.98},window.addEventListener("scroll",t),s.on("endAnimation",function(){window.removeEventListener("scroll",t),e.destroy()}),t())}},{key:"handleCursor",value:function(t){var e,i;"image"===t.type&&(e=t.Panzoom,i=this.fancybox.option("Image.click",!1,t),t=t.$el.classList,e&&"toggleZoom"===i?t[e&&1===e.content.scale&&.01<e.option("maxScale")-e.content.scale?"add":"remove"](this.fancybox.option("Image.canZoomInClass")):"close"===i&&t.add(this.fancybox.option("Image.canZoomOutClass")))}},{key:"onWheel",value:function(t,e){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",e))switch(this.fancybox.option("Image.wheel")){case"zoom":t.Panzoom&&t.Panzoom.zoomWithWheel(e);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[e.deltaY<0?"prev":"next"]()}}},{key:"onClick",value:function(e,i){var n=this;if("ready"===this.fancybox.state){var t=e.Panzoom;if(!t||!t.dragPosition.midPoint&&0===t.dragOffset.x&&0===t.dragOffset.y&&1===t.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var r=function(t){switch(t){case"toggleZoom":i.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(i);break;case"close":n.fancybox.close();break;case"next":i.stopPropagation(),n.fancybox.next()}},o=this.fancybox.option("Image.click"),t=this.fancybox.option("Image.doubleClick");t?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,r(t)):this.clickTimer=setTimeout(function(){n.clickTimer=null,r(o)},300):r(o)}}}},{key:"onPageChange",value:function(t,e){var i=t.getSlide();e.slides.forEach(function(t){t.Panzoom&&"done"===t.state&&t.index!==i.index&&t.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]);var nt=rt;function rt(t){a(this,rt),this.fancybox=t;for(var e=0,i=["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"];e<i.length;e++){var n=i[e];this[n]=this[n].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}nt.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};function ot(){var t=window.location.hash.substr(1),e=t.split("-"),i=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||null;return{hash:t,slug:e.join("-"),index:i}}e(L,[{key:"onChange",value:function(){var t=this,e=this.fancybox,i=e.Carousel,n=(this.timer&&clearTimeout(this.timer),null===i.prevPage),e=e.getSlide(),r=e.$trigger&&e.$trigger.dataset,o=window.location.hash.substr(1),s=!1;e.slug?s=e.slug:(r=r&&r.fancybox)&&r.length&&"true"!==r&&(s=r+(1<i.slides.length?"-"+(e.index+1):"")),n&&(this.origHash=o!==s?this.origHash:""),s&&o!==s&&(this.timer=setTimeout(function(){try{window.history[n?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+s),n&&(t.hasCreatedHistory=!0)}catch(t){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose){if(!this.hasCreatedHistory)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash?"#"+this.origHash:""))}catch(t){}window.history.back()}}},{key:"attach",value:function(t){t.on(this.events)}},{key:"detach",value:function(t){t.off(this.events)}}],[{key:"startFromUrl",value:function(){var t,e,i;L.Fancybox&&!L.Fancybox.getInstance()&&(e=(i=ot()).hash,t=i.index,i=i.slug)&&((e=document.querySelector('[data-slug="'.concat(e,'"]')))&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),L.Fancybox.getInstance()||(i=document.querySelectorAll('[data-fancybox="'.concat(i,'"]'))).length&&(null===t&&1===i.length?e=i[0]:t&&(e=i[t-1]),e)&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}},{key:"onHashChange",value:function(){var t=ot(),e=t.slug,t=t.index,i=L.Fancybox.getInstance();if(i){if(e){var n,r=i.Carousel,o=w(r.slides);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.slug&&s.slug===e)return r.slideTo(s.index)}}catch(t){o.e(t)}finally{o.f()}var a=i.getSlide(),a=a.$trigger&&a.$trigger.dataset;if(a&&a.fancybox===e)return r.slideTo(t-1)}i.plugins.Hash.hasSilentClose=!0,i.close()}L.startFromUrl()}},{key:"create",value:function(t){function e(){window.addEventListener("hashchange",L.onHashChange,!1),L.startFromUrl()}L.Fancybox=t,Z&&window.requestAnimationFrame(function(){/complete|interactive|loaded/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",L.onHashChange,!1)}}]);var st=L,P={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(t){P.pageXOffset=window.pageXOffset,P.pageYOffset=window.pageYOffset,t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},at=(e(ut,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var t,e,i=this;this.active&&!this.timer&&(t=this.fancybox.option("slideshow.delay",3e3),this.timer=setTimeout(function(){i.timer=null,i.fancybox.option("infinite")||i.fancybox.getSlide().index!==i.fancybox.Carousel.slides.length-1?i.fancybox.next():i.fancybox.jumpTo(0,{friction:0})},t),(e=this.$progress)||((e=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel),(this.$progress=e).offsetHeight),e.style.transitionDuration="".concat(t,"ms"),e.style.transform="scaleX(1)")}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():1<this.fancybox.Carousel.slides.length&&this.activate()}}]),ut),lt={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',tabindex:-1,position:"left"},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',click:function(t){t.preventDefault(),this.fancybox.prev()}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',click:function(t){t.preventDefault(),this.fancybox.next()}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>\n                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>\n            </svg>',click:function(t){t.preventDefault(),P.element()?P.deactivate():P.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>\n                <g><path d="M7 4v15M17 4v15"/></g>\n            </svg>',click:function(t){t.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(t){t.preventDefault();t=this.fancybox.getSlide().Panzoom;t&&t.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(t){t.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(t){t.stopPropagation();t=this.fancybox.plugins.Thumbs;t&&t.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',tabindex:0,click:function(t){t.stopPropagation(),t.preventDefault(),this.fancybox.close()}}}},ht=(e(ct,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var t,e=!1,i=w(this.fancybox.items);try{for(i.s();!(t=i.n()).done;)if("image"===t.value.type){e=!0;break}}catch(t){i.e(t)}finally{i.f()}if(!e)return void(this.state="disabled")}var n,r=w(this.fancybox.option("Toolbar.display"));try{for(r.s();!(n=r.n()).done;){var o=n.value;if("close"===(g(o)?o.id:o)){this.fancybox.options.closeButton=!1;break}}}catch(t){r.e(t)}finally{r.f()}}},{key:"onPrepare",value:function(){if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new at(this.fancybox),!this.fancybox.Carousel.prevPage)&&(this.fancybox.option("slideshow.autoStart")&&this.Slideshow.activate(),this.fancybox.option("fullscreen.autoStart"))&&!P.element())try{P.activate(this.fancybox.$container)}catch(t){}}},{key:"onFsChange",value:function(){window.scrollTo(P.pageXOffset,P.pageYOffset)}},{key:"onSettle",value:function(){this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1||this.fancybox.option("infinite")?"done"===this.fancybox.getSlide().state&&this.Slideshow.setTimer():this.Slideshow.deactivate())}},{key:"onChange",value:function(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(t,e){e.index===t.getSlide().index&&(this.update(),this.Slideshow)&&this.Slideshow.isActive()&&(this.fancybox.option("infinite")||e.index!==this.fancybox.Carousel.slides.length-1?this.Slideshow.setTimer():this.Slideshow.deactivate())}},{key:"onRefresh",value:function(t){t&&t.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow)||!this.Slideshow.isActive()||t&&"done"!==t.state||this.Slideshow.deactivate()}},{key:"onKeydown",value:function(t,e,i){" "===e&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(t){"div"===t.type?e=document.createElement("div"):(e=document.createElement("link"===t.type?"a":"button")).classList.add("carousel__button"),e.innerHTML=t.html,e.setAttribute("tabindex",t.tabindex||0),t.class&&(i=e.classList).add.apply(i,b(t.class.split(" "))),t.label&&e.setAttribute("title",this.fancybox.localize("{{".concat(t.label,"}}"))),t.click&&e.addEventListener("click",t.click.bind(this)),"prev"===t.id&&e.setAttribute("data-fancybox-prev",""),"next"===t.id&&e.setAttribute("data-fancybox-next","");var e,i=e.querySelector("svg");return i&&(i.setAttribute("role","img"),i.setAttribute("tabindex","-1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg")),e}},{key:"build",value:function(){var r=this;this.cleanup();var o,s=this.fancybox.option("Toolbar.items"),a=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],l=this.fancybox.plugins.Thumbs,t=w(this.fancybox.option("Toolbar.display"));try{for(t.s();!(o=t.n()).done;)(()=>{var e,t=o.value,i=void 0,n=void 0,n=g(t)?(i=t.id,p({},s[i],t)):s[i=t];if(["counter","next","prev","slideshow"].includes(i)&&r.fancybox.items.length<2)return;if("fullscreen"===i){if(!document.fullscreenEnabled||window.fullScreen)return;document.addEventListener("fullscreenchange",r.onFsChange)}("thumbs"!==i||l&&"disabled"!==l.state)&&n&&(e=n.position||"right",(t=a.find(function(t){return t.position===e}))&&t.items.push(n))})()}catch(r){t.e(r)}finally{t.f()}var e=document.createElement("div");e.classList.add("fancybox__toolbar");for(var i=0,n=a;i<n.length;i++){var h=n[i];if(h.items.length){var c=document.createElement("div");c.classList.add("fancybox__toolbar__items"),c.classList.add("fancybox__toolbar__items--".concat(h.position));var u,d=w(h.items);try{for(d.s();!(u=d.n()).done;){var f=u.value;c.appendChild(this.createElement(f))}}catch(r){d.e(r)}finally{d.f()}e.appendChild(c)}}this.fancybox.$carousel.parentNode.insertBefore(e,this.fancybox.$carousel),this.$container=e}},{key:"update",value:function(){var t,e=this.fancybox.getSlide(),i=e.index,n=this.fancybox.items.length,r=e.downloadSrc||("image"!==e.type||e.error?null:e.src),o=w(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(o.s();!(t=o.n()).done;){var s=t.value;r?(s.removeAttribute("disabled"),s.removeAttribute("tabindex"),s.setAttribute("href",r),s.setAttribute("download",r),s.setAttribute("target","_blank")):(s.setAttribute("disabled",""),s.setAttribute("tabindex",-1),s.removeAttribute("href"),s.removeAttribute("download"))}}catch(t){o.e(t)}finally{o.f()}var a,l=e.Panzoom,h=l&&l.option("maxScale")>l.option("baseScale"),c=w(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(c.s();!(a=c.n()).done;){var u=a.value;h?u.removeAttribute("disabled"):u.setAttribute("disabled","")}}catch(t){c.e(t)}finally{c.f()}var d,f=w(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(f.s();!(d=f.n()).done;)d.value.innerHTML=e.index+1}catch(t){f.e(t)}finally{f.f()}var p,g=w(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(g.s();!(p=g.n()).done;)p.value.innerHTML=n}catch(t){g.e(t)}finally{g.f()}if(!this.fancybox.option("infinite")){var m,v=w(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(v.s();!(m=v.n()).done;){var y=m.value;0===i?y.setAttribute("disabled",""):y.removeAttribute("disabled")}}catch(t){v.e(t)}finally{v.f()}var b,x=w(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(x.s();!(b=x.n()).done;){var _=b.value;i===n-1?_.setAttribute("disabled",""):_.removeAttribute("disabled")}}catch(t){x.e(t)}finally{x.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),ct);function ct(t){var i=this;a(this,ct),this.fancybox=t,this.$container=null,this.state="init";for(var e=0,n=["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"];e<n.length;e++){var r=n[e];this[r]=this[r].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return i.onRefresh()},"Image.startAnimation":function(t,e){return i.onRefresh(e)},"Image.afterUpdate":function(t,e){return i.onRefresh(e)}}}function ut(t){a(this,ut),this.fancybox=t,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}function L(t){a(this,L),this.fancybox=t;for(var e=0,i=["onChange","onClosing"];e<i.length;e++){var n=i[e];this[n]=this[n].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}ht.defaults=lt;var dt,lt={ScrollLock:q,Thumbs:C,Html:E,Toolbar:ht,Image:nt,Hash:st},ft={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},O={},pt=0,D=(i(I,v),dt=n(I),e(I,[{key:"bindHandlers",value:function(){for(var t=0,e=["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onTouchMove","onTouchEnd","onTransform"];t<e.length;t++){var i=e[t];this[i]=this[i].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var i=this,t=(this.$root=this.option("parentEl")||document.body,this.option("template.main"));t&&(this.$root.insertAdjacentHTML("beforeend",this.localize(t)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=function(){return i.$container.scrollLeft=0,!1},Object.entries({class:"fancybox__container",role:"dialog","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(t){var e;return(e=i.$container).setAttribute.apply(e,b(t))}),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),(this.$container.Fancybox=this).id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++pt,this.$container.setAttribute("id","fancybox-"+this.id));var e,t=this.options.mainClass;return t&&(e=this.$container.classList).add.apply(e,b(t.split(" "))),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(t){var e,i=[],n=w(t);try{for(n.s();!(e=n.n()).done;){var r,o,s=e.value,a=s.$trigger,l=(a&&(r=a.dataset||{},s.src=r.src||a.getAttribute("href")||s.src,s.type=r.type||s.type,!s.src)&&a instanceof HTMLImageElement&&(s.src=a.currentSrc||s.$trigger.src),s.$thumb),h=(l||!(l=(o=s.$trigger&&s.$trigger.origTarget)?o instanceof HTMLImageElement?o:o.querySelector("img"):l)&&s.$trigger&&(l=s.$trigger instanceof HTMLImageElement?s.$trigger:s.$trigger.querySelector("img")),s.$thumb=l||null,s.thumb);(h=!h&&s.$thumb?l.currentSrc||l.src:h)||"image"!==s.type||(h=s.src),s.thumb=h||null,s.caption=s.caption||"",i.push(s)}}catch(t){n.e(t)}finally{n.f()}this.items=i}},{key:"initCarousel",value:function(){var r=this;return this.Carousel=new M(this.$carousel,p(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return r.Carousel&&r.Carousel.pages&&r.Carousel.pages.length<2&&!r.options.dragToClose},lockAxis:function(){var t;if(r.Carousel)return t="x",r.options.dragToClose&&(t+="y"),t}},on:{"*":function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return r.trigger.apply(r,["Carousel.".concat(t)].concat(i))},init:function(t){return r.Carousel=t},createSlide:this.onCreateSlide}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(t,e){var i,n,r=e.caption||"";"string"==typeof(r="function"==typeof this.options.caption?this.options.caption.call(this,this,this.Carousel,e):r)&&r.length&&(i=document.createElement("div"),n="fancybox__caption_".concat(this.id,"_").concat(e.index),i.className="fancybox__caption",i.innerHTML=r,i.setAttribute("id",n),e.$caption=e.$el.appendChild(i),e.$el.classList.add("has-caption"),e.$el.setAttribute("aria-labelledby",n))}},{key:"onFocus",value:function(t){this.focus(t)}},{key:"onClick",value:function(t){if(!t.defaultPrevented&&!t.target.closest(".fancybox__content")&&!getSelection().toString().length&&!1!==this.trigger("click",t))switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}},{key:"onTouchMove",value:function(){var t=this.getSlide().Panzoom;return!t||1===t.content.scale}},{key:"onTouchEnd",value:function(t){var e=t.dragOffset.y;150<=Math.abs(e)||35<=Math.abs(e)&&t.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(t.content.y<0?"Up":"Down")),this.close()):"y"===t.lockAxis&&t.panTo({y:0})}},{key:"onTransform",value:function(t){var e;this.$backdrop&&(e=(e=Math.abs(t.content.y))<1?"":Math.max(.33,Math.min(1,1-e/t.content.fitHeight*1.5)),this.$container.style.setProperty("--fancybox-ts",e?"0s":""),this.$container.style.setProperty("--fancybox-opacity",e))}},{key:"onMousedown",value:function(){document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(t){var e,i,n;I.getInstance().id===this.id&&(document.body.classList.remove("is-using-mouse"),e=t.key,!(i=this.option("keyboard"))||t.ctrlKey||t.altKey||t.shiftKey||(n=(n=document.activeElement&&document.activeElement.classList)&&n.contains("carousel__button"),("Escape"===e||n||!t.target.isContentEditable&&-1===["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(t.target.nodeName))&&!1!==this.trigger("keydown",e,t)&&"function"==typeof this[n=i[e]]&&this[n]()))}},{key:"getSlide",value:function(){var t,e=this.Carousel;return e&&(t=null===e.page?e.option("initialPage"):e.page,(e=e.pages||[]).length)&&e[t]?e[t].slides[0]:null}},{key:"focus",value:function(t){function e(t){if(t){i.ignoreFocusChange=!0;try{t.setActive?t.setActive():I.preventScrollSupported?t.focus({preventScroll:!0}):t.focus()}catch(t){}i.ignoreFocusChange=!1}}var i=this;if(!(this.ignoreFocusChange||-1<["init","closing","customClosing","destroy"].indexOf(this.state))){var n=this.getSlide().$el;if(n){t&&t.preventDefault();for(var r,o,s=[],a=0,l=Array.from(this.$container.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])']));a<l.length;a++){var h=l[a],c=n.contains(h);c||!this.Carousel.$viewport.contains(h)?(s.push(h),void 0!==h.dataset.origTabindex&&(h.tabIndex=h.dataset.tabindex,h.removeAttribute("data-tabindex")),h.hasAttribute("autoFocus")||!r&&c?r=h:h.matches(".fancybox__button--close")&&(o=h)):(h.dataset.origTabindex=void 0===h.dataset.origTabindex?h.getAttribute("tabindex"):h.dataset.origTabindex,h.tabIndex=-1)}-1<s.indexOf(document.activeElement)?this.lastFocus=document.activeElement:t?n.contains(document.activeElement)||(this.lastFocus===s[0]?e(s[s.length-1]):e((t=s.indexOf(this.lastFocus))<s.length-2?s[t+1]:s[0]),this.lastFocus=document.activeElement):e(r||o||s[0])}}}},{key:"hideScrollbar",value:function(){var t,e,i;!Z||(t=window.innerWidth-document.documentElement.getBoundingClientRect().width,e="fancybox-style-noscroll",i=document.getElementById(e))||0<t&&((i=document.createElement("style")).id=e,i.type="text/css",i.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(t,"px;}"),document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar"))}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var t=document.getElementById("fancybox-style-noscroll");t&&t.remove()}},{key:"clearContent",value:function(t){this.Carousel.trigger("removeSlide",t),t.$content&&(t.$content.remove(),t.$content=null),t._className&&t.$el.classList.remove(t._className)}},{key:"setContent",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=t.$el;if(e instanceof HTMLElement?-1<["img","iframe","video","audio"].indexOf(e.nodeName.toLowerCase())?(i=document.createElement("div")).appendChild(e):i=e:(e=document.createRange().createContextualFragment(e),(i=document.createElement("div")).appendChild(e)),i instanceof Element)return t._className="has-".concat(n.suffix||t.type||"unknown"),r.classList.add(t._className),i.classList.add("fancybox__content"),"none"!==i.style.display&&"none"!==getComputedStyle(i).getPropertyValue("display")||(i.style.display=t.display||this.option("defaultDisplay")||"flex"),t.id&&i.setAttribute("id",t.id),t.$content=i,r.prepend(i),this.manageCloseButton(t),"loading"!==t.state&&this.revealContent(t),i;throw new Error("Element expected")}},{key:"manageCloseButton",value:function(t){var e,i=this,n=void 0===t.closeButton?this.option("closeButton"):t.closeButton;!n||"top"===n&&this.$closeButton||((e=document.createElement("button")).classList.add("carousel__button","is-close"),e.setAttribute("title",this.options.l10n.CLOSE),e.innerHTML=this.option("template.closeButton"),e.addEventListener("click",function(t){return i.close(t)}),"inside"===n?(t.$closeButton&&t.$closeButton.remove(),t.$closeButton=t.$content.appendChild(e)):this.$closeButton=this.$container.insertBefore(e,this.$container.firstChild))}},{key:"revealContent",value:function(t){var e=this,i=(this.trigger("reveal",t),t.$content.style.visibility="",!1);(i=t.error||"loading"===t.state||null!==this.Carousel.prevPage||t.index!==this.options.startIndex?i:void 0===t.showClass?this.option("showClass"):t.showClass)?(t.state="animating",this.animateCSS(t.$content,i,function(){e.done(t)})):this.done(t)}},{key:"animateCSS",value:function(i,n,r){i&&i.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),i&&n?(i.addEventListener("animationend",function t(e){e.currentTarget===this&&(i.removeEventListener("animationend",t),r&&r(),i.classList.remove(n))}),i.classList.add(n)):"function"==typeof r&&r()}},{key:"done",value:function(t){t.state="done",this.trigger("done",t);var e=this.getSlide();e&&t.index===e.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(t,e){t.error=e,this.hideLoading(t),this.clearContent(t);var i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(e||"<p>{{ERROR}}</p>"),this.setContent(t,i,{suffix:"error"})}},{key:"showLoading",value:function(t){var e=this,i=(t.state="loading",t.$el.classList.add("is-loading"),t.$el.querySelector(".fancybox__spinner"));i||((i=document.createElement("div")).classList.add("fancybox__spinner"),i.innerHTML=this.option("template.spinner"),i.addEventListener("click",function(){e.Carousel.Panzoom.velocity||e.close()}),t.$el.prepend(i))}},{key:"hideLoading",value:function(t){var e=t.$el&&t.$el.querySelector(".fancybox__spinner");e&&(e.remove(),t.$el.classList.remove("is-loading")),"loading"===t.state&&(this.trigger("load",t),t.state="ready")}},{key:"next",value:function(){var t=this.Carousel;t&&1<t.pages.length&&t.slideNext()}},{key:"prev",value:function(){var t=this.Carousel;t&&1<t.pages.length&&t.slidePrev()}},{key:"jumpTo",value:function(){var t;this.Carousel&&(t=this.Carousel).slideTo.apply(t,arguments)}},{key:"close",value:function(t){var e,i=this;t&&t.preventDefault(),["closing","customClosing","destroy"].includes(this.state)||!1===this.trigger("shouldClose",t)||(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",t),"destroy"===this.state)||(this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing"),e=this.getSlide(),this.Carousel.slides.forEach(function(t){t.$content&&t.index!==e.index&&i.Carousel.trigger("removeSlide",t)}),"closing"===this.state&&(t=void 0===e.hideClass?this.option("hideClass"):e.hideClass,this.animateCSS(e.$content,t,function(){i.destroy()},!0)))}},{key:"destroy",value:function(){this.state="destroy",this.trigger("destroy");var t,e=this.option("placeFocusBack")?this.getSlide().$trigger:null,e=(this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e&&(I.preventScrollSupported?e.focus({preventScroll:!0}):(t=document.body.scrollTop,e.focus(),document.body.scrollTop=t)),delete O[this.id],I.getInstance());e?e.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}}],[{key:"show",value:function(t){return new I(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"fromEvent",value:function(i){var n,r,o,t,e,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!i.defaultPrevented&&!(i.button&&0!==i.button||i.ctrlKey||i.metaKey||i.shiftKey))return(t=(o=i.target).matches("[data-fancybox-trigger]")||(o=o.closest("[data-fancybox-trigger]"))?o&&o.dataset&&o.dataset.fancyboxTrigger:t)&&(t=document.querySelectorAll('[data-fancybox="'.concat(t,'"]')),e=parseInt(o.dataset.fancyboxIndex,10)||0,o=t.length?t[e]:o),o=o||i.target,Array.from(I.openers.keys()).reverse().some(function(t){r=o;var e=!1;try{r instanceof Element&&("string"==typeof t||t instanceof String)&&(e=r.matches(t)||(r=r.closest(t)))}catch(t){}return!!e&&(i.preventDefault(),n=t,!0)}),t=!1,n&&(s.event=i,(s.target=r).origTarget=i.target,t=I.fromOpener(n,s),e=I.getInstance())&&"ready"===e.state&&i.detail&&document.body.classList.add("is-using-mouse"),t}},{key:"fromOpener",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[],n=e.startIndex||0,r=e.target||null,o=void 0===(e=p({},e,I.openers.get(t))).groupAttr?"data-fancybox":e.groupAttr,s=o&&r&&r.getAttribute("".concat(o)),a=void 0!==e.groupAll&&e.groupAll;return a||s?(i=[].slice.call(document.querySelectorAll(t)),a||(i=i.filter(function(t){return t.getAttribute("".concat(o))===s}))):i=[r],!(!i.length||(t=I.getInstance())&&-1<i.indexOf(t.options.$trigger))&&(n=r?i.indexOf(r):n,new I(i=i.map(function(t){for(var e=["false","0","no","null","undefined"],i=["true","1","yes"],n=Object.assign({},t.dataset),r={},o=0,s=Object.entries(n);o<s.length;o++){var a=h(s[o],2),l=a[0],a=a[1];if("fancybox"!==l)if("width"===l||"height"===l)r["_".concat(l)]=a;else if("string"==typeof a||a instanceof String)if(-1<e.indexOf(a))r[l]=!1;else if(-1<i.indexOf(r[l]))r[l]=!0;else try{r[l]=JSON.parse(a)}catch(t){r[l]=a}else r[l]=a}return t instanceof Element&&(r.$trigger=t),r}),p({},e,{startIndex:n,$trigger:r})))}},{key:"bind",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function i(){document.body.addEventListener("click",I.fromEvent,!1)}Z&&(I.openers.size||(/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)),I.openers.set(t,e))}},{key:"unbind",value:function(t){I.openers.delete(t),I.openers.size||I.destroy()}},{key:"destroy",value:function(){for(var t;t=I.getInstance();)t.destroy();I.openers=new Map,document.body.removeEventListener("click",I.fromEvent,!1)}},{key:"getInstance",value:function(t){return t?O[t]:Object.values(O).reverse().find(function(t){return!["closing","customClosing","destroy"].includes(t.state)&&t})||null}},{key:"close",value:function(){for(var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=null;e=I.getInstance();)if(e.close(),!t)return}}]),I);function I(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return a(this,I),(e=dt.call(this,p(!0,{},ft,e))).bindHandlers(),e.state="init",e.setItems(t),e.attachPlugins(I.Plugins),e.trigger("init"),!0===e.option("hideScrollbar")&&e.hideScrollbar(),e.initLayout(),e.initCarousel(),e.attachEvents(),O[e.id]=s(e),e.trigger("prepare"),e.state="ready",e.trigger("ready"),e.$container.setAttribute("aria-hidden","false"),e.option("trapFocus")&&e.focus(),e}D.version="4.0.4",D.defaults=ft,D.openers=new Map,D.Plugins=lt,D.bind("[data-fancybox]");for(var gt=0,mt=Object.entries(D.Plugins||{});gt<mt.length;gt++){var $=h(mt[gt],2),$=($[0],$[1]);"function"==typeof $.create&&$.create(D)}t.Carousel=M,t.Fancybox=D,t.Panzoom=_}),(i=>{"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e),e}:i(jQuery)})(function(e){(c=e&&e.fn&&e.fn.select2&&e.fn.select2.amd?e.fn.select2.amd:c)&&c.requirejs||(c?t=c:c={},g={},m={},v={},y={},i=Object.prototype.hasOwnProperty,n=[].slice,b=/\.js$/,f=function(t,e){var i,n,r=h(t),o=r[0],e=e[1];return t=r[1],o&&(i=w(o=l(o,e))),o?t=i&&i.normalize?i.normalize(t,(n=e,function(t){return l(t,n)})):l(t,e):(o=(r=h(t=l(t,e)))[0],t=r[1],o&&(i=w(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},p={require:function(t){return _(t)},exports:function(t){var e=g[t];return void 0!==e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:(e=t,function(){return v&&v.config&&v.config[e]||{}})};var e}},o=function(t,e,i,n){var r,o,s,a,l,h=[],c=typeof i,u=k(n=n||t);if("undefined"==c||"function"==c){for(e=!e.length&&i.length?["require","exports","module"]:e,a=0;a<e.length;a+=1)if("require"===(o=(s=f(e[a],u)).f))h[a]=p.require(t);else if("exports"===o)h[a]=p.exports(t),l=!0;else if("module"===o)r=h[a]=p.module(t);else if(x(g,o)||x(m,o)||x(y,o))h[a]=w(o);else{if(!s.p)throw new Error(t+" missing "+o);s.p.load(s.n,_(n,!0),(e=>function(t){g[e]=t})(o),{}),h[a]=g[o]}c=i?i.apply(g[t],h):void 0,t&&(r&&r.exports!==d&&r.exports!==g[t]?g[t]=r.exports:c===d&&l||(g[t]=c))}else t&&(g[t]=i)},r=t=s=function(t,e,i,n,r){if("string"==typeof t)return p[t]?p[t](e):w(f(t,k(e)).f);if(!t.splice){if((v=t).deps&&s(v.deps,v.callback),!e)return;e.splice?(t=e,e=i,i=null):t=d}return e=e||function(){},"function"==typeof i&&(i=n,n=r),n?o(d,t,e,i):setTimeout(function(){o(d,t,e,i)},4),s},s.config=function(t){return s(t)},r._defined=g,(a=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),x(g,t)||x(m,t)||(m[t]=[t,e,i])}).amd={jQuery:!0},c.requirejs=r,c.require=t,c.define=a),c.define("almond",function(){}),c.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),c.define("select2/utils",["jquery"],function(o){var n={};function h(t){var e,i=t.prototype,n=[];for(e in i)"function"==typeof i[e]&&"constructor"!==e&&n.push(e);return n}n.Extend=function(t,e){var i,n={}.hasOwnProperty;function r(){this.constructor=t}for(i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n.Decorate=function(n,r){var t=h(r),e=h(n);function o(){var t=Array.prototype.unshift,e=r.prototype.constructor.length,i=n.prototype.constructor;0<e&&(t.call(arguments,n.prototype.constructor),i=r.prototype.constructor),i.apply(this,arguments)}r.displayName=n.displayName,o.prototype=new function(){this.constructor=o};for(var i=0;i<e.length;i++){var s=e[i];o.prototype[s]=n.prototype[s]}for(var a=0;a<t.length;a++){var l=t[a];o.prototype[l]=(t=>{var e=function(){},i=(t in o.prototype&&(e=o.prototype[t]),r.prototype[t]);return function(){return Array.prototype.unshift.call(arguments,e),i.apply(this,arguments)}})(l)}return o};function t(){this.listeners={}}t.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},0===(i=null==i?[]:i).length&&i.push({}),(i[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},n.Observable=t,n.generateChars=function(t){for(var e="",i=0;i<t;i++)e+=Math.floor(36*Math.random()).toString(36);return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var o=i[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in n||(n[o]={}),r==i.length-1&&(n[o]=t[e]),n=n[o]}delete t[e]}}return t},n.hasScroll=function(t,e){var i=o(e),n=e.style.overflowX,r=e.style.overflowY;return(n!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===n||"scroll"===r||i.innerHeight()<e.scrollHeight||i.innerWidth()<e.scrollWidth)},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.__cache={};var i=0;return n.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(e=t.id?"select2-data-"+t.id:"select2-data-"+(++i).toString()+"-"+n.generateChars(4),t.setAttribute("data-select2-id",e)),e},n.StoreData=function(t,e,i){t=n.GetUniqueElementId(t);n.__cache[t]||(n.__cache[t]={}),n.__cache[t][e]=i},n.GetData=function(t,e){var i=n.GetUniqueElementId(t);return e?n.__cache[i]&&null!=n.__cache[i][e]?n.__cache[i][e]:o(t).data(e):n.__cache[i]},n.RemoveData=function(t){var e=n.GetUniqueElementId(t);null!=n.__cache[e]&&delete n.__cache[e],t.removeAttribute("data-select2-id")},n.copyNonInternalCssClasses=function(t,e){var i=(i=t.getAttribute("class").trim().split(/\s+/)).filter(function(t){return 0===t.indexOf("select2-")}),e=(e=e.getAttribute("class").trim().split(/\s+/)).filter(function(t){return 0!==t.indexOf("select2-")}),i=i.concat(e);t.setAttribute("class",i.join(" "))},n}),c.define("select2/results",["jquery","./utils"],function(c,u){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return u.Extend(n,u.Observable),n.prototype.render=function(){var t=c('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup"),i=(this.clear(),this.hideLoading(),c('<li role="alert" aria-live="assertive" class="select2-results__option"></li>')),n=this.options.get("translations").get(t.message);i.append(e(n(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],n=this.option(n);e.push(n)}this.$results.append(e)}},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option--selectable"),e=t.filter(".select2-results__option--selected");(0<e.length?e:t).first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(t){var n=t.map(function(t){return t.id.toString()});e.$results.find(".select2-results__option--selectable").each(function(){var t=c(this),e=u.GetData(this,"data"),i=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<n.indexOf(i)?(this.classList.add("select2-results__option--selected"),t.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),t.attr("aria-selected","false"))})})},n.prototype.showLoading=function(t){this.hideLoading();t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},t=this.option(t);t.className+=" loading-results",this.$results.prepend(t)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var e,i=document.createElement("li"),n=(i.classList.add("select2-results__option"),i.classList.add("select2-results__option--selectable"),{role:"option"}),r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(e in(null!=t.element&&r.call(t.element,":disabled")||null==t.element&&t.disabled)&&(n["aria-disabled"]="true",i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--disabled")),null==t.id&&i.classList.remove("select2-results__option--selectable"),null!=t._resultId&&(i.id=t._resultId),t.title&&(i.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--group")),n)i.setAttribute(e,n[e]);if(t.children){for(var r=c(i),o=document.createElement("strong"),s=(o.className="select2-results__group",this.template(t,o),[]),a=0;a<t.children.length;a++){var l=t.children[a],l=this.option(l);s.push(l)}var h=c("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(s),r.append(o),r.append(h)}else this.template(t,i);return u.StoreData(i,"data",t),i},n.prototype.bind=function(e,t){var r=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){r.clear(),r.append(t.data),e.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),e.on("results:append",function(t){r.append(t.data),e.isOpen()&&r.setClasses()}),e.on("query",function(t){r.hideMessages(),r.showLoading(t)}),e.on("select",function(){e.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect"))&&r.highlightFirstItem()}),e.on("unselect",function(){e.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect"))&&r.highlightFirstItem()}),e.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),e.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=r.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t,e=r.getHighlightedResults();0!==e.length&&(t=u.GetData(e[0],"data"),e.hasClass("select2-results__option--selected")?r.trigger("close",{}):r.trigger("select",{data:t}))}),e.on("results:previous",function(){var t,e=r.getHighlightedResults(),i=r.$results.find(".select2-results__option--selectable"),n=i.index(e);n<=0||(n=n-1,0===e.length&&(n=0),(e=i.eq(n)).trigger("mouseenter"),i=r.$results.offset().top,e=e.offset().top,t=r.$results.scrollTop()+(e-i),0===n?r.$results.scrollTop(0):e-i<0&&r.$results.scrollTop(t))}),e.on("results:next",function(){var t,e,i=r.getHighlightedResults(),n=r.$results.find(".select2-results__option--selectable"),i=n.index(i)+1;i>=n.length||((n=n.eq(i)).trigger("mouseenter"),t=r.$results.offset().top+r.$results.outerHeight(!1),n=n.offset().top+n.outerHeight(!1),e=r.$results.scrollTop()+n-t,0===i?r.$results.scrollTop(0):t<n&&r.$results.scrollTop(e))}),e.on("results:focus",function(t){t.element[0].classList.add("select2-results__option--highlighted"),t.element[0].setAttribute("aria-selected","true")}),e.on("results:message",function(t){r.displayMessage(t)}),c.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-e+t.deltaY,e=0<t.deltaY&&e-t.deltaY<=0,i=t.deltaY<0&&i<=r.$results.height();e?(r.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):i&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(t){var e=c(this),i=u.GetData(this,"data");e.hasClass("select2-results__option--selected")?r.options.get("multiple")?r.trigger("unselect",{originalEvent:t,data:i}):r.trigger("close",{}):r.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(t){var e=u.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),r.trigger("results:focus",{data:e,element:c(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t,e,i,n,r=this.getHighlightedResults();0!==r.length&&(t=this.$results.find(".select2-results__option--selectable").index(r),e=this.$results.offset().top,n=r.offset().top,i=this.$results.scrollTop()+(n-e),n=n-e,i-=2*r.outerHeight(!1),t<=2?this.$results.scrollTop(0):(n>this.$results.outerHeight()||n<0)&&this.$results.scrollTop(i))},n.prototype.template=function(t,e){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),i=i(t,e);null==i?e.style.display="none":"string"==typeof i?e.innerHTML=n(i):c(e).append(i)},n}),c.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),c.define("select2/selection/base",["jquery","../utils","../keys"],function(i,n,r){function o(t,e){this.$element=t,this.options=e,o.__super__.constructor.call(this)}return n.Extend(o,n.Observable),o.prototype.render=function(){var t=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=n.GetData(this.$element[0],"old-tabindex")?this._tabindex=n.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),t.attr("aria-disabled","false"),this.$selection=t},o.prototype.bind=function(t,e){var i=this,n=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===r.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),t.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||i.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},o.prototype._attachCloseHandler=function(t){i(document.body).on("mousedown.select2."+t.id,function(t){var e=i(t.target).closest(".select2");i(".select2.select2-container--open").each(function(){this!=e[0]&&n.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(t){i(document.body).off("mousedown.select2."+t.id)},o.prototype.position=function(t,e){e.find(".selection").append(t)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),c.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t[0].classList.add("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(e,t){var i=this,n=(r.__super__.bind.apply(this,arguments),e.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||i.$selection.trigger("focus")})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){var e,i;0===t.length?this.clear():(t=t[0],e=this.$selection.find(".select2-selection__rendered"),i=this.display(t,e),e.empty().append(i),(i=t.title||t.text)?e.attr("title",i):e.removeAttr("title"))},r}),c.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,h){function r(t,e){r.__super__.constructor.apply(this,arguments)}return h.Extend(r,t),r.prototype.render=function(){var t=r.__super__.render.call(this);return t[0].classList.add("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},r.prototype.bind=function(t,e){var i=this,t=(r.__super__.bind.apply(this,arguments),t.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",t),this.$selection.on("click",function(t){i.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var e;i.isDisabled()||(e=n(this).parent(),e=h.GetData(e[0],"data"),i.trigger("unselect",{originalEvent:t,data:e}))}),this.$selection.on("keydown",".select2-selection__choice__remove",function(t){i.isDisabled()||t.stopPropagation()})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},r.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",n=0;n<t.length;n++){var r=t[n],o=this.selectionContainer(),s=this.display(r,o),a=i+h.generateChars(4)+"-",s=(r.id?a+=r.id:a+=h.generateChars(4),o.find(".select2-selection__choice__display").append(s).attr("id",a),r.title||r.text),s=(s&&o.attr("title",s),this.options.get("translations").get("removeItem")),l=o.find(".select2-selection__choice__remove");l.attr("title",s()),l.attr("aria-label",s()),l.attr("aria-describedby",a),h.StoreData(o[0],"data",r),e.push(o)}this.$selection.find(".select2-selection__rendered").append(e)}},r}),c.define("select2/selection/placeholder",[],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return e="string"==typeof e?{id:"",text:e}:e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i[0].classList.add("select2-selection__placeholder"),i[0].classList.remove("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||i)return t.call(this,e);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),c.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(r,n,a){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var n=a.GetData(i[0],"data"),r=this.$element.val(),o=(this.$element.val(this.placeholder.id),{data:n});if(this.trigger("clear",o),o.prevented)this.$element.val(r);else{for(var s=0;s<n.length;s++)if(o={data:n[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},t.prototype._handleKeyboardClear=function(t,e,i){i.isOpen()||e.which!=n.DELETE&&e.which!=n.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){var i,n;t.call(this,e),this.$selection.find(".select2-selection__clear").remove(),0<this.$selection.find(".select2-selection__placeholder").length||0===e.length||(t=this.$selection.find(".select2-selection__rendered").attr("id"),i=this.options.get("translations").get("removeAllItems"),(n=r('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",i()),n.attr("aria-label",i()),n.attr("aria-describedby",t),a.StoreData(n[0],"data",e),this.$selection.prepend(n))},t}),c.define("select2/selection/search",["jquery","../utils","../keys"],function(i,a,l){function t(t,e,i){t.call(this,e,i)}return t.prototype.render=function(t){var e=i('<span class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>'),e=(this.$searchContainer=e,this.$search=e.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),t.call(this));return this._transferTabIndex(),e.append(this.$searchContainer),e},t.prototype.bind=function(t,e,i){var n=this,r=e.id+"-results",o=e.id+"-container",t=(t.call(this,e,i),n.$search.attr("aria-describedby",o),e.on("open",function(){n.$search.attr("aria-controls",r),n.$search.trigger("focus")}),e.on("close",function(){n.$search.val(""),n.resizeSearch(),n.$search.removeAttr("aria-controls"),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),e.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),e.on("disable",function(){n.$search.prop("disabled",!0)}),e.on("focus",function(t){n.$search.trigger("focus")}),e.on("results:focus",function(t){t.data._resultId?n.$search.attr("aria-activedescendant",t.data._resultId):n.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){n.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){n._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){var e;t.stopPropagation(),n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented(),t.which===l.BACKSPACE&&""===n.$search.val()&&0<(e=n.$selection.find(".select2-selection__choice").last()).length&&(e=a.GetData(e[0],"data"),n.searchRemoveChoice(e),t.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(t){n.$search.val()&&t.stopPropagation()}),document.documentMode),s=t&&t<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){s?n.$selection.off("input.search input.searchcheck"):n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){var e;s&&"input"===t.type?n.$selection.off("input.search input.searchcheck"):(e=t.which)!=l.SHIFT&&e!=l.CTRL&&e!=l.ALT&&e!=l.TAB&&n.handleSearch(t)})},t.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},t.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.resizeSearch(),i&&this.$search.trigger("focus")},t.prototype.handleSearch=function(){var t;this.resizeSearch(),this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="100%";""===this.$search.attr("placeholder")&&(t=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",t)},t}),c.define("select2/selection/selectionCss",["../utils"],function(i){function t(){}return t.prototype.render=function(t){var t=t.call(this),e=this.options.get("selectionCssClass")||"";return-1!==e.indexOf(":all:")&&(e=e.replace(":all:",""),i.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},t}),c.define("select2/selection/eventRelay",["jquery"],function(s){function t(){}return t.prototype.bind=function(t,e,i){var n=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];t.call(this,e,i),e.on("*",function(t,e){var i;-1!==r.indexOf(t)&&(i=s.Event("select2:"+t,{params:e=e||{}}),n.$element.trigger(i),-1!==o.indexOf(t))&&(e.prevented=i.isDefaultPrevented())})},t}),c.define("select2/translation",["jquery","require"],function(e,i){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(t){var e;return t in n._cache||(e=i(t),n._cache[t]=e),new n(n._cache[t])},n}),c.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),c.define("select2/data/base",["../utils"],function(i){function n(t,e){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){t=t.id+"-result-";return t+=i.generateChars(4),null!=e.id?t+="-"+e.id.toString():t+="-"+i.generateChars(4),t},n}),c.define("select2/data/select",["./base","../utils","jquery"],function(t,a,l){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return a.Extend(i,t),i.prototype.current=function(t){var e=this;t(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(t){return e.item(l(t))}))},i.prototype.select=function(r){var t,o=this;r.selected=!0,null!=r.element&&"option"===r.element.tagName.toLowerCase()?(r.element.selected=!0,this.$element.trigger("input").trigger("change")):this.$element.prop("multiple")?this.current(function(t){var e=[];(r=[r]).push.apply(r,t);for(var i=0;i<r.length;i++){var n=r[i].id;-1===e.indexOf(n)&&e.push(n)}o.$element.val(e),o.$element.trigger("input").trigger("change")}):(t=r.id,this.$element.val(t),this.$element.trigger("input").trigger("change"))},i.prototype.unselect=function(r){var o=this;this.$element.prop("multiple")&&(r.selected=!1,null!=r.element&&"option"===r.element.tagName.toLowerCase()?(r.element.selected=!1,this.$element.trigger("input").trigger("change")):this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].id;n!==r.id&&-1===e.indexOf(n)&&e.push(n)}o.$element.val(e),o.$element.trigger("input").trigger("change")}))},i.prototype.bind=function(t,e){var i=this;(this.container=t).on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){a.RemoveData(this)})},i.prototype.query=function(e,t){var i=[],n=this;this.$element.children().each(function(){var t;"option"!==this.tagName.toLowerCase()&&"optgroup"!==this.tagName.toLowerCase()||(t=l(this),t=n.item(t),null!==(t=n.matches(e,t))&&i.push(t))}),t({results:i})},i.prototype.addOptions=function(t){this.$element.append(t)},i.prototype.option=function(t){t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var e,t=this._normalizeItem(t);return t.element=e,a.StoreData(e,"data",t),l(e)},i.prototype.item=function(t){var e={};if(null==(e=a.GetData(t[0],"data"))){var i=t[0];if("option"===i.tagName.toLowerCase())e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if("optgroup"===i.tagName.toLowerCase()){for(var e={text:t.prop("label"),children:[],title:t.prop("title")},n=t.children("option"),r=[],o=0;o<n.length;o++){var s=l(n[o]),s=this.item(s);r.push(s)}e.children=r}(e=this._normalizeItem(e)).element=t[0],a.StoreData(t[0],"data",e)}return e},i.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=l.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),l.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),c.define("select2/data/array",["./select","../utils","jquery"],function(t,e,h){function n(t,e){this._dataToConvert=e.get("data")||[],n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype.bind=function(t,e){n.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(i){var t;0===this.$element.find("option").filter(function(t,e){return e.value==i.id.toString()}).length&&(t=this.option(i),this.addOptions(t)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(t){var e=this,i=this.$element.find("option"),n=i.map(function(){return e.item(h(this)).id}).get(),r=[];for(var o=0;o<t.length;o++){var s,a,l=this._normalizeItem(t[o]);0<=n.indexOf(l.id)?(s=i.filter((t=>function(){return h(this).val()==t.id})(l)),a=this.item(s),a=h.extend(!0,{},l,a),a=this.option(a),s.replaceWith(a)):(s=this.option(l),l.children&&(a=this.convertToOptions(l.children),s.append(a)),r.push(s))}return r},n}),c.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,o){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){return o.extend({},{data:function(t){return o.extend({},t,{q:t.term})},transport:function(t,e,i){t=o.ajax(t);return t.then(e),t.fail(i),t}},t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(e,i){var n=this,r=(null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null),o.extend({type:"GET"},this.ajaxOptions));function t(){var t=r.transport(r,function(t){t=n.processResults(t,e);n.options.get("debug")&&window.console&&console.error&&(t&&t.results&&Array.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(t)},function(){"status"in t&&(0===t.status||"0"===t.status)||n.trigger("results:message",{message:"errorLoading"})});n._request=t}"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},i}),c.define("select2/data/tags",["jquery"],function(e){function t(t,e,i){var n=i.get("tags"),r=i.get("createTag"),r=(void 0!==r&&(this.createTag=r),i.get("insertTag"));if(void 0!==r&&(this.insertTag=r),t.call(this,e,i),Array.isArray(n))for(var o=0;o<n.length;o++){var s=n[o],s=this._normalizeItem(s),s=this.option(s);this.$element.append(s)}}return t.prototype.query=function(t,h,c){var u=this;this._removeOldTags(),null==h.term||null!=h.page?t.call(this,h,c):t.call(this,h,function t(e,i){for(var n=e.results,r=0;r<n.length;r++){var o=n[r],s=null!=o.children&&!t({results:o.children},!0);if((o.text||"").toUpperCase()===(h.term||"").toUpperCase()||s)return!i&&(e.data=n,void c(e))}if(i)return!0;var a,l=u.createTag(h);null!=l&&((a=u.option(l)).attr("data-select2-tag",!0),u.addOptions([a]),u.insertTag(n,l)),e.results=n,c(e)})},t.prototype.createTag=function(t,e){return null==e.term||""===(e=e.term.trim())?null:{id:e,text:e}},t.prototype.insertTag=function(t,e,i){e.unshift(i)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),c.define("select2/data/tokenizer",["jquery"],function(h){function t(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,e,i){var n=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,function(t){var e=n._normalizeItem(t);n.$element.find("option").filter(function(){return h(this).val()===e.id}).length||((t=n.option(e)).attr("data-select2-tag",!0),n._removeOldTags(),n.addOptions([t])),n.trigger("select",{data:e})});r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),e.term=r.term),t.call(this,e,i)},t.prototype.tokenizer=function(t,e,i,n){for(var r=i.get("tokenSeparators")||[],o=e.term,s=0,a=this.createTag||function(t){return{id:t.term,text:t.term}};s<o.length;){var l=o[s];-1===r.indexOf(l)?s++:(l=o.substr(0,s),null==(l=a(h.extend({},e,{term:l})))?s++:(n(l),o=o.substr(s+1)||"",s=0))}return{term:o}},t}),c.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),c.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),c.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(){n._checkIfMaximumSelected()})},t.prototype.query=function(t,e,i){var n=this;this._checkIfMaximumSelected(function(){t.call(n,e,i)})},t.prototype._checkIfMaximumSelected=function(t,e){var i=this;this.current(function(t){t=null!=t?t.length:0;0<i.maximumSelectionLength&&t>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):e&&e()})},t}),c.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),c.define("select2/dropdown/search",["jquery"],function(o){function t(){}return t.prototype.render=function(t){var t=t.call(this),e=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=e,this.$search=e.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),t.prepend(e),t},t.prototype.bind=function(t,e,i){var n=this,r=e.id+"-results";t.call(this,e,i),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.attr("aria-controls",r),n.$search.trigger("focus"),window.setTimeout(function(){n.$search.trigger("focus")},0)}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.removeAttr("aria-controls"),n.$search.removeAttr("aria-activedescendant"),n.$search.val(""),n.$search.trigger("blur")}),e.on("focus",function(){e.isOpen()||n.$search.trigger("focus")}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(n.showSearch(t)?n.$searchContainer[0].classList.remove("select2-search--hide"):n.$searchContainer[0].classList.add("select2-search--hide"))}),e.on("results:focus",function(t){t.data._resultId?n.$search.attr("aria-activedescendant",t.data._resultId):n.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(t){var e;this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},t.prototype.showSearch=function(t,e){return!0},t}),c.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return e="string"==typeof e?{id:"",text:e}:e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;0<=n;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t}),c.define("select2/dropdown/infiniteScroll",["jquery"],function(i){function t(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=i.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&(t=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=t+50)&&this.loadMore()},t.prototype.loadMore=function(){this.loading=!0;var t=i.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=i('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),c.define("select2/dropdown/attachBody",["jquery","../utils"],function(c,s){function t(t,e,i){this.$dropdownParent=c(i.get("dropdownParent")||document.body),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),n._bindContainerResultHandlers(e)}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e[0].classList.remove("select2"),e[0].classList.add("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},t.prototype.render=function(t){var e=c("<span></span>"),t=t.call(this);return e.append(t),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._bindContainerResultHandlers=function(t,e){var i;this._containerResultsHandlersBound||(i=this,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:message",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("select",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("unselect",function(){i._positionDropdown(),i._resizeDropdown()}),this._containerResultsHandlersBound=!0)},t.prototype._attachPositioningHandler=function(t,e){var i=this,n="scroll.select2."+e.id,r="resize.select2."+e.id,e="orientationchange.select2."+e.id,o=this.$container.parents().filter(s.hasScroll);o.each(function(){s.StoreData(this,"select2-scroll-position",{x:c(this).scrollLeft(),y:c(this).scrollTop()})}),o.on(n,function(t){var e=s.GetData(this,"select2-scroll-position");c(this).scrollTop(e.y)}),c(window).on(n+" "+r+" "+e,function(t){i._positionDropdown(),i._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var i="scroll.select2."+e.id,n="resize.select2."+e.id,e="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(i),c(window).off(i+" "+n+" "+e)},t.prototype._positionDropdown=function(){var t=c(window),e=this.$dropdown[0].classList.contains("select2-dropdown--above"),i=this.$dropdown[0].classList.contains("select2-dropdown--below"),n=null,r=this.$container.offset(),o=(r.bottom=r.top+this.$container.outerHeight(!1),{height:this.$container.outerHeight(!1)});o.top=r.top,o.bottom=r.top+o.height;var s=this.$dropdown.outerHeight(!1),a=t.scrollTop(),t=t.scrollTop()+t.height(),a=a<r.top-s,t=t>r.bottom+s,r={left:r.left,top:o.bottom},l=this.$dropdownParent,h=("static"===l.css("position")&&(l=l.offsetParent()),{top:0,left:0});(c.contains(document.body,l[0])||l[0].isConnected)&&(h=l.offset()),r.top-=h.top,r.left-=h.left,e||i||(n="below"),t||!a||e?!a&&t&&e&&(n="below"):n="above",("above"==n||e&&"below"!==n)&&(r.top=o.top-h.top-s),null!=n&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+n),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+n)),this.$dropdownContainer.css(r)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),c.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.children?i+=t(r.children):i++}return i}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),c.define("select2/dropdown/selectOnClose",["../utils"],function(i){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){e=e.originalSelect2Event;if("select"===e._type||"unselect"===e._type)return}var e=this.getHighlightedResults();e.length<1||null!=(e=i.GetData(e[0],"data")).element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})},t}),c.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),c.define("select2/dropdown/dropdownCss",["../utils"],function(i){function t(){}return t.prototype.render=function(t){var t=t.call(this),e=this.options.get("dropdownCssClass")||"";return-1!==e.indexOf(":all:")&&(e=e.replace(":all:",""),i.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},t}),c.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var t=t.input.length-t.maximum,e="Please delete "+t+" character";return 1!=t&&(e+="s"),e},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"}}}),c.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./i18n/en"],function(l,o,s,a,h,c,u,d,f,p,g,e,m,v,y,b,x,_,w,k,S,A,E,C,M,T,P,L,O,t){function i(){this.reset()}return i.prototype.apply=function(t){null==(t=l.extend(!0,{},this.defaults,t)).dataAdapter&&(null!=t.ajax?t.dataAdapter=y:null!=t.data?t.dataAdapter=v:t.dataAdapter=m,0<t.minimumInputLength&&(t.dataAdapter=p.Decorate(t.dataAdapter,_)),0<t.maximumInputLength&&(t.dataAdapter=p.Decorate(t.dataAdapter,w)),0<t.maximumSelectionLength&&(t.dataAdapter=p.Decorate(t.dataAdapter,k)),t.tags&&(t.dataAdapter=p.Decorate(t.dataAdapter,b)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=p.Decorate(t.dataAdapter,x))),null==t.resultsAdapter&&(t.resultsAdapter=o,null!=t.ajax&&(t.resultsAdapter=p.Decorate(t.resultsAdapter,C)),null!=t.placeholder&&(t.resultsAdapter=p.Decorate(t.resultsAdapter,E)),t.selectOnClose)&&(t.resultsAdapter=p.Decorate(t.resultsAdapter,P)),null==t.dropdownAdapter&&(t.multiple?t.dropdownAdapter=S:(e=p.Decorate(S,A),t.dropdownAdapter=e),0!==t.minimumResultsForSearch&&(t.dropdownAdapter=p.Decorate(t.dropdownAdapter,T)),t.closeOnSelect&&(t.dropdownAdapter=p.Decorate(t.dropdownAdapter,L)),null!=t.dropdownCssClass&&(t.dropdownAdapter=p.Decorate(t.dropdownAdapter,O)),t.dropdownAdapter=p.Decorate(t.dropdownAdapter,M)),null==t.selectionAdapter&&(t.multiple?t.selectionAdapter=a:t.selectionAdapter=s,null!=t.placeholder&&(t.selectionAdapter=p.Decorate(t.selectionAdapter,h)),t.allowClear&&(t.selectionAdapter=p.Decorate(t.selectionAdapter,c)),t.multiple&&(t.selectionAdapter=p.Decorate(t.selectionAdapter,u)),null!=t.selectionCssClass&&(t.selectionAdapter=p.Decorate(t.selectionAdapter,d)),t.selectionAdapter=p.Decorate(t.selectionAdapter,f)),t.language=this._resolveLanguage(t.language),t.language.push("en");for(var e,i=[],n=0;n<t.language.length;n++){var r=t.language[n];-1===i.indexOf(r)&&i.push(r)}return t.language=i,t.translations=this._processTranslations(t.language,t.debug),t},i.prototype.reset=function(){function a(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:p.escapeMarkup,language:{},matcher:function t(e,i){if(null==e.term||""===e.term.trim())return i;if(i.children&&0<i.children.length){for(var n=l.extend(!0,{},i),r=i.children.length-1;0<=r;r--)null==t(e,i.children[r])&&n.children.splice(r,1);return 0<n.children.length?n:t(e,n)}var o=a(i.text).toUpperCase(),s=a(e.term).toUpperCase();return-1<o.indexOf(s)?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},i.prototype.applyFromElement=function(t,e){var i=t.language,n=this.defaults.language,r=e.prop("lang"),e=e.closest("[lang]").prop("lang"),r=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(e));return t.language=r,t},i.prototype._resolveLanguage=function(t){if(!t)return[];if(l.isEmptyObject(t))return[];if(l.isPlainObject(t))return[t];for(var e,i=Array.isArray(t)?t:[t],n=[],r=0;r<i.length;r++)n.push(i[r]),"string"==typeof i[r]&&0<i[r].indexOf("-")&&(e=i[r].split("-")[0],n.push(e));return n},i.prototype._processTranslations=function(t,e){for(var i=new g,n=0;n<t.length;n++){var r=new g,o=t[n];if("string"==typeof o)try{r=g.loadPath(o)}catch(t){try{o=this.defaults.amdLanguageBase+o,r=g.loadPath(o)}catch(t){e&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else r=l.isPlainObject(o)?new g(o):o;i.extend(r)}return i},i.prototype.set=function(t,e){var i={},t=(i[l.camelCase(t)]=e,p._convertData(i));l.extend(!0,this.defaults,t)},new i}),c.define("select2/options",["jquery","./defaults","./utils"],function(h,i,c){function t(t,e){this.options=t,null!=e&&this.fromElement(e),null!=e&&(this.options=i.applyFromElement(this.options,e)),this.options=i.apply(this.options)}return t.prototype.fromElement=function(t){var e=["select2"],i=(null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.autocomplete&&t.prop("autocomplete")&&(this.options.autocomplete=t.prop("autocomplete")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),c.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),c.StoreData(t[0],"data",c.GetData(t[0],"select2Tags")),c.StoreData(t[0],"tags",!0)),c.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",c.GetData(t[0],"ajaxUrl")),c.StoreData(t[0],"ajax-Url",c.GetData(t[0],"ajaxUrl"))),{});function n(t,e){return e.toUpperCase()}for(var r=0;r<t[0].attributes.length;r++){var o,s=t[0].attributes[r].name;"data-"==s.substr(0,"data-".length)&&(s=s.substring("data-".length),o=c.GetData(t[0],s),i[s.replace(/-([a-z])/g,n)]=o)}h.fn.jquery&&"1."==h.fn.jquery.substr(0,2)&&t[0].dataset&&(i=h.extend(!0,{},t[0].dataset,i));var a,l=h.extend(!0,{},c.GetData(t[0]),i);for(a in l=c._convertData(l))-1<e.indexOf(a)||(h.isPlainObject(this.options[a])?h.extend(this.options[a],l[a]):this.options[a]=l[a]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),c.define("select2/core",["jquery","./options","./utils","./keys"],function(e,r,o,n){function s(t,e){null!=o.GetData(t[0],"select2")&&o.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),this.options=new r(e=e||{},t),s.__super__.constructor.call(this);var e=t.attr("tabindex")||0,e=(o.StoreData(t[0],"old-tabindex",e),t.attr("tabindex","-1"),this.options.get("dataAdapter")),e=(this.dataAdapter=new e(t,this.options),this.render()),i=(this._placeContainer(e),this.options.get("selectionAdapter")),i=(this.selection=new i(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,e),this.options.get("dropdownAdapter")),i=(this.dropdown=new i(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,e),this.options.get("resultsAdapter")),n=(this.results=new i(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown),this);this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})}),t[0].classList.add("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),o.StoreData(t[0],"select2",this),t.data("select2",this)}return o.Extend(s,o.Observable),s.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+o.generateChars(2):o.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},s.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},s.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e)return null!=(n=this._resolveWidth(t,"style"))?n:this._resolveWidth(t,"element");if("element"==e)return(n=t.outerWidth(!1))<=0?"auto":n+"px";if("style"!=e)return"computedstyle"==e?window.getComputedStyle(t[0]).width:e;var n=t.attr("style");if("string"==typeof n)for(var r=n.split(";"),o=0,s=r.length;o<s;o+=1){var a=r[o].replace(/\s/g,"").match(i);if(null!==a&&1<=a.length)return a[1]}return null},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=o.bind(this._syncAttributes,this),this._syncS=o.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(t){e._syncA(),e._syncS(t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},s.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(t,e){i.trigger(t,e)})},s.prototype._registerSelectionEvents=function(){var i=this,n=["toggle","focus"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("focus",function(t){i.focus(t)}),this.selection.on("*",function(t,e){-1===n.indexOf(t)&&i.trigger(t,e)})},s.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(t,e){i.trigger(t,e)})},s.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(t,e){i.trigger(t,e)})},s.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container[0].classList.add("select2-container--open")}),this.on("close",function(){i.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){i.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){i.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){i.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(e){i.isOpen()||i.trigger("open",{}),this.dataAdapter.query(e,function(t){i.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){i.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;i.isOpen()?e===n.ESC||e===n.TAB||e===n.UP&&t.altKey?(i.close(t),t.preventDefault()):e===n.ENTER?(i.trigger("results:select",{}),t.preventDefault()):e===n.SPACE&&t.ctrlKey?(i.trigger("results:toggle",{}),t.preventDefault()):e===n.UP?(i.trigger("results:previous",{}),t.preventDefault()):e===n.DOWN&&(i.trigger("results:next",{}),t.preventDefault()):(e===n.ENTER||e===n.SPACE||e===n.DOWN&&t.altKey)&&(i.open(),t.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._isChangeMutation=function(t){var e=this;if(t.addedNodes&&0<t.addedNodes.length){for(var i=0;i<t.addedNodes.length;i++)if(t.addedNodes[i].selected)return!0}else{if(t.removedNodes&&0<t.removedNodes.length)return!0;if(Array.isArray(t))return t.some(function(t){return e._isChangeMutation(t)})}return!1},s.prototype._syncSubtree=function(t){var t=this._isChangeMutation(t),e=this;t&&this.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})},s.prototype.trigger=function(t,e){var i=s.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in n){var r={prevented:!1,name:t,args:e};if(i.call(this,n[t],r),r.prevented)return void(e.prevented=!0)}i.call(this,t,e)},s.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},s.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},s.prototype.isEnabled=function(){return!this.isDisabled()},s.prototype.isDisabled=function(){return this.options.get("disabled")},s.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},s.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},s.prototype.focus=function(t){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');t=!(t=null!=t&&0!==t.length?t:[!0])[0];this.$element.prop("disabled",t)},s.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},s.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();t=t[0];Array.isArray(t)&&(t=t.map(function(t){return t.toString()})),this.$element.val(t).trigger("input").trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",o.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),o.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),o.StoreData(t[0],"element",this.$element),t},s}),c.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){i.find(".dropdown-wrapper").append(e),e[0].classList.add("select2-dropdown--below"),i[0].classList.add("select2-container--below")},t}),c.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),c.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),r=function(h){var c,u,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(h.event.fixHooks)for(var i=t.length;i;)h.event.fixHooks[t[--i]]=h.event.mouseHooks;var f=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],n,!1);else this.onmousewheel=n;h.data(this,"mousewheel-line-height",f.getLineHeight(this)),h.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],n,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var t=h(t),e=t["offsetParent"in h.fn?"offsetParent":"parent"]();return e.length||(e=h("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(t){var e,i=t||window.event,n=d.call(arguments,1),r=0,o=0,s=0,a=0,l=0;if((t=h.event.fix(i)).type="mousewheel","detail"in i&&(s=-1*i.detail),"wheelDelta"in i&&(s=i.wheelDelta),"wheelDeltaY"in i&&(s=i.wheelDeltaY),"wheelDeltaX"in i&&(o=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=-1*s,s=0),r=0===s?o:s,"deltaY"in i&&(r=s=-1*i.deltaY),"deltaX"in i&&(o=i.deltaX,0===s)&&(r=-1*o),0!==s||0!==o)return 1===i.deltaMode?(r*=e=h.data(this,"mousewheel-line-height"),s*=e,o*=e):2===i.deltaMode&&(r*=e=h.data(this,"mousewheel-page-height"),s*=e,o*=e),e=Math.max(Math.abs(s),Math.abs(o)),(!u||e<u)&&g(i,u=e)&&(u/=40),g(i,e)&&(r/=40,o/=40,s/=40),r=Math[1<=r?"floor":"ceil"](r/u),o=Math[1<=o?"floor":"ceil"](o/u),s=Math[1<=s?"floor":"ceil"](s/u),f.settings.normalizeOffset&&this.getBoundingClientRect&&(i=this.getBoundingClientRect(),a=t.clientX-i.left,l=t.clientY-i.top),t.deltaX=o,t.deltaY=s,t.deltaFactor=u,t.offsetX=a,t.offsetY=l,t.deltaMode=0,n.unshift(t,r,o,s),c&&clearTimeout(c),c=setTimeout(p,200),(h.event.dispatch||h.event.handle).apply(this,n)}function p(){u=null}function g(t,e){return f.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof c.define&&c.define.amd?c.define("jquery-mousewheel",["jquery"],r):"object"==typeof exports?module.exports=r:r(e),c.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(r,t,o,e,s){var a;return null==r.fn.select2&&(a=["open","close","destroy"],r.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=r.extend(!0,{},e);new o(r(this),t)}),this;var i,n;if("string"==typeof e)return n=Array.prototype.slice.call(arguments,1),this.each(function(){var t=s.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,n)}),-1<a.indexOf(e)?this:i;throw new Error("Invalid arguments for Select2: "+e)}),null==r.fn.select2.defaults&&(r.fn.select2.defaults=e),o});var t,d,o,s,f,p,g,m,v,y,i,n,b,r,a={define:c.define,require:c.require};function x(t,e){return i.call(t,e)}function l(t,e){var i,n,r,o,s,a,l,h,c,u,d=e&&e.split("/"),f=v.map,p=f&&f["*"]||{};if(t){for(e=(t=t.split("/")).length-1,v.nodeIdCompat&&b.test(t[e])&&(t[e]=t[e].replace(b,"")),"."===t[0].charAt(0)&&d&&(t=d.slice(0,d.length-1).concat(t)),h=0;h<t.length;h++)"."===(u=t[h])?(t.splice(h,1),--h):".."!==u||0===h||1===h&&".."===t[2]||".."===t[h-1]||0<h&&(t.splice(h-1,2),h-=2);t=t.join("/")}if((d||p)&&f){for(h=(i=t.split("/")).length;0<h;--h){if(n=i.slice(0,h).join("/"),d)for(c=d.length;0<c;--c)if(r=(r=f[d.slice(0,c).join("/")])&&r[n]){o=r,s=h;break}if(o)break;!a&&p&&p[n]&&(a=p[n],l=h)}!o&&a&&(o=a,s=l),o&&(i.splice(0,s,o),t=i.join("/"))}return t}function _(e,i){return function(){var t=n.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),s.apply(d,t.concat([e,i]))}}function w(t){var e;if(x(m,t)&&(e=m[t],delete m[t],y[t]=!0,o.apply(d,e)),x(g,t)||x(y,t))return g[t];throw new Error("No "+t)}function h(t){var e,i=t?t.indexOf("!"):-1;return-1<i&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function k(t){return t?h(t):[]}var c=a.require("jquery.select2");return e.fn.select2.amd=a,c});